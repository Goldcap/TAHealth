if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(g,f){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/}var d=dojo.date.stamp._isoRegExp.exec(g);var c=null;if(d){d.shift();if(d[1]){d[1]--}if(d[6]){d[6]*=1000}if(f){f=new Date(f);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(h){return f["get"+h]()}).forEach(function(k,h){if(d[h]===undefined){d[h]=k}})}c=new Date(d[0]||1970,d[1]||0,d[2]||1,d[3]||0,d[4]||0,d[5]||0,d[6]||0);var b=0;var a=d[7]&&d[7].charAt(0);if(a!="Z"){b=((d[8]||0)*60)+(Number(d[9])||0);if(a!="-"){b*=-1}}if(a){b-=c.getTimezoneOffset()}if(b){c.setTime(c.getTime()+b*60000)}}return c};dojo.date.stamp.toISOString=function(m,l){var n=function(o){return(o<10)?"0"+o:o};l=l||{};var k=[];var g=l.zulu?"getUTC":"get";var h="";if(l.selector!="time"){var f=m[g+"FullYear"]();h=["0000".substr((f+"").length)+f,n(m[g+"Month"]()+1),n(m[g+"Date"]())].join("-")}k.push(h);if(l.selector!="date"){var d=[n(m[g+"Hours"]()),n(m[g+"Minutes"]()),n(m[g+"Seconds"]())].join(":");var c=m[g+"Milliseconds"]();if(l.milliseconds){d+="."+(c<100?"0":"")+n(c)}if(l.zulu){d+="Z"}else{if(l.selector!="time"){var b=m.getTimezoneOffset();var a=Math.abs(b);d+=(b>0?"-":"+")+n(Math.floor(a/60))+":"+n(a%60)}}k.push(d)}return k.join("T")}}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var k=dojo;var f=k._scopeName+"Type";var l="["+f+"]";var b=0,h={};var g=function(p,o){var q=o||h;if(dojo.isIE){var r=p.__dojoNameCache;if(r&&q[r]===p){return r}}var d;do{d="__"+b++}while(d in q);q[d]=p;return d};function c(d){if(k.isString(d)){return"string"}if(typeof d=="number"){return"number"}if(typeof d=="boolean"){return"boolean"}if(k.isFunction(d)){return"function"}if(k.isArray(d)){return"array"}if(d instanceof Date){return"date"}if(d instanceof k._Url){return"url"}return"object"}function a(p,d){switch(d){case"string":return p;case"number":return p.length?Number(p):NaN;case"boolean":return typeof p=="boolean"?p:!(p.toLowerCase()=="false");case"function":if(k.isFunction(p)){p=p.toString();p=k.trim(p.substring(p.indexOf("{")+1,p.length-1))}try{if(p.search(/[^\w\.]+/i)!=-1){p=g(new Function(p),this)}return k.getObject(p,false)}catch(o){return new Function()}case"array":return p?p.split(/\s*,\s*/):[];case"date":switch(p){case"":return new Date("");case"now":return new Date();default:return k.date.stamp.fromISOString(p)}case"url":return k.baseUrl+p;default:return k.fromJson(p)}}var n={};function m(q){if(!n[q]){var d=k.getObject(q);if(!k.isFunction(d)){throw new Error("Could not load class '"+q+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?")}var t=d.prototype;var s={},r={};for(var p in t){if(p.charAt(0)=="_"){continue}if(p in r){continue}var o=t[p];s[p]=c(o)}n[q]={cls:d,params:s}}return n[q]}this._functionFromScript=function(p){var q="";var o="";var d=p.getAttribute("args");if(d){k.forEach(d.split(/\s*,\s*/),function(t,s){q+="var "+t+" = arguments["+s+"]; "})}var r=p.getAttribute("with");if(r&&r.length){k.forEach(r.split(/\s*,\s*/),function(s){q+="with("+s+"){";o+="}"})}return new Function(q+p.innerHTML+o)};this.instantiate=function(p,o){var d=[];o=o||{};k.forEach(p,function(F){if(!F){return}var E=f in o?o[f]:F.getAttribute(f);if(!E||!E.length){return}var D=m(E),C=D.cls,q=C._noScript||C.prototype._noScript;var B={},A=F.attributes;for(var z in D.params){var y=z in o?{value:o[z],specified:true}:A.getNamedItem(z);if(!y||(!y.specified&&(!dojo.isIE||z.toLowerCase()!="value"))){continue}var x=y.value;switch(z){case"class":x="className" in o?o.className:F.className;break;case"style":x="style" in o?o.style:(F.style&&F.style.cssText)}var v=D.params[z];if(typeof x=="string"){B[z]=a(x,v)}else{B[z]=x}}if(!q){var t=[],r=[];k.query("> script[type^='dojo/']",F).orphan().forEach(function(J){var I=J.getAttribute("event"),H=J.getAttribute("type"),G=k.parser._functionFromScript(J);if(I){if(H=="dojo/connect"){t.push({event:I,func:G})}else{B[I]=G}}else{r.push(G)}})}var w=C.markupFactory;if(!w&&C.prototype){w=C.prototype.markupFactory}var u=w?w(B,F,C):new C(B,F);d.push(u);var s=F.getAttribute("jsId");if(s){k.setObject(s,u)}if(!q){k.forEach(t,function(G){k.connect(u,G.event,null,G.func)});k.forEach(r,function(G){G.call(u)})}});k.forEach(d,function(q){if(q&&q.startup&&!q._started&&(!q.getParent||!q.getParent())){q.startup()}});return d};this.parse=function(p){var o=k.query(l,p);var d=this.instantiate(o);return d}}();(function(){var a=function(){if(dojo.config.parseOnLoad==true){dojo.parser.parse()}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,a)}else{dojo._loaders.unshift(a)}})()}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(b,a){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){if(a&&a.indexOf(c)!=-1){return c}return"\\"+c})};dojo.regexp.buildGroupRE=function(c,f,g){if(!(c instanceof Array)){return f(c)}var a=[];for(var d=0;d<c.length;d++){a.push(f(c[d]))}return dojo.regexp.group(a.join("|"),g)};dojo.regexp.group=function(a,b){return"("+(b?"?:":"")+a+")"}}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(o,n,m){var k=document.cookie;if(arguments.length==1){var l=k.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(o)+"=([^;]*)"));return l?decodeURIComponent(l[1]):undefined}else{m=m||{};var a=m.expires;if(typeof a=="number"){var h=new Date();h.setTime(h.getTime()+a*24*60*60*1000);a=m.expires=h}if(a&&a.toUTCString){m.expires=a.toUTCString()}n=encodeURIComponent(n);var g=o+"="+n,f;for(f in m){g+="; "+f;var b=m[f];if(b!==true){g+="="+b}}document.cookie=g}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1})}}return navigator.cookieEnabled}}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(d,a){var b="^";var g=null;for(var f=0;f<d.length;f++){g=d.charAt(f);switch(g){case"\\":b+=g;f++;b+=d.charAt(f);break;case"*":b+=".*";break;case"?":b+=".";break;case"$":case"^":case"/":case"+":case".":case"|":case"(":case")":case"{":case"}":case"[":case"]":b+="\\";default:b+=g}}b+="$";if(a){return new RegExp(b,"mi")}else{return new RegExp(b,"m")}}}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(d,c){var f=-1;if(d===null){d=undefined}if(c===null){c=undefined}if(d==c){f=0}else{if(d>c||d==null){f=1}}return f};dojo.data.util.sorter.createSortFunction=function(a,h){var g=[];function f(l,k){return function(p,o){var n=h.getValue(p,l);var m=h.getValue(o,l);var q=null;if(h.comparatorMap){if(typeof l!=="string"){l=h.getIdentity(l)}q=h.comparatorMap[l]||dojo.data.util.sorter.basicComparator}q=q||dojo.data.util.sorter.basicComparator;return k*q(n,m)}}var d;for(var c=0;c<a.length;c++){d=a[c];if(d.attribute){var b=(d.descending)?-1:1;g.push(f(d.attribute,b))}}return function(l,k){var n=0;while(n<g.length){var m=g[n++](l,k);if(m!==0){return m}}return 0}}}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(a){a=a||{};if(!a.store){a.store=this}var d=this;var c=function(h,g){if(g.onError){var f=g.scope||dojo.global;g.onError.call(f,h,g)}};var b=function(k,q){var p=q.abort||null;var o=false;var n=q.start?q.start:0;var m=(q.count&&(q.count!==Infinity))?(n+q.count):k.length;q.abort=function(){o=true;if(p){p.call(q)}};var l=q.scope||dojo.global;if(!q.store){q.store=d}if(q.onBegin){q.onBegin.call(l,k.length,q)}if(q.sort){k.sort(dojo.data.util.sorter.createSortFunction(q.sort,d))}if(q.onItem){for(var f=n;(f<k.length)&&(f<m);++f){var h=k[f];if(!o){q.onItem.call(l,h,q)}}}if(q.onComplete&&!o){var g=null;if(!q.onItem){g=k.slice(n,m)}q.onComplete.call(l,g,q)}};this._fetchItems(a,b,c);return a}}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=a.url;this._jsonData=a.data;this._datatypeMap=a.typeMap||{};if(!this._datatypeMap.Date){this._datatypeMap.Date={type:Date,deserialize:function(b){return dojo.date.stamp.fromISOString(b)}}}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(a.urlPreventCache!==undefined){this.urlPreventCache=a.urlPreventCache?true:false}if(a.clearOnClose){this.clearOnClose=true}},url:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,_assertIsItem:function(a){if(!this.isItem(a)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.")}},_assertIsAttribute:function(a){if(typeof a!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.")}},getValue:function(c,b,a){var d=this.getValues(c,b);return(d.length>0)?d[0]:a},getValues:function(b,a){this._assertIsItem(b);this._assertIsAttribute(a);return b[a]||[]},getAttributes:function(c){this._assertIsItem(c);var b=[];for(var a in c){if((a!==this._storeRefPropName)&&(a!==this._itemNumPropName)&&(a!==this._rootItemPropName)&&(a!==this._reverseRefMap)){b.push(a)}}return b},hasAttribute:function(b,a){return this.getValues(b,a).length>0},containsValue:function(d,c,b){var a=undefined;if(typeof b==="string"){a=dojo.data.util.filter.patternToRegExp(b,false)}return this._containsValue(d,c,b,a)},_containsValue:function(b,a,d,c){return dojo.some(this.getValues(b,a),function(f){if(f!==null&&!dojo.isObject(f)&&c){if(f.toString().match(c)){return true}}else{if(d===f){return true}}})},isItem:function(a){if(a&&a[this._storeRefPropName]===this){if(this._arrayOfAllItems[a[this._itemNumPropName]]===a){return true}}return false},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(a){this._assertIsItem(a.item)},getFeatures:function(){return this._features},getLabel:function(a){if(this._labelAttr&&this.isItem(a)){return this.getValue(a,this._labelAttr)}return undefined},getLabelAttributes:function(a){if(this._labelAttr){return[this._labelAttr]}return null},_fetchItems:function(h,g,f){var d=this;var c=function(r,q){var o=[];var v,w;if(r.query){var u;var t=r.queryOptions?r.queryOptions.ignoreCase:false;var s={};for(w in r.query){u=r.query[w];if(typeof u==="string"){s[w]=dojo.data.util.filter.patternToRegExp(u,t)}}for(v=0;v<q.length;++v){var p=true;var n=q[v];if(n===null){p=false}else{for(w in r.query){u=r.query[w];if(!d._containsValue(n,w,u,s[w])){p=false}}}if(p){o.push(n)}}g(o,r)}else{for(v=0;v<q.length;++v){var m=q[v];if(m!==null){o.push(m)}}g(o,r)}};if(this._loadFinished){c(h,this._getItemsArray(h.queryOptions))}else{if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:h,filter:c})}else{this._loadInProgress=true;var b={url:d._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var a=dojo.xhrGet(b);a.addCallback(function(n){try{d._getItemsFromLoadedData(n);d._loadFinished=true;d._loadInProgress=false;c(h,d._getItemsArray(h.queryOptions));d._handleQueuedFetches()}catch(m){d._loadFinished=true;d._loadInProgress=false;f(m,h)}});a.addErrback(function(m){d._loadInProgress=false;f(m,h)});var l=null;if(h.abort){l=h.abort}h.abort=function(){var m=a;if(m&&m.fired===-1){m.cancel();m=null}if(l){l.call(h)}}}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;c(h,this._getItemsArray(h.queryOptions))}catch(k){f(k,h)}}else{f(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),h)}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var d=0;d<this._queuedFetches.length;d++){var c=this._queuedFetches[d];var b=c.args;var a=c.filter;if(a){a(b,this._getItemsArray(b.queryOptions))}else{this.fetchItemByIdentity(b)}}this._queuedFetches=[]}},_getItemsArray:function(a){if(a&&a.deep){return this._arrayOfAllItems}return this._arrayOfTopLevelItems},close:function(a){if(this.clearOnClose&&(this._jsonFileUrl!=="")){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[]}},_getItemsFromLoadedData:function(c){var b=false;function a(k){var A=((k!==null)&&(typeof k==="object")&&(!dojo.isArray(k)||b)&&(!dojo.isFunction(k))&&(k.constructor==Object||dojo.isArray(k))&&(typeof k._reference==="undefined")&&(typeof k._type==="undefined")&&(typeof k._value==="undefined"));return A}var n=this;function l(F){n._arrayOfAllItems.push(F);for(var E in F){var D=F[E];if(D){if(dojo.isArray(D)){var C=D;for(var A=0;A<C.length;++A){var B=C[A];if(a(B)){l(B)}}}else{if(a(D)){l(D)}}}}}this._labelAttr=c.label;var t;var m;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=c.items;for(t=0;t<this._arrayOfTopLevelItems.length;++t){m=this._arrayOfTopLevelItems[t];if(dojo.isArray(m)){b=true}l(m);m[this._rootItemPropName]=true}var h={};var z;for(t=0;t<this._arrayOfAllItems.length;++t){m=this._arrayOfAllItems[t];for(z in m){if(z!==this._rootItemPropName){var g=m[z];if(g!==null){if(!dojo.isArray(g)){m[z]=[g]}}else{m[z]=[null]}}h[z]=z}}while(h[this._storeRefPropName]){this._storeRefPropName+="_"}while(h[this._itemNumPropName]){this._itemNumPropName+="_"}while(h[this._reverseRefMap]){this._reverseRefMap+="_"}var f;var d=c.identifier;if(d){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=d;for(t=0;t<this._arrayOfAllItems.length;++t){m=this._arrayOfAllItems[t];f=m[d];var y=f[0];if(!this._itemsByIdentity[y]){this._itemsByIdentity[y]=m}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+d+"].  Value collided: ["+y+"]")}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+d+"].  Value collided: ["+y+"]")}}}}}else{this._features["dojo.data.api.Identity"]=Number}for(t=0;t<this._arrayOfAllItems.length;++t){m=this._arrayOfAllItems[t];m[this._storeRefPropName]=this;m[this._itemNumPropName]=t}for(t=0;t<this._arrayOfAllItems.length;++t){m=this._arrayOfAllItems[t];for(z in m){f=m[z];for(var r=0;r<f.length;++r){g=f[r];if(g!==null&&typeof g=="object"){if(g._type&&g._value){var x=g._type;var w=this._datatypeMap[x];if(!w){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+x+"'")}else{if(dojo.isFunction(w)){f[r]=new w(g._value)}else{if(dojo.isFunction(w.deserialize)){f[r]=w.deserialize(g._value)}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function")}}}}if(g._reference){var v=g._reference;if(!dojo.isObject(v)){f[r]=this._itemsByIdentity[v]}else{for(var p=0;p<this._arrayOfAllItems.length;++p){var u=this._arrayOfAllItems[p];var s=true;for(var q in v){if(u[q]!=v[q]){s=false}}if(s){f[r]=u}}}if(this.referenceIntegrity){var o=f[r];if(this.isItem(o)){this._addReferenceToMap(o,m,z)}}}else{if(this.isItem(g)){if(this.referenceIntegrity){this._addReferenceToMap(g,m,z)}}}}}}}},_addReferenceToMap:function(c,b,a){},getIdentity:function(c){var b=this._features["dojo.data.api.Identity"];if(b===Number){return c[this._itemNumPropName]}else{var a=c[b];if(a){return a[0]}}return null},fetchItemByIdentity:function(g){var f;var d;if(!this._loadFinished){var c=this;if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:g})}else{this._loadInProgress=true;var b={url:c._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var a=dojo.xhrGet(b);a.addCallback(function(h){var l=g.scope?g.scope:dojo.global;try{c._getItemsFromLoadedData(h);c._loadFinished=true;c._loadInProgress=false;f=c._getItemByIdentity(g.identity);if(g.onItem){g.onItem.call(l,f)}c._handleQueuedFetches()}catch(k){c._loadInProgress=false;if(g.onError){g.onError.call(l,k)}}});a.addErrback(function(k){c._loadInProgress=false;if(g.onError){var h=g.scope?g.scope:dojo.global;g.onError.call(h,k)}})}}else{if(this._jsonData){c._getItemsFromLoadedData(c._jsonData);c._jsonData=null;c._loadFinished=true;f=c._getItemByIdentity(g.identity);if(g.onItem){d=g.scope?g.scope:dojo.global;g.onItem.call(d,f)}}}}else{f=this._getItemByIdentity(g.identity);if(g.onItem){d=g.scope?g.scope:dojo.global;g.onItem.call(d,f)}}},_getItemByIdentity:function(b){var a=null;if(this._itemsByIdentity){a=this._itemsByIdentity[b]}else{a=this._arrayOfAllItems[b]}if(a===undefined){a=null}return a},getIdentityAttributes:function(b){var a=this._features["dojo.data.api.Identity"];if(a===Number){return null}else{return[a]}},_forceLoad:function(){var c=this;if(this._jsonFileUrl){var b={url:c._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,sync:true};var a=dojo.xhrGet(b);a.addCallback(function(d){try{if(c._loadInProgress!==true&&!c._loadFinished){c._getItemsFromLoadedData(d);c._loadFinished=true}else{if(c._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.")}}}catch(f){throw f}});a.addErrback(function(d){throw d})}else{if(this._jsonData){c._getItemsFromLoadedData(c._jsonData);c._jsonData=null;c._loadFinished=true}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch)}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var c=dojo.doc;if(c.selection){var d=c.selection;if(d.type=="Text"){return !d.createRange().htmlText.length}else{return !d.createRange().length}}else{var b=dojo.global;var a=b.getSelection();if(dojo.isString(a)){return !a}else{return !a||a.isCollapsed||!a.toString()}}},getBookmark:function(){var f,d=dojo.doc.selection;if(d){var c=d.createRange();if(d.type.toUpperCase()=="CONTROL"){if(c.length){f=[];var b=0,a=c.length;while(b<a){f.push(c.item(b++))}}else{f=null}}else{f=c.getBookmark()}}else{if(window.getSelection){d=dojo.global.getSelection();if(d){c=d.getRangeAt(0);f=c.cloneRange()}}else{console.warn("No idea how to store the current selection for this browser!")}}return f},moveToBookmark:function(d){var c=dojo.doc;if(c.selection){var b;if(dojo.isArray(d)){b=c.body.createControlRange();dojo.forEach(d,function(f){b.addElement(f)})}else{b=c.selection.createRange();b.moveToBookmark(d)}b.select()}else{var a=dojo.global.getSelection&&dojo.global.getSelection();if(a&&a.removeAllRanges){a.removeAllRanges();a.addRange(d)}else{console.warn("No idea how to restore selection for this browser!")}}},getFocus:function(b,a){return{node:b&&dojo.isDescendant(dijit._curFocus,b.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(a||dojo.global,dijit.isCollapsed)?dojo.withGlobal(a||dojo.global,dijit.getBookmark):null,openedForWindow:a}},focus:function(d){if(!d){return}var f="node" in d?d.node:d,c=d.bookmark,b=d.openedForWindow;if(f){var a=(f.tagName.toLowerCase()=="iframe")?f.contentWindow:f;if(a&&a.focus){try{a.focus()}catch(g){}}dijit._onFocusNode(f)}if(c&&dojo.withGlobal(b||dojo.global,dijit.isCollapsed)){if(b){b.focus()}try{dojo.withGlobal(b||dojo.global,dijit.moveToBookmark,null,[c])}catch(g){}}},_activeStack:[],registerIframe:function(a){dijit.registerWin(a.contentWindow,a)},registerWin:function(c,a){dojo.connect(c.document,"onmousedown",function(d){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false},0);dijit._onTouchNode(a||d.target||d.srcElement)});var b=c.document;if(b){if(dojo.isIE){b.attachEvent("onactivate",function(d){if(d.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(a||d.srcElement)}});b.attachEvent("ondeactivate",function(d){dijit._onBlurNode(a||d.srcElement)})}else{b.addEventListener("focus",function(d){dijit._onFocusNode(a||d.target)},true);b.addEventListener("blur",function(d){dijit._onBlurNode(a||d.target)},true)}}b=null},_onBlurNode:function(a){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer)}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null},100)},_onTouchNode:function(a){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer}var b=[];try{while(a){if(a.dijitPopupParent){a=dijit.byId(a.dijitPopupParent).domNode}else{if(a.tagName&&a.tagName.toLowerCase()=="body"){if(a===dojo.body()){break}a=dijit.getDocumentWindow(a.ownerDocument).frameElement}else{var d=a.getAttribute&&a.getAttribute("widgetId");if(d){b.unshift(d)}a=a.parentNode}}}}catch(c){}dijit._setStack(b)},_onFocusNode:function(a){if(!a){return}if(a.nodeType==9){return}dijit._onTouchNode(a);if(a==dijit._curFocus){return}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus}dijit._curFocus=a;dojo.publish("focusNode",[a])},_setStack:function(d){var b=dijit._activeStack;dijit._activeStack=d;for(var a=0;a<Math.min(b.length,d.length);a++){if(b[a]!=d[a]){break}}for(var c=b.length-1;c>=a;c--){var f=dijit.byId(b[c]);if(f){f._focused=false;f._hasBeenBlurred=true;if(f._onBlur){f._onBlur()}if(f._setStateClass){f._setStateClass()}dojo.publish("widgetBlur",[f])}}for(c=a;c<d.length;c++){f=dijit.byId(d[c]);if(f){f._focused=true;if(f._onFocus){f._onFocus()}if(f._setStateClass){f._setStateClass()}dojo.publish("widgetFocus",[f])}}}});dojo.addOnLoad(function(){dijit.registerWin(window)})}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={}},add:function(a){if(this._hash[a.id]){throw new Error("Tried to register widget with id=="+a.id+" but that id is already registered")}this._hash[a.id]=a},remove:function(a){delete this._hash[a]},forEach:function(a){for(var b in this._hash){a(this._hash[b])}},filter:function(a){var b=new dijit.WidgetSet();this.forEach(function(c){if(a(c)){b.add(c)}});return b},byId:function(a){return this._hash[a]},byClass:function(a){return this.filter(function(b){return b.declaredClass==a})}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(a){var b;do{b=a+"_"+(a in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[a]:dijit._widgetTypeCtr[a]=0)}while(dijit.byId(b));return b};dijit.findWidgets=function(a){var c=[];function b(d){var l=dojo.isIE?d.children:d.childNodes,h=0,k;while(k=l[h++]){if(k.nodeType!=1){continue}var g=k.getAttribute("widgetId");if(g){var f=dijit.byId(g);c.push(f)}else{b(k)}}}b(a);return c};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(a){if(a.destroyRecursive){a.destroyRecursive()}else{if(a.destroy){a.destroy()}}})})}dijit.byId=function(a){return(dojo.isString(a))?dijit.registry.byId(a):a};dijit.byNode=function(a){return dijit.registry.byId(a.getAttribute("widgetId"))};dijit.getEnclosingWidget=function(a){while(a){if(a.getAttribute&&a.getAttribute("widgetId")){return dijit.registry.byId(a.getAttribute("widgetId"))}a=a.parentNode}return null};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(a){var b=dojo.style(a);return(b.visibility!="hidden")&&(b.visibility!="collapsed")&&(b.display!="none")&&(dojo.attr(a,"type")!="hidden")};dijit.isTabNavigable=function(c){if(dojo.hasAttr(c,"disabled")){return false}var d=dojo.hasAttr(c,"tabindex");var b=dojo.attr(c,"tabindex");if(d&&b>=0){return true}var a=c.nodeName.toLowerCase();if(((a=="a"&&dojo.hasAttr(c,"href"))||dijit._tabElements[a])&&(!d||b>=0)){return true}return false};dijit._getTabNavigable=function(a){var k,h,g,f,c,d;var b=function(l){dojo.query("> *",l).forEach(function(o){var n=dijit._isElementShown(o);if(n&&dijit.isTabNavigable(o)){var m=dojo.attr(o,"tabindex");if(!dojo.hasAttr(o,"tabindex")||m==0){if(!k){k=o}h=o}else{if(m>0){if(!g||m<f){f=m;g=o}if(!c||m>=d){d=m;c=o}}}}if(n&&o.nodeName.toUpperCase()!="SELECT"){b(o)}})};if(dijit._isElementShown(a)){b(a)}return{first:k,last:h,lowest:g,highest:c}};dijit.getFirstInTabbingOrder=function(a){var b=dijit._getTabNavigable(dojo.byId(a));return b.lowest?b.lowest:b.first};dijit.getLastInTabbingOrder=function(a){var b=dijit._getTabNavigable(dojo.byId(a));return b.last?b.last:b.highest};dijit.defaultDuration=dojo.config.defaultDuration||200}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(a){this.pairs=[];this.returnWrappers=a||false};dojo.extend(dojo.AdapterRegistry,{register:function(a,f,b,d,c){this.pairs[((c)?"unshift":"push")]([a,f,b,d])},match:function(){for(var a=0;a<this.pairs.length;a++){var b=this.pairs[a];if(b[1].apply(this,arguments)){if((b[3])||(this.returnWrappers)){return b[2]}else{return b[2].apply(this,arguments)}}}throw new Error("No match found")},unregister:function(a){for(var b=0;b<this.pairs.length;b++){var c=this.pairs[b];if(c[0]==a){this.pairs.splice(b,1);return true}}return false}})}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var b=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var a=dojo._docScroll();return{w:b.clientWidth,h:b.clientHeight,l:a.x,t:a.y}};dijit.placeOnScreen=function(c,f,d,b){var a=dojo.map(d,function(g){var h={corner:g,pos:{x:f.x,y:f.y}};if(b){h.pos.x+=g.charAt(1)=="L"?b.x:-b.x;h.pos.y+=g.charAt(0)=="T"?b.y:-b.y}return h});return dijit._place(c,a)};dijit._place=function(b,c,f){var a=dijit.getViewport();if(!b.parentNode||String(b.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(b)}var d=null;dojo.some(c,function(q){var p=q.corner;var s=q.pos;if(f){f(b,q.aroundCorner,p)}var n=b.style;var m=n.display;var k=n.visibility;n.visibility="hidden";n.display="";var t=dojo.marginBox(b);n.display=m;n.visibility=k;var r=(p.charAt(1)=="L"?s.x:Math.max(a.l,s.x-t.w)),o=(p.charAt(0)=="T"?s.y:Math.max(a.t,s.y-t.h)),v=(p.charAt(1)=="L"?Math.min(a.l+a.w,r+t.w):s.x),u=(p.charAt(0)=="T"?Math.min(a.t+a.h,o+t.h):s.y),l=v-r,h=u-o,g=(t.w-l)+(t.h-h);if(d==null||g<d.overflow){d={corner:p,aroundCorner:q.aroundCorner,x:r,y:o,w:l,h:h,overflow:g}}return !g});b.style.left=d.x+"px";b.style.top=d.y+"px";if(d.overflow&&f){f(b,d.aroundCorner,d.corner)}return d};dijit.placeOnScreenAroundNode=function(f,k,h,g){k=dojo.byId(k);var d=k.style.display;k.style.display="";var c=k.offsetWidth;var b=k.offsetHeight;var a=dojo.coords(k,true);k.style.display=d;return dijit._placeOnScreenAroundRect(f,a.x,a.y,c,b,h,g)};dijit.placeOnScreenAroundRectangle=function(d,c,b,a){return dijit._placeOnScreenAroundRect(d,c.x,c.y,c.width,c.height,b,a)};dijit._placeOnScreenAroundRect=function(a,f,c,l,k,h,g){var d=[];for(var b in h){d.push({aroundCorner:b,corner:h[b],pos:{x:f+(b.charAt(1)=="L"?0:l),y:c+(b.charAt(0)=="T"?0:k)}})}return dijit._place(a,d,g)};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(b,a){return typeof a=="object"&&typeof a.offsetWidth!="undefined"&&typeof a.offsetHeight!="undefined"},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(b,a){return typeof a=="object"&&"x" in a&&"y" in a&&"width" in a&&"height" in a},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(c,d,b,a){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments)}}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(b){if(dojo.isIE&&window!==document.parentWindow&&!b._parentWindow){b.parentWindow.execScript("document._parentWindow = window;","Javascript");var a=b._parentWindow;b._parentWindow=null;return a}return b._parentWindow||b.parentWindow||b.defaultView}}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var c=[],b=1000,a=1;this.prepare=function(f){var d=f.style;d.visibility="hidden";d.position="absolute";d.top="-9999px";if(d.display=="none"){d.display=""}dojo.body().appendChild(f)};this.open=function(g){var n=g.popup,m=g.orient||{BL:"TL",TL:"BL"},k=g.around,d=(g.around&&g.around.id)?(g.around.id+"_dropdown"):("popup_"+a++);var p=dojo.create("div",{id:d,"class":"dijitPopup",style:{zIndex:b+c.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(p,"presentation");p.style.left=p.style.top="0px";if(g.parent){p.dijitPopupParent=g.parent.id}var q=n.domNode.style;q.display="";q.visibility="";q.position="";q.top="0px";p.appendChild(n.domNode);var o=new dijit.BackgroundIframe(p);var f=k?dijit.placeOnScreenAroundElement(p,k,m,n.orient?dojo.hitch(n,"orient"):null):dijit.placeOnScreen(p,g,m=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],g.padding);p.style.visibility="visible";var l=[];var h=function(){for(var r=c.length-1;r>0&&c[r].parent===c[r-1].widget;r--){}return c[r]};l.push(dojo.connect(p,"onkeypress",this,function(r){if(r.charOrCode==dojo.keys.ESCAPE&&g.onCancel){dojo.stopEvent(r);g.onCancel()}else{if(r.charOrCode===dojo.keys.TAB){dojo.stopEvent(r);var s=h();if(s&&s.onCancel){s.onCancel()}}}}));if(n.onCancel){l.push(dojo.connect(n,"onCancel",null,g.onCancel))}l.push(dojo.connect(n,n.onExecute?"onExecute":"onChange",null,function(){var r=h();if(r&&r.onExecute){r.onExecute()}}));c.push({wrapper:p,iframe:o,widget:n,parent:g.parent,onExecute:g.onExecute,onCancel:g.onCancel,onClose:g.onClose,handlers:l});if(n.onOpen){n.onOpen(f)}return f};this.close=function(g){while(dojo.some(c,function(m){return m.widget==g})){var h=c.pop(),d=h.wrapper,l=h.iframe,k=h.widget,f=h.onClose;if(k.onClose){k.onClose()}dojo.forEach(h.handlers,dojo.disconnect);if(!k||!k.domNode){return}this.prepare(k.domNode);l.destroy();dojo.destroy(d);if(f){f()}}}}();dijit._frames=new function(){var a=[];this.pop=function(){var b;if(a.length){b=a.pop();b.style.display=""}else{if(dojo.isIE){var d=dojo.config.dojoBlankHtmlUrl||(dojo.moduleUrl("dojo","resources/blank.html")+"")||'javascript:""';var c="<iframe src='"+d+"' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>";b=dojo.doc.createElement(c)}else{b=dojo.create("iframe");b.src='javascript:""';b.className="dijitBackgroundIframe"}b.tabIndex=-1;dojo.body().appendChild(b)}return b};this.push=function(b){b.style.display="none";if(dojo.isIE){b.style.removeExpression("width");b.style.removeExpression("height")}a.push(b)}}();dijit.BackgroundIframe=function(a){if(!a.id){throw new Error("no id")}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var b=dijit._frames.pop();a.appendChild(b);if(dojo.isIE){b.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+a.id+"').offsetWidth");b.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+a.id+"').offsetHeight")}this.iframe=b}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe}}})}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(A){try{A=dojo.byId(A);var I=dojo.doc;var o=dojo.body();var p=o.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||A==o||A==p)&&(typeof A.scrollIntoView=="function")){A.scrollIntoView(false);return}var E=dojo._isBodyLtr();var D=dojo.isIE>=8&&!C;var l=!E&&!D;var H=o;var C=I.compatMode=="BackCompat";if(C){p._offsetWidth=p._clientWidth=o._offsetWidth=o.clientWidth;p._offsetHeight=p._clientHeight=o._offsetHeight=o.clientHeight}else{if(dojo.isWebKit){o._offsetWidth=o._clientWidth=p.clientWidth;o._offsetHeight=o._clientHeight=p.clientHeight}else{H=p}p._offsetHeight=p.clientHeight;p._offsetWidth=p.clientWidth}function G(J){var K=dojo.isIE;return((K<=6||(K>=7&&C))?false:(dojo.style(J,"position").toLowerCase()=="fixed"))}function F(P){var J=P.parentNode;var O=P.offsetParent;if(O==null||G(P)){O=p;J=(P==o)?p:null}P._offsetParent=O;P._parent=J;var M=dojo._getBorderExtents(P);P._borderStart={H:(D&&!E)?(M.w-M.l):M.l,V:M.t};P._borderSize={H:M.w,V:M.h};P._scrolledAmount={H:P.scrollLeft,V:P.scrollTop};P._offsetSize={H:P._offsetWidth||P.offsetWidth,V:P._offsetHeight||P.offsetHeight};P._offsetStart={H:(D&&!E)?O.clientWidth-P.offsetLeft-P._offsetSize.H:P.offsetLeft,V:P.offsetTop};P._clientSize={H:P._clientWidth||P.clientWidth,V:P._clientHeight||P.clientHeight};if(P!=o&&P!=p&&P!=A){for(var K in P._offsetSize){var N=P._offsetSize[K]-P._clientSize[K]-P._borderSize[K];var L=P._clientSize[K]>0&&N>0;if(L){P._offsetSize[K]-=N;if(dojo.isIE&&l&&K=="H"){P._offsetStart[K]+=N}}}}}var f=A;while(f!=null){if(G(f)){A.scrollIntoView(false);return}F(f);f=f._parent}if(dojo.isIE&&A._parent){var c=A._offsetParent;A._offsetStart.H+=c._borderStart.H;A._offsetStart.V+=c._borderStart.V}if(dojo.isIE>=7&&H==p&&l&&o._offsetStart&&o._offsetStart.H==0){var a=p.scrollWidth-p._offsetSize.H;if(a>0){o._offsetStart.H=-a}}if(dojo.isIE<=6&&!C){p._offsetSize.H+=p._borderSize.H;p._offsetSize.V+=p._borderSize.V}if(l&&o._offsetStart&&H==p&&p._scrolledAmount){var z=o._offsetStart.H;if(z<0){p._scrolledAmount.H+=z;o._offsetStart.H=0}}f=A;while(f){var k=f._parent;if(!k){break}if(k.tagName=="TD"){var h=k._parent._parent._parent;if(k!=f._offsetParent&&k._offsetParent!=f._offsetParent){k=h}}var g=f._offsetParent==k;for(var y in f._offsetStart){var d=y=="H"?"V":"H";if(l&&y=="H"&&(k!=p)&&(k!=o)&&(dojo.isIE||dojo.isWebKit)&&k._clientSize.H>0&&k.scrollWidth>k._clientSize.H){var b=k.scrollWidth-k._clientSize.H;if(b>0){k._scrolledAmount.H-=b}}if(k._offsetParent.tagName=="TABLE"){if(dojo.isIE){k._offsetStart[y]-=k._offsetParent._borderStart[y];k._borderStart[y]=k._borderSize[y]=0}else{k._offsetStart[y]+=k._offsetParent._borderStart[y]}}if(dojo.isIE){k._offsetStart[y]+=k._offsetParent._borderStart[y]}var w=f._offsetStart[y]-k._scrolledAmount[y]-(g?0:k._offsetStart[y])-k._borderStart[y];var v=w+f._offsetSize[y]-k._offsetSize[y]+k._borderSize[y];var u=(y=="H")?"scrollLeft":"scrollTop";var t=y=="H"&&l;var s=t?-v:w;var r=t?-w:v;var q=(s*r<=0)?0:Math[(s<0)?"max":"min"](s,r);if(q!=0){var n=k[u];k[u]+=(t)?-q:q;var m=k[u]-n}if(g){f._offsetStart[y]+=k._offsetStart[y]}f._offsetStart[y]-=k[u]}f._parent=k._parent;f._offsetParent=k._offsetParent}k=A;var x;while(k&&k.removeAttribute){x=k.parentNode;k.removeAttribute("_offsetParent");k.removeAttribute("_parent");k=x}}catch(B){console.error("scrollIntoView: "+B);A.scrollIntoView(false)}}}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var m=dojo,l=m.doc.documentElement,a=m.isIE,k=m.isOpera,h=Math.floor,b=m.isFF,g=m.boxModel.replace(/-/,""),f={dj_ie:a,dj_ie6:h(a)==6,dj_ie7:h(a)==7,dj_iequirks:a&&m.isQuirks,dj_opera:k,dj_opera8:h(k)==8,dj_opera9:h(k)==9,dj_khtml:m.isKhtml,dj_webkit:m.isWebKit,dj_safari:m.isSafari,dj_gecko:m.isMozilla,dj_ff2:h(b)==2,dj_ff3:h(b)==3};f["dj_"+g]=true;for(var c in f){if(f[c]){if(l.className){l.className+=" "+c}else{l.className=c}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){l.className+=" dijitRtl";for(var d in f){if(f[d]){l.className+=" "+d+"-rtl"}}}})})()}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,h,c,f,d,b,g){if(d!=this._obj){this.stop();this._initialDelay=g||500;this._subsequentDelay=b||0.9;this._obj=d;this._evt=a;this._node=c;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(h,f);this._fireEventAndReload()}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null}},addKeyListener:function(d,g,f,c,b,a){if(g.keyCode){g.charOrCode=g.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0")}else{if(g.charCode){g.charOrCode=String.fromCharCode(g.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0")}}return[dojo.connect(d,"onkeypress",this,function(h){if(h.charOrCode==g.charOrCode&&(g.ctrlKey===undefined||g.ctrlKey==h.ctrlKey)&&(g.altKey===undefined||g.altKey==h.ctrlKey)&&(g.shiftKey===undefined||g.shiftKey==h.ctrlKey)){dojo.stopEvent(h);dijit.typematic.trigger(g,f,d,c,g,b,a)}else{if(dijit.typematic._obj==g){dijit.typematic.stop()}}}),dojo.connect(d,"onkeyup",this,function(h){if(dijit.typematic._obj==g){dijit.typematic.stop()}})]},addMouseListener:function(c,g,f,d,b){var a=dojo.connect;return[a(c,"mousedown",this,function(h){dojo.stopEvent(h);dijit.typematic.trigger(h,g,c,f,c,d,b)}),a(c,"mouseup",this,function(h){dojo.stopEvent(h);dijit.typematic.stop()}),a(c,"mouseout",this,function(h){dojo.stopEvent(h);dijit.typematic.stop()}),a(c,"mousemove",this,function(h){dojo.stopEvent(h)}),a(c,"dblclick",this,function(h){dojo.stopEvent(h);if(dojo.isIE){dijit.typematic.trigger(h,g,c,f,c,d,b);setTimeout(dojo.hitch(this,dijit.typematic.stop),50)}})]},addListener:function(h,f,g,d,c,b,a){return this.addKeyListener(f,g,d,c,b,a).concat(this.addMouseListener(h,d,c,b,a))}}}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var d=dojo.create("div",{id:"a11yTestNode",style:{cssText:'border: 1px solid;border-color:red green;position: absolute;height: 5px;top: -999px;background-image: url("'+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+'");'}},dojo.body());var a=dojo.getComputedStyle(d);if(a){var c=a.backgroundImage;var b=(a.borderTopColor==a.borderRightColor)||(c!=null&&(c=="none"||c=="url(invalid-url:)"));dojo[b?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){d.outerHTML=""}else{dojo.body().removeChild(d)}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload)}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(a,c){var b=this.getWaiRole(a);return c?(b.indexOf(c)>-1):(b.length>0)},getWaiRole:function(a){return dojo.trim((dojo.attr(a,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""))},setWaiRole:function(d,f){var b=dojo.attr(d,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(b)){dojo.attr(d,"role",dojo.isFF<3?"wairole:"+f:f)}else{if((" "+b+" ").indexOf(" "+f+" ")<0){var c=dojo.trim(b.replace(this._XhtmlRoles,""));var a=dojo.trim(b.replace(c,""));dojo.attr(d,"role",a+(a?" ":"")+f)}}},removeWaiRole:function(d,f){var b=dojo.attr(d,"role");if(!b){return}if(f){var a=dojo.isFF<3?"wairole:"+f:f;var c=dojo.trim((" "+b+" ").replace(" "+a+" "," "));dojo.attr(d,"role",c)}else{d.removeAttribute("role")}},hasWaiState:function(a,b){if(dojo.isFF<3){return a.hasAttributeNS("http://www.w3.org/2005/07/aaa",b)}return a.hasAttribute?a.hasAttribute("aria-"+b):!!a.getAttribute("aria-"+b)},getWaiState:function(b,a){if(dojo.isFF<3){return b.getAttributeNS("http://www.w3.org/2005/07/aaa",a)}return b.getAttribute("aria-"+a)||""},setWaiState:function(a,c,b){if(dojo.isFF<3){a.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+c,b)}else{a.setAttribute("aria-"+c,b)}},removeWaiState:function(a,b){if(dojo.isFF<3){a.removeAttributeNS("http://www.w3.org/2005/07/aaa",b)}else{a.removeAttribute("aria-"+b)}}})}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base")}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(b,a){if(b&&dojo.isFunction(b._onConnect)){b._onConnect(a)}});dijit._connectOnUseEventHandler=function(a){};(function(){var b={};var a=function(f){if(!b[f]){var g=[];var d;var c=dojo.getObject(f).prototype;for(var h in c){if(dojo.isFunction(c[h])&&(d=h.match(/^_set([a-zA-Z]*)Attr$/))&&d[1]){g.push(d[1].charAt(0).toLowerCase()+d[1].substr(1))}}b[f]=g}return b[f]||[]};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(d,c){this.create(d,c)},create:function(f,d){this.srcNodeRef=dojo.byId(d);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var c in this.attributeMap){delete this._deferredConnects[c]}for(c in this._deferredConnects){if(this[c]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[c]}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id}if(f){this.params=f;dojo.mixin(this,f)}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"))}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var g=this.srcNodeRef;if(g&&g.parentNode){g.parentNode.replaceChild(this.domNode,g)}for(c in this.params){this._onConnect(c)}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id)}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef}this._created=true},_applyAttributes:function(){var d=function(f,g){if((g.params&&f in g.params)||g[f]){g.attr(f,g[f])}};for(var c in this.attributeMap){d(c,this)}dojo.forEach(a(this.declaredClass),function(f){if(!(f in this.attributeMap)){d(f,this)}},this)},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div")},postCreate:function(){},startup:function(){this._started=true},destroyRecursive:function(c){this.destroyDescendants(c);this.destroy(c)},destroy:function(c){this.uninitialize();dojo.forEach(this._connects,function(d){dojo.forEach(d,dojo.disconnect)});dojo.forEach(this._supportingWidgets||[],function(d){if(d.destroy){d.destroy()}});this.destroyRendering(c);dijit.registry.remove(this.id)},destroyRendering:function(c){if(this.bgIframe){this.bgIframe.destroy(c);delete this.bgIframe}if(this.domNode){if(c){dojo.removeAttr(this.domNode,"widgetId")}else{dojo.destroy(this.domNode)}delete this.domNode}if(this.srcNodeRef){if(!c){dojo.destroy(this.srcNodeRef)}delete this.srcNodeRef}},destroyDescendants:function(c){dojo.forEach(this.getChildren(),function(d){if(d.destroyRecursive){d.destroyRecursive(c)}})},uninitialize:function(){return false},onFocus:function(){},onBlur:function(){},_onFocus:function(c){this.onFocus()},_onBlur:function(){this.onBlur()},_onConnect:function(d){if(d in this._deferredConnects){var c=this[this._deferredConnects[d]||"domNode"];this.connect(c,d.toLowerCase(),d);delete this._deferredConnects[d]}},_setClassAttr:function(c){var d=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(d,this["class"]);this["class"]=c;dojo.addClass(d,c)},_setStyleAttr:function(c){var d=this[this.attributeMap.style||"domNode"];if(dojo.isObject(c)){dojo.style(d,c)}else{if(d.style.cssText){d.style.cssText+="; "+c}else{d.style.cssText=c}}this["style"]=c},setAttribute:function(c,d){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(c,d)},_attrToDom:function(c,f){var d=this.attributeMap[c];dojo.forEach(dojo.isArray(d)?d:[d],function(h){var g=this[h.node||h||"domNode"];var k=h.type||"attribute";switch(k){case"attribute":if(dojo.isFunction(f)){f=dojo.hitch(this,f)}if(/^on[A-Z][a-zA-Z]*$/.test(c)){c=c.toLowerCase()}dojo.attr(g,c,f);break;case"innerHTML":g.innerHTML=f;break;case"class":dojo.removeClass(g,this[c]);dojo.addClass(g,f);break}},this);this[c]=f},attr:function(g,h){var f=arguments.length;if(f==1&&!dojo.isString(g)){for(var c in g){this.attr(c,g[c])}return this}var d=this._getAttrNames(g);if(f==2){if(this[d.s]){return this[d.s](h)||this}else{if(g in this.attributeMap){this._attrToDom(g,h)}this[g]=h}return this}else{if(this[d.g]){return this[d.g]()}else{return this[g]}}},_attrPairNames:{},_getAttrNames:function(f){var c=this._attrPairNames;if(c[f]){return c[f]}var d=f.charAt(0).toUpperCase()+f.substr(1);return c[f]={n:f+"Node",s:"_set"+d+"Attr",g:"_get"+d+"Attr"}},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getDescendants:function(){if(this.containerNode){var c=dojo.query("[widgetId]",this.containerNode);return c.map(dijit.byNode)}else{return[]}},getChildren:function(){if(this.containerNode){return dijit.findWidgets(this.containerNode)}else{return[]}},nodesWithKeyClick:["input","button"],connect:function(k,n,h){var l=dojo;var f=dojo.connect;var g=[];if(n=="ondijitclick"){if(!this.nodesWithKeyClick[k.nodeName]){var c=l.hitch(this,h);g.push(f(k,"onkeydown",this,function(d){if(!l.isFF&&d.keyCode==l.keys.ENTER&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}else{if(d.keyCode==l.keys.SPACE){l.stopEvent(d)}}}),f(k,"onkeyup",this,function(d){if(d.keyCode==l.keys.SPACE&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}}));if(l.isFF){g.push(f(k,"onkeypress",this,function(d){if(d.keyCode==l.keys.ENTER&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}}))}}n="onclick"}g.push(f(k,n,this,h));this._connects.push(g);return g},disconnect:function(d){for(var c=0;c<this._connects.length;c++){if(this._connects[c]==d){dojo.forEach(d,dojo.disconnect);this._connects.splice(c,1);return}}},isLeftToRight:function(){return dojo._isBodyLtr()},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none")},placeAt:function(d,c){if(d.declaredClass&&d.addChild){d.addChild(this,c)}else{dojo.place(this.domNode,d,c)}return this}})})()}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){for(var b=this.domNode.parentNode;b;b=b.parentNode){var c=b.getAttribute&&b.getAttribute("widgetId");if(c){var a=dijit.byId(c);return a.isContainer?a:null}}return null},_getSibling:function(a){var b=this.domNode;do{b=b[a+"Sibling"]}while(b&&b.nodeType!=1);if(!b){return null}var c=b.getAttribute("widgetId");return dijit.byId(c)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var a=this.getParent();if(!a||!a.getIndexOfChild){return -1}return a.getIndexOfChild(this)}})}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}},addChild:function(b,a){var d=this.containerNode;if(a&&typeof a=="number"){var c=this.getChildren();if(c&&c.length>=a){d=c[a-1].domNode;a="after"}}dojo.place(b.domNode,d,a);if(this._started&&!b._started){b.startup()}},removeChild:function(b){if(typeof b=="number"&&b>0){b=this.getChildren()[b]}if(!b||!b.domNode){return}var a=b.domNode;a.parentNode.removeChild(a)},_nextElement:function(a){do{a=a.nextSibling}while(a&&a.nodeType!=1);return a},_firstElement:function(a){a=a.firstChild;if(a&&a.nodeType!=1){a=this._nextElement(a)}return a},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode)},hasChildren:function(){return !!this._firstElement(this.containerNode)},destroyDescendants:function(a){dojo.forEach(this.getChildren(),function(b){b.destroyRecursive(a)})},_getSiblingOfChild:function(c,b){var d=c.domNode;var a=(b>0?"nextSibling":"previousSibling");do{d=d[a]}while(d&&(d.nodeType!=1||!dijit.byNode(d)));return d?dijit.byNode(d):null},getIndexOfChild:function(a){var f=this.getChildren();for(var b=0,d;d=f[b];b++){if(d==a){return b}}return -1}})}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass)},startup:function(){if(this._started){return}dojo.forEach(this.getChildren(),function(a){a.startup()});if(!this.getParent||!this.getParent()){this.resize();this._viewport=dijit.getViewport();this.connect(dojo.global,"onresize",function(){var a=dijit.getViewport();if(a.w!=this._viewport.w||a.h!=this._viewport.h){this._viewport=a;this.resize()}})}this.inherited(arguments)},resize:function(b,a){var c=this.domNode;if(b){dojo.marginBox(c,b);if(b.t){c.style.top=b.t+"px"}if(b.l){c.style.left=b.l+"px"}}var l=a||{};dojo.mixin(l,b||{});if(!("h" in l)||!("w" in l)){l=dojo.mixin(dojo.marginBox(c),l)}var f=dojo.getComputedStyle(c);var k=dojo._getMarginExtents(c,f);var d=dojo._getBorderExtents(c,f);var h=(this._borderBox={w:l.w-(k.w+d.w),h:l.h-(k.h+d.h)});var g=dojo._getPadExtents(c,f);this._contentBox={l:dojo._toPixelValue(c,f.paddingLeft),t:dojo._toPixelValue(c,f.paddingTop),w:h.w-g.w,h:h.h-g.h};this.layout()},layout:function(){},_setupChild:function(a){dojo.addClass(a.domNode,this.baseClass+"-child");if(a.baseClass){dojo.addClass(a.domNode,this.baseClass+"-"+a.baseClass)}},addChild:function(b,a){this.inherited(arguments);if(this._started){this._setupChild(b)}},removeChild:function(a){dojo.removeClass(a.domNode,this.baseClass+"-child");if(a.baseClass){dojo.removeClass(a.domNode,this.baseClass+"-"+a.baseClass)}this.inherited(arguments)}});dijit.layout.marginBox2contentBox=function(d,f){var b=dojo.getComputedStyle(d);var c=dojo._getMarginExtents(d,b);var a=dojo._getPadBorderExtents(d,b);return{l:dojo._toPixelValue(d,b.paddingLeft),t:dojo._toPixelValue(d,b.paddingTop),w:f.w-(c.w+a.w),h:f.h-(c.h+a.h)}};(function(){var b=function(c){return c.substring(0,1).toUpperCase()+c.substring(1)};var a=function(d,c){d.resize?d.resize(c):dojo.marginBox(d.domNode,c);dojo.mixin(d,dojo.marginBox(d.domNode));dojo.mixin(d,c)};dijit.layout.layoutChildren=function(f,d,c){d=dojo.mixin({},d);dojo.addClass(f,"dijitLayoutContainer");c=dojo.filter(c,function(g){return g.layoutAlign!="client"}).concat(dojo.filter(c,function(g){return g.layoutAlign=="client"}));dojo.forEach(c,function(g){var l=g.domNode,k=g.layoutAlign;var h=l.style;h.left=d.l+"px";h.top=d.t+"px";h.bottom=h.right="auto";dojo.addClass(l,"dijitAlign"+b(k));if(k=="top"||k=="bottom"){a(g,{w:d.w});d.h-=g.h;if(k=="top"){d.t+=g.h}else{h.top=d.t+d.h+"px"}}else{if(k=="left"||k=="right"){a(g,{h:d.h});d.w-=g.w;if(k=="left"){d.l+=g.w}else{h.left=d.l+d.w+"px"}}else{if(k=="client"){a(g,d)}}}})}})()}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(c,b){if(b<=0||!c){return""}var a=[];for(;;){if(b&1){a.push(c)}if(!(b>>=1)){break}c+=c}return a.join("")};dojo.string.pad=function(g,c,d,a){if(!d){d="0"}var b=String(g),f=dojo.string.rep(d,Math.ceil((c-b.length)/d.length));return a?b+f:f+b};dojo.string.substitute=function(d,c,b,a){a=a||dojo.global;b=(!b)?function(f){return f}:dojo.hitch(a,b);return d.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(k,f,h){var g=dojo.getObject(f,false,c);if(h){g=dojo.getObject(h,false,a).call(a,g,f)}return b(g,f).toString()})};dojo.string.trim=String.prototype.trim?dojo.trim:function(b){b=b.replace(/^\s+/,"");for(var a=b.length-1;a>=0;a--){if(/\S/.test(b.charAt(a))){b=b.substring(0,a+1);break}}return b}}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");(function(){var a=0;dojo.html._secureForInnerHtml=function(b){return b.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(h,c,b){if(b){dojo.html._emptyNode(h)}if(typeof c=="string"){var k="",g="",d=0,f=h.nodeName.toLowerCase();switch(f){case"tr":k="<tr>";g="</tr>";d+=1;case"tbody":case"thead":k="<tbody>"+k;g+="</tbody>";d+=1;case"table":k="<table>"+k;g+="</table>";d+=1;break}if(d){var l=h.ownerDocument.createElement("div");l.innerHTML=k+c+g;do{l=l.firstChild}while(--d);dojo.forEach(l.childNodes,function(m){h.appendChild(m.cloneNode(true))})}else{h.innerHTML=c}}else{if(c.nodeType){h.appendChild(c)}else{dojo.forEach(c,function(m){h.appendChild(m.cloneNode(true))})}}return h};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,constructor:function(c,b){dojo.mixin(this,c||{});b=this.node=dojo.byId(this.node||b);if(!this.id){this.id=["Setter",(b)?b.id||b.tagName:"",a++].join("_")}if(!(this.node||b)){new Error(this.declaredClass+": no node provided to "+this.id)}},set:function(b,c){if(undefined!==b){this.content=b}if(c){this._mixin(c)}this.onBegin();this.setContent();this.onEnd();return this.node},setContent:function(){var c=this.node;if(!c){console.error("setContent given no node")}try{c=dojo.html._setNodeContent(c,this.content)}catch(d){var b=this.onContentError(d);try{c.innerHTML=b}catch(d){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+d.message,d)}}this.node=c},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(b){if(b.destroy){b.destroy()}});delete this.parseResults}dojo.html._emptyNode(this.node)},onBegin:function(){var b=this.content;if(dojo.isString(b)){if(this.cleanContent){b=dojo.html._secureForInnerHtml(b)}if(this.extractContent){var c=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(c){b=c[1]}}}this.empty();this.content=b;return this.node},onEnd:function(){if(this.parseContent){this._parse()}return this.node},tearDown:function(){delete this.parseResults;delete this.node;delete this.content},onContentError:function(b){return"Error occured setting content: "+b},_mixin:function(b){var d={},c;for(c in b){if(c in d){continue}this[c]=b[c]}},_parse:function(){var b=this.node;try{this.parseResults=dojo.parser.parse(b,true)}catch(c){this._onError("Content",c,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(b,c,f){var d=this["on"+b+"Error"].call(this,c);if(f){console.error(f,c)}else{if(d){dojo.html._setNodeContent(this.node,d,true)}}}});dojo.html.set=function(c,b,d){if(undefined==b){console.warn("dojo.html.set: no cont argument provided, using empty string");b=""}if(!d){return dojo.html._setNodeContent(c,b,true)}else{var f=new dojo.html._ContentSetter(dojo.mixin(d,{content:b,node:c}));return f.set()}}})()}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(m,l,k){k=dojo.i18n.normalizeLocale(k);var g=k.split("-");var f=[m,"nls",l].join(".");var c=dojo._loadedModules[f];if(c){var b;for(var a=g.length;a>0;a--){var d=g.slice(0,a).join("_");if(c[d]){b=c[d];break}}if(!b){b=c.ROOT}if(b){var h=function(){};h.prototype=b;return new h()}}throw new Error("Bundle not found: "+l+" in "+m+" , locale="+k)};dojo.i18n.normalizeLocale=function(b){var a=b?b.toLowerCase():dojo.locale;if(a=="root"){a="ROOT"}return a};dojo.i18n._requireLocalization=function(s,t,r,q){var o=dojo.i18n.normalizeLocale(r);var l=[s,"nls",t].join(".");var h="";if(q){var f=q.split(",");for(var p=0;p<f.length;p++){if(o.indexOf(f[p])==0){if(f[p].length>h.length){h=f[p]}}}if(!h){h="ROOT"}}var c=q?h:o;var a=dojo._loadedModules[l];var n=null;if(a){if(dojo.config.localizationComplete&&a._built){return}var k=c.replace(/-/g,"_");var g=l+"."+k;n=dojo._loadedModules[g]}if(!n){a=dojo.provide(l);var m=dojo._getModuleSymbols(s);var d=m.concat("nls").join("/");var b;dojo.i18n._searchLocalePath(c,q,function(z){var y=z.replace(/-/g,"_");var x=l+"."+y;var w=false;if(!dojo._loadedModules[x]){dojo.provide(x);var v=[d];if(z!="ROOT"){v.push(z)}v.push(t);var u=v.join("/")+".js";w=dojo._loadPath(u,null,function(C){var A=function(){};A.prototype=b;a[y]=new A();for(var B in C){a[y][B]=C[B]}})}else{w=true}if(w&&a[y]){b=a[y]}else{a[y]=b}if(q){return true}})}if(q&&o!=h){a[o.replace(/-/g,"_")]=a[h.replace(/-/g,"_")]}};(function(){var a=dojo.config.extraLocale;if(a){if(!a instanceof Array){a=[a]}var b=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(f,d,g,c){b(f,d,g,c);if(g){return}for(var h=0;h<a.length;h++){b(f,d,a[h],c)}}}})();dojo.i18n._searchLocalePath=function(c,k,b){c=dojo.i18n.normalizeLocale(c);var a=c.split("-");var l=[];for(var f=a.length;f>0;f--){l.push(a.slice(0,f).join("-"))}l.push(false);if(k){l.reverse()}for(var d=l.length-1;d>=0;d--){var g=l[d]||"ROOT";var h=b(g);if(h){break}}};dojo.i18n._preloadLocalizations=function(b,f){function d(g){g=dojo.i18n.normalizeLocale(g);dojo.i18n._searchLocalePath(g,true,function(k){for(var h=0;h<f.length;h++){if(f[h]==k){dojo.require(b+"_"+k);return true}}return false})}d();var a=dojo.config.extraLocale||[];for(var c=0;c<a.length;c++){d(a[c])}}}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",doLayout:true,ioArgs:{},isContainer:true,postMixInProperties:function(){this.inherited(arguments);var a=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,a);this.errorMessage=dojo.string.substitute(this.errorMessage,a);if(!this.href&&this.srcNodeRef&&this.srcNodeRef.innerHTML){this.isLoaded=true}},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}},postCreate:function(){this.domNode.title="";if(!dijit.hasWaiRole(this.domNode)){dijit.setWaiRole(this.domNode,"group")}dojo.addClass(this.domNode,this.baseClass)},startup:function(){if(this._started){return}if(this.isLoaded){dojo.forEach(this.getChildren(),function(a){a.startup()});if(this.doLayout){this._checkIfSingleChild()}if(!this._singleChild||!dijit._Contained.prototype.getParent.call(this)){this._scheduleLayout()}}this._loadCheck();this.inherited(arguments)},_checkIfSingleChild:function(){var c=dojo.query(">",this.containerNode),b=c.filter(function(d){return dojo.hasAttr(d,"dojoType")||dojo.hasAttr(d,"widgetId")}),a=dojo.filter(b.map(dijit.byNode),function(d){return d&&d.domNode&&d.resize});if(c.length==b.length&&a.length==1){this._singleChild=a[0]}else{delete this._singleChild}},setHref:function(a){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use attr('href', ...) instead.","","2.0");return this.attr("href",a)},_setHrefAttr:function(a){this.cancel();this.href=a;if(this._created&&(this.preload||this._isShown())){return this.refresh()}else{this._hrefChanged=true}},setContent:function(a){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use attr('content', ...) instead.","","2.0");this.attr("content",a)},_setContentAttr:function(a){this.href="";this.cancel();this._setContent(a||"");this._isDownloaded=false},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel()}delete this._xhrDfd},uninitialize:function(){if(this._beingDestroyed){this.cancel()}},destroyRecursive:function(a){if(this._beingDestroyed){return}this._beingDestroyed=true;this.inherited(arguments)},resize:function(b){dojo.marginBox(this.domNode,b);var c=this.containerNode,d=dojo.mixin(dojo.marginBox(c),b||{});var a=(this._contentBox=dijit.layout.marginBox2contentBox(c,d));if(this._singleChild&&this._singleChild.resize){this._singleChild.resize({w:a.w,h:a.h})}},_isShown:function(){if("open" in this){return this.open}else{var a=this.domNode;return(a.style.display!="none")&&(a.style.visibility!="hidden")&&!dojo.hasClass(a,"dijitHidden")}},_onShow:function(){if(this._needLayout){this._layoutChildren()}this._loadCheck();if(this.onShow){this.onShow()}},_loadCheck:function(){if((this.href&&!this._xhrDfd)&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)&&(this.preload||this._isShown())){delete this._hrefChanged;this.refresh()}},refresh:function(){this.cancel();this._setContent(this.onDownloadStart(),true);var c=this;var a={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(a,this.ioArgs)}var b=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(a));b.addCallback(function(d){try{c._isDownloaded=true;c._setContent(d,false);c.onDownloadEnd()}catch(f){c._onError("Content",f)}delete c._xhrDfd;return d});b.addErrback(function(d){if(!b.canceled){c._onError("Download",d)}delete c._xhrDfd;return d})},_onLoadHandler:function(a){this.isLoaded=true;try{this.onLoad(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this.isLoaded=false;try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler()}var a=this._contentSetter;dojo.forEach(this.getChildren(),function(b){if(b.destroyRecursive){b.destroyRecursive()}});if(a){dojo.forEach(a.parseResults,function(b){if(b.destroyRecursive&&b.domNode&&b.domNode.parentNode==dojo.body()){b.destroyRecursive()}});delete a.parseResults}dojo.html._emptyNode(this.containerNode)},_setContent:function(a,d){this.destroyDescendants();delete this._singleChild;var c=this._contentSetter;if(!(c&&c instanceof dojo.html._ContentSetter)){c=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(g){var f=this.onContentError(g);try{this.containerNode.innerHTML=f}catch(g){console.error("Fatal "+this.id+" could not change content due to "+g.message,g)}})})}var b=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad},this._contentSetterParams||{});dojo.mixin(c,b);c.set((dojo.isObject(a)&&a.domNode)?a.domNode:a);delete this._contentSetterParams;if(!d){dojo.forEach(this.getChildren(),function(f){f.startup()});if(this.doLayout){this._checkIfSingleChild()}this._scheduleLayout();this._onLoadHandler(a)}},_onError:function(c,d,b){var a=this["on"+c+"Error"].call(this,d);if(b){console.error(b,d)}else{if(a){this._setContent(a,true)}}},_scheduleLayout:function(){if(this._isShown()){this._layoutChildren()}else{this._needLayout=true}},_layoutChildren:function(){if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else{dojo.forEach(this.getChildren(),function(b){if(b.resize){b.resize()}})}delete this._needLayout},onLoad:function(a){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(a){},onDownloadError:function(a){return this.errorMessage},onDownloadEnd:function(){}})}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(a){var c=this.declaredClass,b=this;return dojo.string.substitute(a,this,function(f,d){if(d.charAt(0)=="!"){f=dojo.getObject(d.substr(1),b)}if(typeof f=="undefined"){throw new Error(c+" template:"+d)}if(f==null){return""}return d.charAt(0)=="!"?f:f.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){var c=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var b;if(dojo.isString(c)){b=dojo._toDom(this._stringRepl(c))}else{b=c.cloneNode(true)}this.domNode=b;this._attachTemplateNodes(b);if(this.widgetsInTemplate){var a=(this._supportingWidgets=dojo.parser.parse(b));this._attachTemplateNodes(a,function(f,d){return f[d]})}this._fillContent(this.srcNodeRef)},_fillContent:function(b){var a=this.containerNode;if(b&&a){while(b.hasChildNodes()){a.appendChild(b.firstChild)}}},_attachTemplateNodes:function(p,n){n=n||function(u,t){return u.getAttribute(t)};var r=dojo.isArray(p)?p:(p.all||p.getElementsByTagName("*"));var s=dojo.isArray(p)?0:-1;for(;s<r.length;s++){var q=(s==-1)?p:r[s];if(this.widgetsInTemplate&&n(q,"dojoType")){continue}var o=n(q,"dojoAttachPoint");if(o){var m,l=o.split(/\s*,\s*/);while((m=l.shift())){if(dojo.isArray(this[m])){this[m].push(q)}else{this[m]=q}}}var h=n(q,"dojoAttachEvent");if(h){var g,f=h.split(/\s*,\s*/);var d=dojo.trim;while((g=f.shift())){if(g){var c=null;if(g.indexOf(":")!=-1){var b=g.split(":");g=d(b[0]);c=d(b[1])}else{g=d(g)}if(!c){c=g}this.connect(q,g,c)}}}var k=n(q,"waiRole");if(k){dijit.setWaiRole(q,k)}var a=n(q,"waiState");if(a){dojo.forEach(a.split(/\s*,\s*/),function(t){if(t.indexOf("-")!=-1){var u=t.split("-");dijit.setWaiState(q,u[0],u[1])}})}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(g,d,c){var b=dijit._Templated._templateCache;var f=d||g;var a=b[f];if(a){if(!a.ownerDocument||a.ownerDocument==dojo.doc){return a}dojo.destroy(a)}if(!d){d=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(g)))}d=dojo.string.trim(d);if(c||d.match(/\$\{([^\}]+)\}/g)){return(b[f]=d)}else{return(b[f]=dojo._toDom(d))}};dijit._Templated._sanitizeTemplateString=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(b){a=b[1]}}else{a=""}return a};if(dojo.isIE){dojo.addOnWindowUnload(function(){var c=dijit._Templated._templateCache;for(var a in c){var b=c[a];if(!isNaN(b.nodeType)){dojo.destroy(b)}delete c[a]}})}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""})}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip">\n\t<div class="dijitTooltipContainer dijitTooltipContents" dojoAttachPoint="containerNode" waiRole=\'alert\'></div>\n\t<div class="dijitTooltipConnector"></div>\n</div>\n',postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")})},show:function(f,d,c){if(this.aroundNode&&this.aroundNode===d){return}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return}this.containerNode.innerHTML=f;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var a={};var b=this.isLeftToRight();dojo.forEach((c&&c.length)?c:dijit.Tooltip.defaultPosition,function(h){switch(h){case"after":a[b?"BR":"BL"]=b?"BL":"BR";break;case"before":a[b?"BL":"BR"]=b?"BR":"BL";break;case"below":a[b?"BL":"BR"]=b?"TL":"TR";a[b?"BR":"BL"]=b?"TR":"TL";break;case"above":default:a[b?"TL":"TR"]=b?"BL":"BR";a[b?"TR":"TL"]=b?"BR":"BL";break}});var g=dijit.placeOnScreenAroundElement(this.domNode,d,a,dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=d},orient:function(c,b,a){c.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+a]},_onShow:function(){if(dojo.isIE){this.domNode.style.filter=""}},hide:function(a){if(this._onDeck&&this._onDeck[1]==a){this._onDeck=null}else{if(this.aroundNode===a){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play()}else{}}},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null}}});dijit.showTooltip=function(c,b,a){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip()}return dijit._masterTT.show(c,b,a)};dijit.hideTooltip=function(a){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip()}return dijit._masterTT.hide(a)};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(a){this._connectNodes=[];this.connectId=dojo.isArrayLike(a)?a:[a];dojo.forEach(this.connectId,function(c){var b=dojo.byId(c);if(b){this._connectNodes.push(b);dojo.forEach(["onMouseEnter","onMouseLeave","onFocus","onBlur"],function(d){this.connect(b,d.toLowerCase(),"_"+d)},this);if(dojo.isIE){b.style.zoom=1}}},this)},postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData")},_onMouseEnter:function(a){this._onHover(a)},_onMouseLeave:function(a){this._onUnHover(a)},_onFocus:function(a){this._focus=true;this._onHover(a);this.inherited(arguments)},_onBlur:function(a){this._focus=false;this._onUnHover(a);this.inherited(arguments)},_onHover:function(b){if(!this._showTimer){var a=b.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(a)}),this.showDelay)}},_onUnHover:function(a){if(this._focus){return}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer}this.close()},open:function(a){a=a||this._connectNodes[0];if(!a){return}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer}dijit.showTooltip(this.label||this.domNode.innerHTML,a,this.position);this._connectNode=a},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer}},uninitialize:function(){this.close()}});dijit.Tooltip.defaultPosition=["after","before"]}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{constructor:function(a){var b=this;dojo.mixin(b,a);b.node=a.node;b._showArgs=dojo.mixin({},a);b._showArgs.node=b.node;b._showArgs.duration=b.showDuration;b.showAnim=b.showFunc(b._showArgs);b._hideArgs=dojo.mixin({},a);b._hideArgs.node=b.node;b._hideArgs.duration=b.hideDuration;b.hideAnim=b.hideFunc(b._hideArgs);dojo.connect(b.showAnim,"beforeBegin",dojo.hitch(b.hideAnim,"stop",true));dojo.connect(b.hideAnim,"beforeBegin",dojo.hitch(b.showAnim,"stop",true))},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(a){return this.showAnim.play(a||0)},hide:function(a){return this.hideAnim.play(a||0)}})}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var c=dojo,f={_fire:function(d,g){if(this[d]){this[d].apply(this,g||[])}return this}};var b=function(d){this._index=-1;this._animations=d||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;c.forEach(this._animations,function(g){this.duration+=g.duration;if(g.delay){this.duration+=g.delay}},this)};c.extend(b,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){c.disconnect(this._onAnimateCtx);c.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd")}else{this._current=this._animations[++this._index];this._onAnimateCtx=c.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=c.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true)}},play:function(l,k){if(!this._current){this._current=this._animations[this._index=0]}if(!k&&this._current.status()=="playing"){return this}var h=c.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),d=c.connect(this._current,"onBegin",this,function(m){this._fire("onBegin",arguments)}),g=c.connect(this._current,"onPlay",this,function(m){this._fire("onPlay",arguments);c.disconnect(h);c.disconnect(d);c.disconnect(g)});if(this._onAnimateCtx){c.disconnect(this._onAnimateCtx)}this._onAnimateCtx=c.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){c.disconnect(this._onEndCtx)}this._onEndCtx=c.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var d=c.connect(this._current,"onPause",this,function(g){this._fire("onPause",arguments);c.disconnect(d)});this._current.pause()}return this},gotoPercent:function(h,g){this.pause();var d=this.duration*h;this._current=null;c.some(this._animations,function(k){if(k.duration<=d){this._current=k;return true}d-=k.duration;return false});if(this._current){this._current.gotoPercent(d/this._current.duration,g)}return this},stop:function(g){if(this._current){if(g){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true)}this._current=this._animations[this._index]}var d=c.connect(this._current,"onStop",this,function(h){this._fire("onStop",arguments);c.disconnect(d)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){if(this._onAnimateCtx){c.disconnect(this._onAnimateCtx)}if(this._onEndCtx){c.disconnect(this._onEndCtx)}}});c.extend(b,f);dojo.fx.chain=function(d){return new b(d)};var a=function(g){this._animations=g||[];this._connects=[];this._finished=0;this.duration=0;c.forEach(g,function(h){var k=h.duration;if(h.delay){k+=h.delay}if(this.duration<k){this.duration=k}this._connects.push(c.connect(h,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new c._Animation({curve:[0,1],duration:this.duration});var d=this;c.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(h){d._connects.push(c.connect(d._pseudoAnimation,h,function(){d._fire(h,arguments)}))})};c.extend(a,{_doAction:function(g,d){c.forEach(this._animations,function(h){h[g].apply(h,d)});return this},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd")}},_call:function(h,d){var g=this._pseudoAnimation;g[h].apply(g,d)},play:function(d,g){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(h,g){var d=this.duration*h;c.forEach(this._animations,function(k){k.gotoPercent(k.duration<d?1:(d/k.duration),g)});this._call("gotoPercent",arguments);return this},stop:function(d){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){c.forEach(this._connects,dojo.disconnect)}});c.extend(a,f);dojo.fx.combine=function(d){return new a(d)};dojo.fx.wipeIn=function(d){d.node=c.byId(d.node);var h=d.node,g=h.style,l;var k=c.animateProperty(c.mixin({properties:{height:{start:function(){l=g.overflow;g.overflow="hidden";if(g.visibility=="hidden"||g.display=="none"){g.height="1px";g.display="";g.visibility="";return 1}else{var m=c.style(h,"height");return Math.max(m,1)}},end:function(){return h.scrollHeight}}}},d));c.connect(k,"onEnd",function(){g.height="auto";g.overflow=l});return k};dojo.fx.wipeOut=function(d){var h=d.node=c.byId(d.node),g=h.style,l;var k=c.animateProperty(c.mixin({properties:{height:{end:1}}},d));c.connect(k,"beforeBegin",function(){l=g.overflow;g.overflow="hidden";g.display=""});c.connect(k,"onEnd",function(){g.overflow=l;g.height="auto";g.display="none"});return k};dojo.fx.slideTo=function(d){var g=d.node=c.byId(d.node),l=null,k=null;var m=(function(o){return function(){var p=c.getComputedStyle(o);var q=p.position;l=(q=="absolute"?o.offsetTop:parseInt(p.top)||0);k=(q=="absolute"?o.offsetLeft:parseInt(p.left)||0);if(q!="absolute"&&q!="relative"){var n=c.coords(o,true);l=n.y;k=n.x;o.style.position="absolute";o.style.top=l+"px";o.style.left=k+"px"}}})(g);m();var h=c.animateProperty(c.mixin({properties:{top:d.top||0,left:d.left||0}},d));c.connect(h,"beforeBegin",h,m);return h}})()}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments)},_setDisabledAttr:function(a){this.disabled=a;dojo.attr(this.focusNode,"disabled",a);dijit.setWaiState(this.focusNode,"disabled",a);if(a){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex")}else{this.focusNode.setAttribute("tabIndex",this.tabIndex)}this._setStateClass()},setDisabled:function(a){dojo.deprecated("setDisabled("+a+") is deprecated. Use attr('disabled',"+a+") instead.","","2.0");this.attr("disabled",a)},_onFocus:function(a){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode)}this.inherited(arguments)},_onMouse:function(a){var c=a.currentTarget;if(c&&c.getAttribute){this.stateModifier=c.getAttribute("stateModifier")||""}if(!this.disabled){switch(a.type){case"mouseenter":case"mouseover":this._hovering=true;this._active=this._mouseDown;break;case"mouseout":case"mouseleave":this._hovering=false;this._active=false;break;case"mousedown":this._active=true;this._mouseDown=true;var b=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus()}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(b)});break}this._setStateClass()}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none")},focus:function(){dijit.focus(this.focusNode)},_setStateClass:function(){var g=this.baseClass.split(" ");function f(c){g=g.concat(dojo.map(g,function(k){return k+c}),"dijit"+c)}if(this.checked){f("Checked")}if(this.state){f(this.state)}if(this.selected){f("Selected")}if(this.disabled){f("Disabled")}else{if(this.readOnly){f("ReadOnly")}else{if(this._active){f(this.stateModifier+"Active")}else{if(this._focused){f("Focused")}if(this._hovering){f(this.stateModifier+"Hover")}}}}var b=this.stateNode||this.domNode,d={};dojo.forEach(b.className.split(" "),function(k){d[k]=true});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(k){delete d[k]})}dojo.forEach(g,function(k){d[k]=true});var a=[];for(var h in d){a.push(h)}b.className=a.join(" ");this._stateClasses=g},compare:function(b,a){if((typeof b=="number")&&(typeof a=="number")){return(isNaN(b)&&isNaN(a))?0:(b-a)}else{if(b>a){return 1}else{if(b<a){return -1}else{return 0}}}},onChange:function(a){},_onChangeActive:false,_handleOnChange:function(a,b){this._lastValue=a;if(this._lastValueReported==undefined&&(b===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=a}if((this.intermediateChanges||b||b===undefined)&&((typeof a!=typeof this._lastValueReported)||this.compare(a,this._lastValueReported)!=0)){this._lastValueReported=a;if(this._onChangeActive){this.onChange(a)}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass()},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle)}this.inherited(arguments)},setValue:function(a){dojo.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use attr('value',"+a+") instead.","","2.0");this.attr("value",a)},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value")},_layoutHack:function(){if(dojo.isFF==2&&!this._layoutHackHandle){var b=this.domNode;var a=b.style.opacity;b.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;b.style.opacity=a}),0)}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:""}),postCreate:function(){if(dojo.isIE||dojo.isWebKit){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown)}if(this._resetValue===undefined){this._resetValue=this.value}},_setValueAttr:function(a,b){this.value=a;this._handleOnChange(a,b)},_getValueAttr:function(a){return this._lastValue},undo:function(){this._setValueAttr(this._lastValueReported,false)},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true)},_onKeyDown:function(a){if(a.keyCode==dojo.keys.ESCAPE&&!a.ctrlKey&&!a.altKey){var b;if(dojo.isIE){a.preventDefault();b=document.createEventObject();b.keyCode=dojo.keys.ESCAPE;b.shiftKey=a.shiftKey;a.srcElement.fireEvent("onkeypress",b)}else{if(dojo.isWebKit){b=document.createEvent("Events");b.initEvent("keypress",true,true);b.keyCode=dojo.keys.ESCAPE;b.shiftKey=a.shiftKey;a.target.dispatchEvent(b)}}}}})}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:'<span class="dijit dijitReset dijitLeft dijitInline"\n\tdojoAttachEvent="ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse"\n\t><span class="dijitReset dijitRight dijitInline"\n\t\t><span class="dijitReset dijitInline dijitButtonNode"\n\t\t\t><button class="dijitReset dijitStretch dijitButtonContents"\n\t\t\t\tdojoAttachPoint="titleNode,focusNode" \n\t\t\t\t${nameAttrSetting} type="${type}" value="${value}" waiRole="button" waiState="labelledby-${id}_label"\n\t\t\t\t><span class="dijitReset dijitInline" dojoAttachPoint="iconNode" \n\t\t\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#10003;</span \n\t\t\t\t></span \n\t\t\t\t><span class="dijitReset dijitInline dijitButtonText" \n\t\t\t\t\tid="${id}_label"  \n\t\t\t\t\tdojoAttachPoint="containerNode"\n\t\t\t\t></span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n',attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(a){if(this.disabled||this.readOnly){return false}this._clicked();return this.onClick(a)},_onButtonClick:function(c){if(c.type!="click"&&!(this.type=="submit"||this.type=="reset")){dojo.stopEvent(c)}if(this._onClick(c)===false){c.preventDefault()}else{if(this.type=="submit"&&!this.focusNode.form){for(var b=this.domNode;b.parentNode;b=b.parentNode){var a=dijit.byNode(b);if(a&&typeof a._onSubmit=="function"){a._onSubmit(c);break}}}}},_setValueAttr:function(b){var a=this.attributeMap.value||"";if(this[a.node||a||"domNode"].tagName=="BUTTON"){if(b!=this.value){}}},_fillContent:function(a){if(a&&!("label" in this.params)){this.attr("label",a.innerHTML)}},postCreate:function(){if(this.showLabel==false){dojo.addClass(this.containerNode,"dijitDisplayNone")}dojo.setSelectable(this.focusNode,false);this.inherited(arguments)},onClick:function(a){return true},_clicked:function(a){},setLabel:function(a){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",a)},_setLabelAttr:function(a){this.containerNode.innerHTML=this.label=a;this._layoutHack();if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"")}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:'<span class="dijit dijitReset dijitLeft dijitInline"\n\tdojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey"\n\t><span class=\'dijitReset dijitRight dijitInline\'\n\t\t><span class=\'dijitReset dijitInline dijitButtonNode\'\n\t\t\t><button class="dijitReset dijitStretch dijitButtonContents" \n\t\t\t\t${nameAttrSetting} type="${type}" value="${value}"\n\t\t\t\tdojoAttachPoint="focusNode,titleNode" \n\t\t\t\twaiRole="button" waiState="haspopup-true,labelledby-${id}_label"\n\t\t\t\t><span class="dijitReset dijitInline" \n\t\t\t\t\tdojoAttachPoint="iconNode"\n\t\t\t\t></span\n\t\t\t\t><span class="dijitReset dijitInline dijitButtonText"  \n\t\t\t\t\tdojoAttachPoint="containerNode,popupStateNode" \n\t\t\t\t\tid="${id}_label"\n\t\t\t\t></span\n\t\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner">&thinsp;</span\n\t\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n',_fillContent:function(){if(this.srcNodeRef){var a=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,a[0]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(this._started){return}if(!this.dropDown){var a=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(a);delete this.dropDownContainer}dijit.popup.prepare(this.dropDown.domNode);this.inherited(arguments)},destroyDescendants:function(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown}this.inherited(arguments)},_onArrowClick:function(a){if(this.disabled||this.readOnly){return}this._toggleDropDown()},_onDropDownClick:function(b){var a=dojo.isFF&&dojo.isFF<3&&navigator.appVersion.indexOf("Macintosh")!=-1;if(!a||b.detail!=0||this._seenKeydown){this._onArrowClick(b)}this._seenKeydown=false},_onDropDownKeydown:function(a){this._seenKeydown=true},_onDropDownBlur:function(a){this._seenKeydown=false},_onKey:function(a){if(this.disabled||this.readOnly){return}if(a.charOrCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.visibility=="hidden"){dojo.stopEvent(a);this._toggleDropDown()}}},_onBlur:function(){this._closeDropDown();this.inherited(arguments)},_toggleDropDown:function(){if(this.disabled||this.readOnly){return}dijit.focus(this.popupStateNode);var c=this.dropDown;if(!c){return}if(!this._opened){if(c.href&&!c.isLoaded){var a=this;var b=dojo.connect(c,"onLoad",function(){dojo.disconnect(b);a._openDropDown()});c.refresh();return}else{this._openDropDown()}}else{this._closeDropDown()}},_openDropDown:function(){var a=this.dropDown;var f=a.domNode.style.width;var b=this;dijit.popup.open({parent:this,popup:a,around:this.domNode,orient:this.isLeftToRight()?{BL:"TL",BR:"TR",TL:"BL",TR:"BR"}:{BR:"TR",BL:"TL",TR:"BR",TL:"BL"},onExecute:function(){b._closeDropDown(true)},onCancel:function(){b._closeDropDown(true)},onClose:function(){a.domNode.style.width=f;b.popupStateNode.removeAttribute("popupActive");b._opened=false}});if(this.domNode.offsetWidth>a.domNode.offsetWidth){var d=null;if(!this.isLeftToRight()){d=a.domNode.parentNode;var c=d.offsetLeft+d.offsetWidth}dojo.marginBox(a.domNode,{w:this.domNode.offsetWidth});if(d){d.style.left=c-this.domNode.offsetWidth+"px"}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(a.focus){a.focus()}},_closeDropDown:function(a){if(this._opened){dijit.popup.close(this.dropDown);if(a){this.focus()}this._opened=false}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:'<table class=\'dijit dijitReset dijitInline dijitLeft\'\n\tcellspacing=\'0\' cellpadding=\'0\' waiRole="presentation"\n\t><tbody waiRole="presentation"><tr waiRole="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents dijitButtonNode"\n\t\t\tdojoAttachEvent="ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse"  dojoAttachPoint="titleNode"\n\t\t\twaiRole="button" waiState="labelledby-${id}_label"\n\t\t\t><div class="dijitReset dijitInline" dojoAttachPoint="iconNode" waiRole="presentation"></div\n\t\t\t><div class="dijitReset dijitInline dijitButtonText" id="${id}_label" dojoAttachPoint="containerNode" waiRole="presentation"></div\n\t\t></td\n\t\t><td class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\'\n\t\t\tdojoAttachPoint="popupStateNode,focusNode"\n\t\t\tdojoAttachEvent="ondijitclick:_onArrowClick, onkeypress:_onKey,onmouseenter:_onMouse,onmouseleave:_onMouse"\n\t\t\tstateModifier="DownArrow"\n\t\t\ttitle="${optionsTitle}" ${nameAttrSetting}\n\t\t\twaiRole="button" waiState="haspopup-true"\n\t\t\t><div class="dijitReset dijitArrowButtonInner" waiRole="presentation">&thinsp;</div\n\t\t\t><div class="dijitReset dijitArrowButtonChar" waiRole="presentation">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n',attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"]}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this.popupStateNode];dojo.forEach(this._focalNodes,dojo.hitch(this,function(a){if(dojo.isIE){this.connect(a,"onactivate",this._onNodeFocus);this.connect(a,"ondeactivate",this._onNodeBlur)}else{this.connect(a,"onfocus",this._onNodeFocus);this.connect(a,"onblur",this._onNodeBlur)}}))},focusFocalNode:function(a){this._focusedNode=a;dijit.focus(a)},hasNextFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[1]},focusNext:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0];dijit.focus(this._focusedNode)},hasPrevFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[0]},focusPrev:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1];dijit.focus(this._focusedNode)},getFocalNodes:function(){return this._focalNodes},_onNodeFocus:function(a){this._focusedNode=a.currentTarget;var b=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,b)},_onNodeBlur:function(a){var b=a.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(a.currentTarget,b)},_onBlur:function(){this.inherited(arguments);this._focusedNode=null}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(a){this.attr("checked",!this.checked)},_setCheckedAttr:function(a){this.checked=a;dojo.attr(this.focusNode||this.domNode,"checked",a);dijit.setWaiState(this.focusNode||this.domNode,"pressed",a);this._setStateClass();this._handleOnChange(a,true)},setChecked:function(a){dojo.deprecated("setChecked("+a+") is deprecated. Use attr('checked',"+a+") instead.","","2.0");this.attr("checked",a)},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false)}})}if(!dojo._hasResource["dijit.form.ToggleButton"]){dojo._hasResource["dijit.form.ToggleButton"]=true;dojo.provide("dijit.form.ToggleButton")}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",[dijit._Container],{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(f,b){var a=this._keyNavCodes={};var d=dojo.hitch(this,this.focusPrev);var c=dojo.hitch(this,this.focusNext);dojo.forEach(f,function(g){a[g]=d});dojo.forEach(b,function(g){a[g]=c});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"))},addChild:function(b,a){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(b)},focus:function(){this.focusFirstChild()},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusNext:function(){if(this.focusedChild&&this.focusedChild.hasNextFocalNode&&this.focusedChild.hasNextFocalNode()){this.focusedChild.focusNext();return}var a=this._getNextFocusableChild(this.focusedChild,1);if(a.getFocalNodes){this.focusChild(a,a.getFocalNodes()[0])}else{this.focusChild(a)}},focusPrev:function(){if(this.focusedChild&&this.focusedChild.hasPrevFocalNode&&this.focusedChild.hasPrevFocalNode()){this.focusedChild.focusPrev();return}var b=this._getNextFocusableChild(this.focusedChild,-1);if(b.getFocalNodes){var a=b.getFocalNodes();this.focusChild(b,a[a.length-1])}else{this.focusChild(b)}},focusChild:function(a,b){if(a){if(this.focusedChild&&a!==this.focusedChild){this._onChildBlur(this.focusedChild)}this.focusedChild=a;if(b&&a.focusFocalNode){a.focusFocalNode(b)}else{a.focus()}}},_startupChild:function(a){if(a.getFocalNodes){dojo.forEach(a.getFocalNodes(),function(c){dojo.attr(c,"tabindex",-1);this._connectNode(c)},this)}else{var b=a.focusNode||a.domNode;if(a.isFocusable()){dojo.attr(b,"tabindex",-1)}this._connectNode(b)}},_connectNode:function(a){this.connect(a,"onfocus","_onNodeFocus");this.connect(a,"onblur","_onNodeBlur")},_onContainerFocus:function(a){if(a.target!==this.domNode){return}this.focusFirstChild();dojo.removeAttr(this.domNode,"tabIndex")},_onBlur:function(a){if(this.tabIndex){dojo.attr(this.domNode,"tabindex",this.tabIndex)}},_onContainerKeypress:function(a){if(a.ctrlKey||a.altKey){return}var b=this._keyNavCodes[a.charOrCode];if(b){b();dojo.stopEvent(a)}},_onNodeFocus:function(b){var a=dijit.getEnclosingWidget(b.target);if(a&&a.isFocusable()){this.focusedChild=a}dojo.stopEvent(b)},_onNodeBlur:function(a){dojo.stopEvent(a)},_onChildBlur:function(a){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getNextFocusableChild:function(d,a){if(d){d=this._getSiblingOfChild(d,a)}var c=this.getChildren();for(var b=0;b<c.length;b++){if(!d){d=c[(a>0)?0:(c.length-1)]}if(d.isFocusable()){return d}d=this._getSiblingOfChild(d,a)}return null}})}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:'<tr class="dijitReset dijitMenuItem" dojoAttachPoint="focusNode" waiRole="menuitem" tabIndex="-1"\n\t\tdojoAttachEvent="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\n\t<td class="dijitReset" waiRole="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitMenuItemIcon" dojoAttachPoint="iconNode">\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" dojoAttachPoint="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" dojoAttachPoint="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" waiRole="presentation">\n\t\t<div dojoAttachPoint="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand">\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n',attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function(a){if(a&&!("label" in this.params)){this.attr("label",a.innerHTML)}},postCreate:function(){dojo.setSelectable(this.domNode,false);dojo.attr(this.containerNode,"id",this.id+"_text");dijit.setWaiState(this.domNode,"labelledby",this.id+"_text")},_onHover:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemHover(this)},_onUnhover:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemUnhover(this)},_onClick:function(a){this.getParent().onItemClick(this,a);dojo.stopEvent(a)},onClick:function(a){},focus:function(){try{dijit.focus(this.focusNode)}catch(a){}},_onFocus:function(){this._setSelected(true)},_setSelected:function(a){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",a)},setDisabled:function(a){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",a)},_setDisabledAttr:function(a){this.disabled=a;dojo[a?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled");dijit.setWaiState(this.focusNode,"disabled",a?"true":"false")},_setAccelKeyAttr:function(a){this.accelKey=a;this.accelKeyNode.style.display=a?"":"none";this.accelKeyNode.innerHTML=a;dojo.attr(this.containerNode,"colSpan",a?"1":"2")}})}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var a=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,a[0]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(this._started){return}this.inherited(arguments);if(!this.popup){var a=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(a)}dojo.body().appendChild(this.popup.domNode);this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","")}dijit.setWaiState(this.focusNode,"haspopup","true")},destroyDescendants:function(){if(this.popup){this.popup.destroyRecursive();delete this.popup}this.inherited(arguments)}})}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:'<tr class="dijitReset dijitMenuItem" dojoAttachPoint="focusNode" waiRole="menuitemcheckbox" tabIndex="-1"\n\t\tdojoAttachEvent="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\n\t<td class="dijitReset" waiRole="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitMenuItemIcon dijitCheckedMenuItemIcon" dojoAttachPoint="iconNode">\n\t\t<span class="dijitCheckedMenuItemIconChar">&#10003;</span>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" dojoAttachPoint="containerNode,labelNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" dojoAttachPoint="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" waiRole="presentation">\n\t</td>\n</tr>\n',checked:false,_setCheckedAttr:function(a){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",a);dijit.setWaiState(this.domNode,"checked",a);this.checked=a},onChange:function(a){},_onClick:function(a){if(!this.disabled){this.attr("checked",!this.checked);this.onChange(this.checked)}this.inherited(arguments)}})}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:'<tr class="dijitMenuSeparator">\n\t<td colspan="4">\n\t\t<div class="dijitMenuSeparatorTop"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n</tr>\n',postCreate:function(){dojo.setSelectable(this.domNode,false)},isFocusable:function(){return false}})}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function(){if(this._started){return}dojo.forEach(this.getChildren(),function(a){a.startup()});this.startupKeyNavChildren();this.inherited(arguments)},onExecute:function(){},onCancel:function(a){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(a)}else{var b=this._getTopMenu();if(b&&b._isMenuBar){b.focusNext()}}},onItemHover:function(a){if(this.isActive){this.focusChild(a);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay)}}},_onChildBlur:function(a){a._setSelected(false);dijit.popup.close(a.popup);this._stopPopupTimer()},onItemUnhover:function(a){if(this.isActive){this._stopPopupTimer()}},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null}},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu){}return a},onItemClick:function(b,a){if(b.disabled){return false}this.focusChild(b);if(b.popup){if(!this.is_open){this._openPopup()}}else{this.onExecute();b.onClick(a)}},_openPopup:function(){this._stopPopupTimer();var c=this.focusedChild;var b=c.popup;if(b.isShowingNow){return}b.parentMenu=this;var a=this;dijit.popup.open({parent:this,popup:b,around:c.domNode,orient:this._orient||(this.isLeftToRight()?{TR:"TL",TL:"TR"}:{TL:"TR",TR:"TL"}),onCancel:function(){dijit.popup.close(b);c.focus();a.currentPopup=null},onExecute:dojo.hitch(this,"_onDescendantExecute")});this.currentPopup=b;if(b.focus){setTimeout(dojo.hitch(b,"focus"),0)}},onOpen:function(a){this.isShowingNow=true},onClose:function(){this._stopPopupTimer();this.parentMenu=null;this.isShowingNow=false;this.currentPopup=null;if(this.focusedChild){this._onChildBlur(this.focusedChild);this.focusedChild=null}},_onFocus:function(){this.isActive=true;dojo.addClass(this.domNode,"dijitMenuActive");dojo.removeClass(this.domNode,"dijitMenuPassive");this.inherited(arguments)},_onBlur:function(){this.isActive=false;dojo.removeClass(this.domNode,"dijitMenuActive");dojo.addClass(this.domNode,"dijitMenuPassive");this.onClose();this.inherited(arguments)},_onDescendantExecute:function(){this.onClose()}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function(){this._bindings=[]},templateString:'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" waiRole="menu" tabIndex="${tabIndex}" dojoAttachEvent="onkeypress:_onKeyPress">\n\t<tbody class="dijitReset" dojoAttachPoint="containerNode"></tbody>\n</table>\n',targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,_contextMenuWithMouse:false,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body())}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this)}var b=dojo.keys,a=this.isLeftToRight();this._openSubMenuKey=a?b.RIGHT_ARROW:b.LEFT_ARROW;this._closeSubMenuKey=a?b.LEFT_ARROW:b.RIGHT_ARROW;this.connectKeyNavHandlers([b.UP_ARROW],[b.DOWN_ARROW])},_onKeyPress:function(a){if(a.ctrlKey||a.altKey){return}switch(a.charOrCode){case this._openSubMenuKey:this._moveToPopup(a);dojo.stopEvent(a);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev()}else{this.onCancel(false)}}else{dojo.stopEvent(a)}break}},_iframeContentWindow:function(b){var a=dijit.getDocumentWindow(dijit.Menu._iframeContentDocument(b))||dijit.Menu._iframeContentDocument(b)["__parent__"]||(b.name&&dojo.doc.frames[b.name])||null;return a},_iframeContentDocument:function(b){var a=b.contentDocument||(b.contentWindow&&b.contentWindow.document)||(b.name&&dojo.doc.frames[b.name]&&dojo.doc.frames[b.name].document)||null;return a},bindDomNode:function(a){a=dojo.byId(a);var b=dijit.getDocumentWindow(a.ownerDocument);if(a.tagName.toLowerCase()=="iframe"){b=this._iframeContentWindow(a);a=dojo.withGlobal(b,dojo.body)}var c=(a==dojo.body()?dojo.doc:a);a[this.id]=this._bindings.push([dojo.connect(c,(this.leftClickToOpen)?"onclick":"oncontextmenu",this,"_openMyself"),dojo.connect(c,"onkeydown",this,"_contextKey"),dojo.connect(c,"onmousedown",this,"_contextMouse")])},unBindDomNode:function(f){var d=dojo.byId(f);if(d){var c=d[this.id]-1,a=this._bindings[c];dojo.forEach(a,dojo.disconnect);delete this._bindings[c]}},_contextKey:function(b){this._contextMenuWithMouse=false;if(b.keyCode==dojo.keys.F10){dojo.stopEvent(b);if(b.shiftKey&&b.type=="keydown"){var a={target:b.target,pageX:b.pageX,pageY:b.pageY};a.preventDefault=a.stopPropagation=function(){};window.setTimeout(dojo.hitch(this,function(){this._openMyself(a)}),1)}}},_contextMouse:function(a){this._contextMenuWithMouse=true},_openMyself:function(f){if(this.leftClickToOpen&&f.button>0){return}dojo.stopEvent(f);var b,h;if(dojo.isSafari||this._contextMenuWithMouse){b=f.pageX;h=f.pageY}else{var a=dojo.coords(f.target,true);b=a.x+10;h=a.y+10}var c=this;var g=dijit.getFocus(this);function d(){dijit.focus(g);dijit.popup.close(c)}dijit.popup.open({popup:this,x:b,y:h,onExecute:d,onCancel:d,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this)}},uninitialize:function(){dojo.forEach(this.targetNodeIds,this.unBindDomNode,this);this.inherited(arguments)}})}if(!dojo._hasResource["dijit.layout.StackController"]){dojo._hasResource["dijit.layout.StackController"]=true;dojo.provide("dijit.layout.StackController");dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span wairole='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",postCreate:function(){dijit.setWaiRole(this.domNode,"tablist");this.pane2button={};this.pane2handles={};this.pane2menu={};this._subscriptions=[dojo.subscribe(this.containerId+"-startup",this,"onStartup"),dojo.subscribe(this.containerId+"-addChild",this,"onAddChild"),dojo.subscribe(this.containerId+"-removeChild",this,"onRemoveChild"),dojo.subscribe(this.containerId+"-selectChild",this,"onSelectChild"),dojo.subscribe(this.containerId+"-containerKeyPress",this,"onContainerKeyPress")]},onStartup:function(a){dojo.forEach(a.children,this.onAddChild,this);this.onSelectChild(a.selected)},destroy:function(){for(var a in this.pane2button){this.onRemoveChild(a)}dojo.forEach(this._subscriptions,dojo.unsubscribe);this.inherited(arguments)},onAddChild:function(k,h){var g=dojo.doc.createElement("span");this.domNode.appendChild(g);var l=dojo.getObject(this.buttonWidget);var f=new l({label:k.title,closeButton:k.closable},g);this.addChild(f,h);this.pane2button[k]=f;k.controlButton=f;var d=[];d.push(dojo.connect(f,"onClick",dojo.hitch(this,"onButtonClick",k)));if(k.closable){d.push(dojo.connect(f,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",k)));var c=dojo.i18n.getLocalization("dijit","common");var b=new dijit.Menu({targetNodeIds:[f.id],id:f.id+"_Menu"});var a=new dijit.MenuItem({label:c.itemClose});d.push(dojo.connect(a,"onClick",dojo.hitch(this,"onCloseButtonClick",k)));b.addChild(a);this.pane2menu[k]=b}this.pane2handles[k]=d;if(!this._currentChild){f.focusNode.setAttribute("tabIndex","0");this._currentChild=k}if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList()}},onRemoveChild:function(b){if(this._currentChild===b){this._currentChild=null}dojo.forEach(this.pane2handles[b],dojo.disconnect);delete this.pane2handles[b];var c=this.pane2menu[b];if(c){c.destroyRecursive();delete this.pane2menu[b]}var a=this.pane2button[b];if(a){a.destroy();delete this.pane2button[b]}},onSelectChild:function(c){if(!c){return}if(this._currentChild){var d=this.pane2button[this._currentChild];d.attr("checked",false);d.focusNode.setAttribute("tabIndex","-1")}var b=this.pane2button[c];b.attr("checked",true);this._currentChild=c;b.focusNode.setAttribute("tabIndex","0");var a=dijit.byId(this.containerId);dijit.setWaiState(a.containerNode,"labelledby",b.id)},onButtonClick:function(b){var a=dijit.byId(this.containerId);a.selectChild(b)},onCloseButtonClick:function(c){var d=dijit.byId(this.containerId);d.closeChild(c);var a=this.pane2button[this._currentChild];if(a){dijit.focus(a.focusNode||a.domNode)}},adjacent:function(d){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){d=!d}var c=this.getChildren();var b=dojo.indexOf(c,this.pane2button[this._currentChild]);var a=d?1:c.length-1;return c[(b+a)%c.length]},onkeypress:function(c){if(this.disabled||c.altKey){return}var b=null;if(c.ctrlKey||!c._djpage){var a=dojo.keys;switch(c.charOrCode){case a.LEFT_ARROW:case a.UP_ARROW:if(!c._djpage){b=false}break;case a.PAGE_UP:if(c.ctrlKey){b=false}break;case a.RIGHT_ARROW:case a.DOWN_ARROW:if(!c._djpage){b=true}break;case a.PAGE_DOWN:if(c.ctrlKey){b=true}break;case a.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild)}dojo.stopEvent(c);break;default:if(c.ctrlKey){if(c.charOrCode===a.TAB){this.adjacent(!c.shiftKey).onClick();dojo.stopEvent(c)}else{if(c.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild)}dojo.stopEvent(c)}}}}if(b!==null){this.adjacent(b).onClick();dojo.stopEvent(c)}}},onContainerKeyPress:function(a){a.e._djpage=a.page;this.onkeypress(a.e)}});dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{tabIndex:"-1",postCreate:function(a){dijit.setWaiRole((this.focusNode||this.domNode),"tab");this.inherited(arguments)},onClick:function(a){dijit.focus(this.focusNode)},onClickCloseButton:function(a){a.stopPropagation()}})}if(!dojo._hasResource["dijit.layout.StackContainer"]){dojo._hasResource["dijit.layout.StackContainer"]=true;dojo.provide("dijit.layout.StackContainer");dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:true,persist:false,baseClass:"dijitStackContainer",_started:false,postCreate:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitLayoutContainer");dijit.setWaiRole(this.containerNode,"tabpanel");this.connect(this.domNode,"onkeypress",this._onKeyPress)},startup:function(){if(this._started){return}var b=this.getChildren();dojo.forEach(b,this._setupChild,this);if(this.persist){this.selectedChildWidget=dijit.byId(dojo.cookie(this.id+"_selectedChild"))}else{dojo.some(b,function(c){if(c.selected){this.selectedChildWidget=c}return c.selected},this)}var a=this.selectedChildWidget;if(!a&&b[0]){a=this.selectedChildWidget=b[0];a.selected=true}dojo.publish(this.id+"-startup",[{children:b,selected:a}]);if(a){this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);dojo.removeClass(a.domNode,"dijitVisible");dojo.addClass(a.domNode,"dijitHidden");a.domNode.title="";return a},addChild:function(b,a){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-addChild",[b,a]);this.layout();if(!this.selectedChildWidget){this.selectChild(b)}}},removeChild:function(a){this.inherited(arguments);if(this._beingDestroyed){return}if(this._started){dojo.publish(this.id+"-removeChild",[a]);this.layout()}if(this.selectedChildWidget===a){this.selectedChildWidget=undefined;if(this._started){var b=this.getChildren();if(b.length){this.selectChild(b[0])}}}},selectChild:function(a){a=dijit.byId(a);if(this.selectedChildWidget!=a){this._transition(a,this.selectedChildWidget);this.selectedChildWidget=a;dojo.publish(this.id+"-selectChild",[a]);if(this.persist){dojo.cookie(this.id+"_selectedChild",this.selectedChildWidget.id)}}},_transition:function(b,a){if(a){this._hideChild(a)}this._showChild(b);if(this.doLayout&&b.resize){b.resize(this._containerContentBox||this._contentBox)}},_adjacent:function(c){var b=this.getChildren();var a=dojo.indexOf(b,this.selectedChildWidget);a+=c?1:b.length-1;return b[a%b.length]},forward:function(){this.selectChild(this._adjacent(true))},back:function(){this.selectChild(this._adjacent(false))},_onKeyPress:function(a){dojo.publish(this.id+"-containerKeyPress",[{e:a,page:this}])},layout:function(){if(this.doLayout&&this.selectedChildWidget&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._contentBox)}},_showChild:function(b){var a=this.getChildren();b.isFirstChild=(b==a[0]);b.isLastChild=(b==a[a.length-1]);b.selected=true;dojo.removeClass(b.domNode,"dijitHidden");dojo.addClass(b.domNode,"dijitVisible");if(b._onShow){b._onShow()}else{if(b.onShow){b.onShow()}}},_hideChild:function(a){a.selected=false;dojo.removeClass(a.domNode,"dijitVisible");dojo.addClass(a.domNode,"dijitHidden");if(a.onHide){a.onHide()}},closeChild:function(b){var a=b.onClose(this,b);if(a){this.removeChild(b);b.destroyRecursive()}},destroy:function(){this._beingDestroyed=true;this.inherited(arguments)}});dojo.extend(dijit._Widget,{title:"",selected:false,closable:false,onClose:function(){return true}})}if(!dojo._hasResource["dijit.layout.AccordionPane"]){dojo._hasResource["dijit.layout.AccordionPane"]=true;dojo.provide("dijit.layout.AccordionPane");dojo.declare("dijit.layout.AccordionPane",dijit.layout.ContentPane,{constructor:function(){dojo.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0")},onSelected:function(){}})}if(!dojo._hasResource["dijit.layout.AccordionContainer"]){dojo._hasResource["dijit.layout.AccordionContainer"]=true;dojo.provide("dijit.layout.AccordionContainer");dojo.declare("dijit.layout.AccordionContainer",dijit.layout.StackContainer,{duration:dijit.defaultDuration,_verticalSpace:0,baseClass:"dijitAccordionContainer",postCreate:function(){this.domNode.style.overflow="hidden";this.inherited(arguments);dijit.setWaiRole(this.domNode,"tablist")},startup:function(){if(this._started){return}this.inherited(arguments);if(this.selectedChildWidget){var a=this.selectedChildWidget.containerNode.style;a.display="";a.overflow="auto";this.selectedChildWidget._buttonWidget._setSelectedState(true)}},_getTargetHeight:function(b){var a=dojo.getComputedStyle(b);return Math.max(this._verticalSpace-dojo._getPadBorderExtents(b,a).h,0)},layout:function(){var b=this.selectedChildWidget;var a=0;dojo.forEach(this.getChildren(),function(d){a+=d._buttonWidget.getTitleHeight()});var c=this._contentBox;this._verticalSpace=c.h-a;this._containerContentBox={h:this._verticalSpace,w:c.w};if(b){b.resize(this._containerContentBox)}},_setupChild:function(a){a._buttonWidget=new dijit.layout._AccordionButton({contentWidget:a,title:a.title,id:a.id+"_button",parent:this});dojo.place(a._buttonWidget.domNode,a.domNode,"before");this.inherited(arguments)},removeChild:function(a){a._buttonWidget.destroy();this.inherited(arguments)},getChildren:function(){return dojo.filter(this.inherited(arguments),function(a){return a.declaredClass!="dijit.layout._AccordionButton"})},destroy:function(){dojo.forEach(this.getChildren(),function(a){a._buttonWidget.destroy()});this.inherited(arguments)},_transition:function(k,h){if(this._inTransition){return}this._inTransition=true;var g=[];var f=this._verticalSpace;if(k){k._buttonWidget.setSelected(true);this._showChild(k);if(this.doLayout&&k.resize){k.resize(this._containerContentBox)}var c=k.domNode;dojo.addClass(c,"dijitVisible");dojo.removeClass(c,"dijitHidden");var d=c.style.overflow;c.style.overflow="hidden";g.push(dojo.animateProperty({node:c,duration:this.duration,properties:{height:{start:1,end:this._getTargetHeight(c)}},onEnd:dojo.hitch(this,function(){c.style.overflow=d;delete this._inTransition})}))}if(h){h._buttonWidget.setSelected(false);var b=h.domNode,a=b.style.overflow;b.style.overflow="hidden";g.push(dojo.animateProperty({node:b,duration:this.duration,properties:{height:{start:this._getTargetHeight(b),end:1}},onEnd:function(){dojo.addClass(b,"dijitHidden");dojo.removeClass(b,"dijitVisible");b.style.overflow=a;if(h.onHide){h.onHide()}}}))}dojo.fx.combine(g).play()},_onKeyPress:function(d,b){if(this._inTransition||this.disabled||d.altKey||!(b||d.ctrlKey)){if(this._inTransition){dojo.stopEvent(d)}return}var a=dojo.keys,f=d.charOrCode;if((b&&(f==a.LEFT_ARROW||f==a.UP_ARROW))||(d.ctrlKey&&f==a.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();dojo.stopEvent(d)}else{if((b&&(f==a.RIGHT_ARROW||f==a.DOWN_ARROW))||(d.ctrlKey&&(f==a.PAGE_DOWN||f==a.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();dojo.stopEvent(d)}}}});dojo.declare("dijit.layout._AccordionButton",[dijit._Widget,dijit._Templated],{templateString:"<div dojoAttachPoint='titleNode,focusNode' dojoAttachEvent='ondijitclick:_onTitleClick,onkeypress:_onTitleKeyPress,onfocus:_handleFocus,onblur:_handleFocus,onmouseenter:_onTitleEnter,onmouseleave:_onTitleLeave'\n\t\tclass='dijitAccordionTitle' wairole=\"tab\" waiState=\"expanded-false\"\n\t\t><span class='dijitInline dijitAccordionArrow' waiRole=\"presentation\"></span\n\t\t><span class='arrowTextUp' waiRole=\"presentation\">+</span\n\t\t><span class='arrowTextDown' waiRole=\"presentation\">-</span\n\t\t><span waiRole=\"presentation\" dojoAttachPoint='titleTextNode' class='dijitAccordionText'></span>\n</div>\n",attributeMap:dojo.mixin(dojo.clone(dijit.layout.ContentPane.prototype.attributeMap),{title:{node:"titleTextNode",type:"innerHTML"}}),baseClass:"dijitAccordionTitle",getParent:function(){return this.parent},postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);this.setSelected(this.selected);var a=dojo.attr(this.domNode,"id").replace(" ","_");dojo.attr(this.titleTextNode,"id",a+"_title");dijit.setWaiState(this.focusNode,"labelledby",dojo.attr(this.titleTextNode,"id"))},getTitleHeight:function(){return dojo.marginBox(this.titleNode).h},_onTitleClick:function(){var a=this.getParent();if(!a._inTransition){a.selectChild(this.contentWidget);dijit.focus(this.focusNode)}},_onTitleEnter:function(){dojo.addClass(this.focusNode,"dijitAccordionTitle-hover")},_onTitleLeave:function(){dojo.removeClass(this.focusNode,"dijitAccordionTitle-hover")},_onTitleKeyPress:function(a){return this.getParent()._onKeyPress(a,this.contentWidget)},_setSelectedState:function(a){this.selected=a;dojo[(a?"addClass":"removeClass")](this.titleNode,"dijitAccordionTitle-selected");dijit.setWaiState(this.focusNode,"expanded",a);dijit.setWaiState(this.focusNode,"selected",a);this.focusNode.setAttribute("tabIndex",a?"0":"-1")},_handleFocus:function(a){dojo[(a.type=="focus"?"addClass":"removeClass")](this.focusNode,"dijitAccordionFocused")},setSelected:function(b){this._setSelectedState(b);if(b){var a=this.contentWidget;if(a.onSelected){a.onSelected()}}}})}if(!dojo._hasResource["dijit.layout.TabController"]){dojo._hasResource["dijit.layout.TabController"]=true;dojo.provide("dijit.layout.TabController");dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div wairole='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",doLayout:true,buttonWidget:"dijit.layout._TabButton",_rectifyRtlTabList:function(){if(0>=this.tabPosition.indexOf("-h")){return}if(!this.pane2button){return}var b=0;for(var c in this.pane2button){var a=this.pane2button[c].innerDiv.scrollWidth;b=Math.max(b,a)}for(c in this.pane2button){this.pane2button[c].innerDiv.style.width=b+"px"}}});dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",templateString:"<div waiRole=\"presentation\" dojoAttachEvent='onclick:onClick,onmouseenter:_onMouse,onmouseleave:_onMouse'>\n    <div waiRole=\"presentation\" class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>\n        <div waiRole=\"presentation\" class='dijitTabContent' dojoAttachPoint='tabContent'>\n\t        <span dojoAttachPoint='containerNode,focusNode' class='tabLabel'>${!label}</span><img class =\"dijitTabButtonSpacer\" src=\"${_blankGif}\" />\n\t        <span class=\"closeButton\" dojoAttachPoint='closeNode'\n\t        \t\tdojoAttachEvent='onclick: onClickCloseButton, onmouseenter: _onCloseButtonEnter, onmouseleave: _onCloseButtonLeave'>\n\t        \t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint='closeIcon' class='closeImage' waiRole=\"presentation\"/>\n\t            <span dojoAttachPoint='closeText' class='closeText'>x</span>\n\t        </span>\n        </div>\n    </div>\n</div>\n",scrollOnFocus:false,postCreate:function(){if(this.closeButton){dojo.addClass(this.innerDiv,"dijitClosable");var a=dojo.i18n.getLocalization("dijit","common");if(this.closeNode){dojo.attr(this.closeNode,"title",a.itemClose);dojo.attr(this.closeIcon,"title",a.itemClose)}}else{this.closeNode.style.display="none"}this.inherited(arguments);dojo.setSelectable(this.containerNode,false)},_onCloseButtonEnter:function(){dojo.addClass(this.closeNode,"closeButton-hover")},_onCloseButtonLeave:function(){dojo.removeClass(this.closeNode,"closeButton-hover")}})}if(!dojo._hasResource["dijit.layout.TabContainer"]){dojo._hasResource["dijit.layout.TabContainer"]=true;dojo.provide("dijit.layout.TabContainer");dojo.declare("dijit.layout.TabContainer",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:null,templateString:'<div class="dijitTabContainer">\n\t<div dojoAttachPoint="tablistNode"></div>\n\t<div dojoAttachPoint="tablistSpacer" class="dijitTabSpacer ${baseClass}-spacer"></div>\n\t<div class="dijitTabPaneWrapper ${baseClass}-container" dojoAttachPoint="containerNode"></div>\n</div>\n',_controllerWidget:"dijit.layout.TabController",postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.inherited(arguments)},postCreate:function(){this.inherited(arguments);var a=dojo.getObject(this._controllerWidget);this.tablist=new a({id:this.id+"_tablist",tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout")},this.tablistNode);if(this.tabStrip){dojo.addClass(this.tablist.domNode,this.baseClass+"Strip")}if(!this.doLayout){dojo.addClass(this.domNode,"dijitTabContainerNoLayout")}if(this.nested){dojo.addClass(this.domNode,"dijitTabContainerNested");dojo.addClass(this.tablist.domNode,"dijitTabContainerTabListNested");dojo.addClass(this.tablistSpacer,"dijitTabContainerSpacerNested");dojo.addClass(this.containerNode,"dijitTabPaneWrapperNested")}},_setupChild:function(a){dojo.addClass(a.domNode,"dijitTabPane");this.inherited(arguments);return a},startup:function(){if(this._started){return}this.tablist.startup();this.inherited(arguments)},layout:function(){if(!this.doLayout){return}var b=this.tabPosition.replace(/-h/,"");var a=[{domNode:this.tablist.domNode,layoutAlign:b},{domNode:this.tablistSpacer,layoutAlign:b},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,a);this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,a[2]);if(this.selectedChildWidget){this._showChild(this.selectedChildWidget);if(this.doLayout&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._containerContentBox)}}},destroy:function(){if(this.tablist){this.tablist.destroy()}this.inherited(arguments)}})}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function(c){var b={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,sy:4};var a=dojo.cldr.supplemental._region(c);var d=b[a];return(d===undefined)?1:d};dojo.cldr.supplemental._region=function(c){c=dojo.i18n.normalizeLocale(c);var b=c.split("-");var a=b[1];if(!a){a={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[b[0]]}else{if(a.length==4){a=b[2]}}return a};dojo.cldr.supplemental.getWeekend=function(a){var g={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var d={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var f=dojo.cldr.supplemental._region(a);var c=g[f];var b=d[f];if(c===undefined){c=6}if(b===undefined){b=0}return{start:c,end:b}}}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function(b){var a=b.getMonth();var c=[31,28,31,30,31,30,31,31,30,31,30,31];if(a==1&&dojo.date.isLeapYear(b)){return 29}return c[a]};dojo.date.isLeapYear=function(a){var b=a.getFullYear();return !(b%400)||(!(b%4)&&!!(b%100))};dojo.date.getTimezoneName=function(a){var d=a.toString();var g="";var c;var f=d.indexOf("(");if(f>-1){g=d.substring(++f,d.indexOf(")"))}else{var b=/([A-Z\/]+) \d{4}$/;if((c=d.match(b))){g=c[1]}else{d=a.toLocaleString();b=/ ([A-Z\/]+)$/;if((c=d.match(b))){g=c[1]}}}return(g=="AM"||g=="PM")?"":g};dojo.date.compare=function(c,a,b){c=new Date(Number(c));a=new Date(Number(a||new Date()));if(b!=="undefined"){if(b=="date"){c.setHours(0,0,0,0);a.setHours(0,0,0,0)}else{if(b=="time"){c.setFullYear(0,0,0);a.setFullYear(0,0,0)}}}if(c>a){return 1}if(c<a){return -1}return 0};dojo.date.add=function(f,d,c){var h=new Date(Number(f));var b=false;var a="Date";switch(d){case"day":break;case"weekday":var n,o;var m=c%5;if(!m){n=(c>0)?5:-5;o=(c>0)?((c-5)/5):((c+5)/5)}else{n=m;o=parseInt(c/5)}var g=f.getDay();var l=0;if(g==6&&c>0){l=1}else{if(g==0&&c<0){l=-1}}var k=g+n;if(k==0||k==6){l=(c>0)?2:-2}c=(7*o)+n+l;break;case"year":a="FullYear";b=true;break;case"week":c*=7;break;case"quarter":c*=3;case"month":b=true;a="Month";break;case"hour":case"minute":case"second":case"millisecond":a="UTC"+d.charAt(0).toUpperCase()+d.substring(1)+"s"}if(a){h["set"+a](h["get"+a]()+c)}if(b&&(h.getDate()<f.getDate())){h.setDate(0)}return h};dojo.date.difference=function(a,t,s){t=t||new Date();s=s||"day";var q=t.getFullYear()-a.getFullYear();var o=1;switch(s){case"quarter":var r=a.getMonth();var p=t.getMonth();var f=Math.floor(r/3)+1;var d=Math.floor(p/3)+1;d+=(q*4);o=d-f;break;case"weekday":var n=Math.round(dojo.date.difference(a,t,"day"));var g=parseInt(dojo.date.difference(a,t,"week"));var m=n%7;if(m==0){n=g*5}else{var k=0;var c=a.getDay();var b=t.getDay();g=parseInt(n/7);m=n%7;var l=new Date(a);l.setDate(l.getDate()+(g*7));var h=l.getDay();if(n>0){switch(true){case c==6:k=-1;break;case c==0:k=0;break;case b==6:k=-1;break;case b==0:k=-2;break;case (h+m)>5:k=-2}}else{if(n<0){switch(true){case c==6:k=0;break;case c==0:k=1;break;case b==6:k=2;break;case b==0:k=1;break;case (h+m)<0:k=2}}}n+=k;n-=(g*2)}o=n;break;case"year":o=q;break;case"month":o=(t.getMonth()-a.getMonth())+(q*12);break;case"week":o=parseInt(dojo.date.difference(a,t,"day")/7);break;case"day":o/=24;case"hour":o/=60;case"minute":o/=60;case"second":o/=1000;case"millisecond":o*=t.getTime()-a.getTime()}return Math.round(o)}}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function a(g,f,d,h){return h.replace(/([a-z])\1*/ig,function(z){var B,k;var x=z.charAt(0);var o=z.length;var t=["abbr","wide","narrow"];switch(x){case"G":B=f[(o<4)?"eraAbbr":"eraNames"][g.getFullYear()<0?0:1];break;case"y":B=g.getFullYear();switch(o){case 1:break;case 2:if(!d){B=String(B);B=B.substr(B.length-2);break}default:k=true}break;case"Q":case"q":B=Math.ceil((g.getMonth()+1)/3);k=true;break;case"M":var n=g.getMonth();if(o<3){B=n+1;k=true}else{var A=["months","format",t[o-3]].join("-");B=f[A][n]}break;case"w":var y=0;B=dojo.date.locale._getWeekOfYear(g,y);k=true;break;case"d":B=g.getDate();k=true;break;case"D":B=dojo.date.locale._getDayOfYear(g);k=true;break;case"E":var v=g.getDay();if(o<3){B=v+1;k=true}else{var w=["days","format",t[o-3]].join("-");B=f[w][v]}break;case"a":var u=(g.getHours()<12)?"am":"pm";B=f[u];break;case"h":case"H":case"K":case"k":var q=g.getHours();switch(x){case"h":B=(q%12)||12;break;case"H":B=q;break;case"K":B=(q%12);break;case"k":B=q||24;break}k=true;break;case"m":B=g.getMinutes();k=true;break;case"s":B=g.getSeconds();k=true;break;case"S":B=Math.round(g.getMilliseconds()*Math.pow(10,o-3));k=true;break;case"v":case"z":B=dojo.date.getTimezoneName(g);if(B){break}o=4;case"Z":var r=g.getTimezoneOffset();var p=[(r<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(r)/60),2),dojo.string.pad(Math.abs(r)%60,2)];if(o==4){p.splice(0,0,"GMT");p.splice(3,0,":")}B=p.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+h)}if(k){B=dojo.string.pad(B,o)}return B})}dojo.date.locale.format=function(o,n){n=n||{};var l=dojo.i18n.normalizeLocale(n.locale);var k=n.formatLength||"short";var g=dojo.date.locale._getGregorianBundle(l);var p=[];var d=dojo.hitch(this,a,o,g,n.fullYear);if(n.selector=="year"){var q=o.getFullYear();if(l.match(/^zh|^ja/)){q+="年"}return q}if(n.selector!="time"){var m=n.datePattern||g["dateFormat-"+k];if(m){p.push(c(m,d))}}if(n.selector!="date"){var h=n.timePattern||g["timeFormat-"+k];if(h){p.push(c(h,d))}}var f=p.join(" ");return f};dojo.date.locale.regexp=function(d){return dojo.date.locale._parseInfo(d).regexp};dojo.date.locale._parseInfo=function(m){m=m||{};var l=dojo.i18n.normalizeLocale(m.locale);var k=dojo.date.locale._getGregorianBundle(l);var h=m.formatLength||"short";var g=m.datePattern||k["dateFormat-"+h];var f=m.timePattern||k["timeFormat-"+h];var d;if(m.selector=="date"){d=g}else{if(m.selector=="time"){d=f}else{d=g+" "+f}}var o=[];var n=c(d,dojo.hitch(this,b,o,k,m));return{regexp:n,tokens:o,bundle:k}};dojo.date.locale.parse=function(p,f){var g=dojo.date.locale._parseInfo(f);var d=g.tokens,t=g.bundle;var s=new RegExp("^"+g.regexp+"$",g.strict?"":"i");var r=s.exec(p);if(!r){return null}var q=["abbr","wide","narrow"];var o=[1970,0,1,0,0,0,0];var n="";var m=dojo.every(r,function(G,x){if(!x){return true}var C=d[x-1];var w=C.length;switch(C.charAt(0)){case"y":if(w!=2&&f.strict){o[0]=G}else{if(G<100){G=Number(G);var E=""+new Date().getFullYear();var B=E.substring(0,2)*100;var F=Math.min(Number(E.substring(2,4))+20,99);var z=(G<F)?B+G:B-100+G;o[0]=z}else{if(f.strict){return false}o[0]=G}}break;case"M":if(w>2){var D=t["months-format-"+q[w-3]].concat();if(!f.strict){G=G.replace(".","").toLowerCase();D=dojo.map(D,function(v){return v.replace(".","").toLowerCase()})}G=dojo.indexOf(D,G);if(G==-1){return false}}else{G--}o[1]=G;break;case"E":case"e":var H=t["days-format-"+q[w-3]].concat();if(!f.strict){G=G.toLowerCase();H=dojo.map(H,function(v){return v.toLowerCase()})}G=dojo.indexOf(H,G);if(G==-1){return false}break;case"D":o[1]=0;case"d":o[2]=G;break;case"a":var A=f.am||t.am;var u=f.pm||t.pm;if(!f.strict){var y=/\./g;G=G.replace(y,"").toLowerCase();A=A.replace(y,"").toLowerCase();u=u.replace(y,"").toLowerCase()}if(f.strict&&G!=A&&G!=u){return false}n=(G==u)?"p":(G==A)?"a":"";break;case"K":if(G==24){G=0}case"h":case"H":case"k":if(G>23){return false}o[3]=G;break;case"m":o[4]=G;break;case"s":o[5]=G;break;case"S":o[6]=G}return true});var l=+o[3];if(n==="p"&&l<12){o[3]=l+12}else{if(n==="a"&&l==12){o[3]=0}}var k=new Date(o[0],o[1],o[2],o[3],o[4],o[5],o[6]);if(f.strict){k.setFullYear(o[0])}var h=d.join("");if(!m||(h.indexOf("M")!=-1&&k.getMonth()!=o[1])||(h.indexOf("d")!=-1&&k.getDate()!=o[2])){return null}return k};function c(l,k,g,d){var m=function(n){return n};k=k||m;g=g||m;d=d||m;var h=l.match(/(''|[^'])+/g);var f=l.charAt(0)=="'";dojo.forEach(h,function(n,o){if(!n){h[o]=""}else{h[o]=(f?g:k)(n);f=!f}});return d(h.join(""))}function b(d,h,g,f){f=dojo.regexp.escapeString(f);if(!g.strict){f=f.replace(" a"," ?a")}return f.replace(/([a-z])\1*/ig,function(q){var n;var t=q.charAt(0);var k=q.length;var r="",p="";if(g.strict){if(k>1){r="0{"+(k-1)+"}"}if(k>2){p="0{"+(k-2)+"}"}}else{r="0?";p="0{0,2}"}switch(t){case"y":n="\\d{2,4}";break;case"M":n=(k>2)?"\\S+?":r+"[1-9]|1[0-2]";break;case"D":n=r+"[1-9]|"+p+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case"d":n="[12]\\d|"+r+"[1-9]|3[01]";break;case"w":n=r+"[1-9]|[1-4][0-9]|5[0-3]";break;case"E":n="\\S+";break;case"h":n=r+"[1-9]|1[0-2]";break;case"k":n=r+"\\d|1[01]";break;case"H":n=r+"\\d|1\\d|2[0-3]";break;case"K":n=r+"[1-9]|1\\d|2[0-4]";break;case"m":case"s":n="[0-5]\\d";break;case"S":n="\\d{"+k+"}";break;case"a":var o=g.am||h.am||"AM";var m=g.pm||h.pm||"PM";if(g.strict){n=o+"|"+m}else{n=o+"|"+m;if(o!=o.toLowerCase()){n+="|"+o.toLowerCase()}if(m!=m.toLowerCase()){n+="|"+m.toLowerCase()}if(n.indexOf(".")!=-1){n+="|"+n.replace(/\./g,"")}}n=n.replace(/\./g,"\\.");break;default:n=".*"}if(d){d.push(q)}return"("+n+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}})();(function(){var a=[];dojo.date.locale.addCustomFormats=function(c,b){a.push({pkg:c,name:b})};dojo.date.locale._getGregorianBundle=function(b){var c={};dojo.forEach(a,function(f){var d=dojo.i18n.getLocalization(f.pkg,f.name,b);c=dojo.mixin(c,d)},this);return c}})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(g,d,k,h){var f;var c=dojo.date.locale._getGregorianBundle(h);var b=[g,k,d];if(k=="standAlone"){var a=b.join("-");f=c[a];if(f[0]==1){f=undefined}}b[1]="format";return(f||c[b.join("-")]).concat()};dojo.date.locale.displayPattern=function(d,c){var b="GyMdkHmsSEDFwWahKzYeugAZvcL",a=dojo.date.locale._getGregorianBundle(c).patternChars;return dojo.map(d,function(g){var f=b.indexOf(g);return f<0?g:a.charAt(f)}).join("")};dojo.date.locale.isWeekend=function(d,c){var a=dojo.cldr.supplemental.getWeekend(c);var b=(d||new Date()).getDay();if(a.end<a.start){a.end+=7;if(b<a.start){b+=7}}return b>=a.start&&b<=a.end};dojo.date.locale._getDayOfYear=function(a){return dojo.date.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};dojo.date.locale._getWeekOfYear=function(f,d){if(arguments.length==1){d=0}var c=new Date(f.getFullYear(),0,1).getDay();var a=(c-d+7)%7;var b=Math.floor((dojo.date.locale._getDayOfYear(f)+a-1)/7);if(c==d){b++}return b}}if(!dojo._hasResource["dijit._Calendar"]){dojo._hasResource["dijit._Calendar"]=true;dojo.provide("dijit._Calendar");dojo.declare("dijit._Calendar",[dijit._Widget,dijit._Templated],{templateString:'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer">\n\t<thead>\n\t\t<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n\t\t\t<th class=\'dijitReset\' dojoAttachPoint="decrementMonth">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" waiRole="presentation">\n\t\t\t\t<span dojoAttachPoint="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset\' colspan="5">\n\t\t\t\t<div dojoAttachPoint="monthLabelSpacer" class="dijitCalendarMonthLabelSpacer"></div>\n\t\t\t\t<div dojoAttachPoint="monthLabelNode" class="dijitCalendarMonthLabel"></div>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset\' dojoAttachPoint="incrementMonth">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" waiRole="presentation">\n\t\t\t\t<span dojoAttachPoint="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class="dijitReset dijitCalendarDayLabelTemplate"><span class="dijitCalendarDayLabel"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent="onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut" class="dijitReset dijitCalendarBodyContainer">\n\t\t<tr class="dijitReset dijitCalendarWeekTemplate">\n\t\t\t<td class="dijitReset dijitCalendarDateTemplate"><span class="dijitCalendarDateLabel"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class="dijitReset dijitCalendarYearContainer">\n\t\t<tr>\n\t\t\t<td class=\'dijitReset\' valign="top" colspan="7">\n\t\t\t\t<h3 class="dijitCalendarYearLabel">\n\t\t\t\t\t<span dojoAttachPoint="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear"></span>\n\t\t\t\t\t<span dojoAttachPoint="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear"></span>\n\t\t\t\t\t<span dojoAttachPoint="nextYearLabelNode" class="dijitInline dijitCalendarNextYear"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\t\n',value:new Date(),dayWidth:"narrow",setValue:function(a){dojo.deprecated("dijit.Calendar:setValue() is deprecated.  Use attr('value', ...) instead.","","2.0");this.attr("value",a)},_setValueAttr:function(a){if(!this.value||dojo.date.compare(a,this.value)){a=new Date(a);a.setHours(1);this.displayMonth=new Date(a);if(!this.isDisabledDate(a,this.lang)){this.onChange(this.value=a)}this._populateGrid()}},_setText:function(a,b){while(a.firstChild){a.removeChild(a.firstChild)}a.appendChild(dojo.doc.createTextNode(b))},_populateGrid:function(){var g=this.displayMonth;g.setDate(1);var f=g.getDay();var c=dojo.date.getDaysInMonth(g);var b=dojo.date.getDaysInMonth(dojo.date.add(g,"month",-1));var a=new Date();var p=this.value;var o=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(o>f){o-=7}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(d,t){t+=o;var s=new Date(g);var u,q="dijitCalendar",r=0;if(t<f){u=b-f+t+1;r=-1;q+="Previous"}else{if(t>=(f+c)){u=t-f-c+1;r=1;q+="Next"}else{u=t-f+1;q+="Current"}}if(r){s=dojo.date.add(s,"month",r)}s.setDate(u);if(!dojo.date.compare(s,a,"date")){q="dijitCalendarCurrentDate "+q}if(!dojo.date.compare(s,p,"date")){q="dijitCalendarSelectedDate "+q}if(this.isDisabledDate(s,this.lang)){q="dijitCalendarDisabledDate "+q}var w=this.getClassForDate(s,this.lang);if(w){q=w+" "+q}d.className=q+"Month dijitCalendarDateTemplate";d.dijitDateValue=s.valueOf();var v=dojo.query(".dijitCalendarDateLabel",d)[0];this._setText(v,s.getDate())},this);var n=dojo.date.locale.getNames("months","wide","standAlone",this.lang);this._setText(this.monthLabelNode,n[g.getMonth()]);var m=g.getFullYear()-1;var h=new Date();dojo.forEach(["previous","current","next"],function(d){h.setFullYear(m++);this._setText(this[d+"YearLabelNode"],dojo.date.locale.format(h,{selector:"year",locale:this.lang}))},this);var l=this;var k=function(r,q,d){l._connects.push(dijit.typematic.addMouseListener(l[r],l,function(s){if(s>=0){l._adjustDisplay(q,d)}},0.8,500))};k("incrementMonth","month",1);k("decrementMonth","month",-1);k("nextYearLabelNode","year",1);k("previousYearLabelNode","year",-1)},goToToday:function(){this.attr("value",new Date())},postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);var b=dojo.hitch(this,function(k,h){var f=dojo.query(k,this.domNode)[0];for(var g=0;g<h;g++){f.parentNode.appendChild(f.cloneNode(true))}});b(".dijitCalendarDayLabelTemplate",6);b(".dijitCalendarDateTemplate",6);b(".dijitCalendarWeekTemplate",5);var a=dojo.date.locale.getNames("days",this.dayWidth,"standAlone",this.lang);var d=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(g,f){this._setText(g,a[(f+d)%7])},this);var c=dojo.date.locale.getNames("months","wide","standAlone",this.lang);dojo.forEach(c,function(f){var g=dojo.create("div",null,this.monthLabelSpacer);this._setText(g,f)},this);this.value=null;this.attr("value",new Date())},_adjustDisplay:function(a,b){this.displayMonth=dojo.date.add(this.displayMonth,a,b);this._populateGrid()},_onDayClick:function(a){dojo.stopEvent(a);for(var b=a.target;b&&!b.dijitDateValue;b=b.parentNode){}if(b&&!dojo.hasClass(b,"dijitCalendarDisabledDate")){this.attr("value",b.dijitDateValue);this.onValueSelected(this.value)}},_onDayMouseOver:function(a){var b=a.target;if(b&&(b.dijitDateValue||b==this.previousYearLabelNode||b==this.nextYearLabelNode)){dojo.addClass(b,"dijitCalendarHoveredDate");this._currentNode=b}},_onDayMouseOut:function(b){if(!this._currentNode){return}for(var c=b.relatedTarget;c;){if(c==this._currentNode){return}try{c=c.parentNode}catch(a){c=null}}dojo.removeClass(this._currentNode,"dijitCalendarHoveredDate");this._currentNode=null},onValueSelected:function(a){},onChange:function(a){},isDisabledDate:function(b,a){},getClassForDate:function(b,a){}})}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",templateString:'<input class="dijit dijitReset dijitLeft" dojoAttachPoint=\'textbox,focusNode\'\n\tdojoAttachEvent=\'onmouseenter:_onMouse,onmouseleave:_onMouse\'\n\tautocomplete="off" type="${type}" ${nameAttrSetting}\n\t/>\n',baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints)},_setValueAttr:function(a,d,c){var b;if(a!==undefined){b=this.filter(a);if(typeof c!="string"){if(b!==null&&((typeof b!="number")||!isNaN(b))){c=this.filter(this.format(b,this.constraints))}else{c=""}}}if(c!=null&&c!=undefined&&((typeof c)!="number"||!isNaN(c))&&this.textbox.value!=c){this.textbox.value=c}this.inherited(arguments,[b,d])},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue")},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},setDisplayedValue:function(a){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",a)},_setDisplayedValueAttr:function(a){if(a===null||a===undefined){a=""}else{if(typeof a!="string"){a=String(a)}}this.textbox.value=a;this._setValueAttr(this.attr("value"),undefined,a)},format:function(b,a){return((b==null||b==undefined)?"":(b.toString?b.toString():b))},parse:function(b,a){return b},_refreshState:function(){},_onInput:function(b){if(b&&b.type&&/key/i.test(b.type)&&b.keyCode){switch(b.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return}}if(this.intermediateChanges){var a=this;setTimeout(function(){a._handleOnChange(a.attr("value"),false)},0)}this._refreshState()},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput)}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput)}this._layoutHack()},filter:function(a){if(a===null){return""}if(typeof a!="string"){return a}if(this.trim){a=dojo.trim(a)}if(this.uppercase){a=a.toUpperCase()}if(this.lowercase){a=a.toLowerCase()}if(this.propercase){a=a.replace(/[^\s]+/g,function(b){return b.substring(0,1).toUpperCase()+b.substring(1)})}return a},_setBlurValue:function(){this._setValueAttr(this.attr("value"),true)},_onBlur:function(a){if(this.disabled){return}this._setBlurValue();this.inherited(arguments)},_onFocus:function(a){if(this.disabled){return}this._refreshState();this.inherited(arguments)},reset:function(){this.textbox.value="";this.inherited(arguments)}});dijit.selectInputText=function(_5c2,_5c3,stop){var _5c5=dojo.global;var _5c6=dojo.doc;_5c2=dojo.byId(_5c2);if(isNaN(_5c3)){_5c3=0}if(isNaN(stop)){stop=_5c2.value?_5c2.value.length:0}_5c2.focus();if(_5c6.selection&&dojo.body()["createTextRange"]){if(_5c2.createTextRange){var _5c7=_5c2.createTextRange();with(_5c7){collapse(true);moveStart("character",_5c3);moveEnd("character",stop);select()}}}else{if(_5c5.getSelection){var _5c8=_5c5.getSelection();if(_5c2.setSelectionRange){_5c2.setSelectionRange(_5c3,stop)}}}}}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:'<div class="dijit dijitReset dijitInlineTable dijitLeft"\n\tid="widget_${id}"\n\tdojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse" waiRole="presentation"\n\t><div style="overflow:hidden;"\n\t\t><div class="dijitReset dijitValidationIcon"><br></div\n\t\t><div class="dijitReset dijitValidationIconText">&Chi;</div\n\t\t><div class="dijitReset dijitInputField"\n\t\t\t><input class="dijitReset" dojoAttachPoint=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${nameAttrSetting} type=\'${type}\'\n\t\t/></div\n\t></div\n></div>\n',baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(a){return this.regExp},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused)},validator:function(b,a){return(new RegExp("^(?:"+this.regExpGen(a)+")"+(this.required?"":"?")+"$")).test(b)&&(!this.required||!this._isEmpty(b))&&(this._isEmpty(b)||this.parse(b,a)!==undefined)},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0},isValid:function(a){return this.validator(this.textbox.value,this.constraints)},_isEmpty:function(a){return/^\s*$/.test(a)},getErrorMessage:function(a){return this.invalidMessage},getPromptMessage:function(a){return this.promptMessage},_maskValidSubsetError:true,validate:function(f){var d="";var c=this.disabled||this.isValid(f);if(c){this._maskValidSubsetError=true}var b=!c&&f&&this._isValidSubset();var a=this._isEmpty(this.textbox.value);this.state=(c||(!this._hasBeenBlurred&&a)||b)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=false}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",c?"false":"true");if(f){if(a){d=this.getPromptMessage(true)}if(!d&&(this.state=="Error"||(b&&!this._maskValidSubsetError))){d=this.getErrorMessage(true)}}this.displayMessage(d);return c},_message:"",displayMessage:function(a){if(this._message==a){return}this._message=a;dijit.hideTooltip(this.domNode);if(a){dijit.showTooltip(a,this.domNode,this.tooltipPosition)}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage}var b=this.regExpGen(this.constraints);this.regExp=b;var c="";if(b!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(d){switch(d.charAt(0)){case"{":case"+":case"?":case"*":case"^":case"$":case"|":case"(":c+=d;break;case")":c+="|$)";break;default:c+="(?:"+d+"|$)";break}})}try{"".search(c)}catch(a){c=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp)}this._partialre="^(?:"+c+")$"},_setDisabledAttr:function(a){this.inherited(arguments);if(this.valueNode){this.valueNode.disabled=a}this._refreshState()},_setRequiredAttr:function(a){this.required=a;dijit.setWaiState(this.focusNode,"required",a);this._refreshState()},postCreate:function(){if(dojo.isIE){var b=dojo.getComputedStyle(this.focusNode);if(b){var a=b.fontFamily;if(a){this.focusNode.style.fontFamily=a}}}this.inherited(arguments)},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments)}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},serialize:function(b,a){return b.toString?b.toString():""},toString:function(){var a=this.filter(this.attr("value"));return a!=null?(typeof a=="string"?a:this.serialize(a,this.constraints)):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name},this.textbox,"after")},_setDisabledAttr:function(a){this.inherited(arguments);dojo.attr(this.valueNode,"disabled",a)},reset:function(){this.valueNode.value="";this.inherited(arguments)}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(d,c){var b="min" in c;var a="max" in c;if(b||a){return(!b||this.compare(d,c.min)>=0)&&(!a||this.compare(d,c.max)<=0)}return true},isInRange:function(a){return this.rangeCheck(this.attr("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var f=this.attr("value");var c=false;var b=false;if("min" in this.constraints){var d=this.constraints.min;f=this.compare(f,((typeof d=="number")&&d>=0&&f!=0)?0:d);c=(typeof f=="number")&&f<0}if("max" in this.constraints){var a=this.constraints.max;f=this.compare(f,((typeof a!="number")||a>0)?a:0);b=(typeof f=="number")&&f>0}return c||b},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(a){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(a))},getErrorMessage:function(a){if(dijit.form.RangeBoundTextBox.superclass.isValid.call(this,false)&&!this.isInRange(a)){return this.rangeMessage}return this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage}},postCreate:function(){this.inherited(arguments);if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min)}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max)}},_setValueAttr:function(a,b){dijit.setWaiState(this.focusNode,"valuenow",a);this.inherited(arguments)}})}if(!dojo._hasResource["dijit.form._DateTimeTextBox"]){dojo._hasResource["dijit.form._DateTimeTextBox"]=true;dojo.provide("dijit.form._DateTimeTextBox");dojo.declare("dijit.form._DateTimeTextBox",dijit.form.RangeBoundTextBox,{regExpGen:dojo.date.locale.regexp,compare:dojo.date.compare,format:function(a,b){if(!a){return""}return dojo.date.locale.format(a,b)},parse:function(b,a){return dojo.date.locale.parse(b,a)||(this._isEmpty(b)?null:undefined)},serialize:dojo.date.stamp.toISOString,value:new Date(""),popupClass:"",_selector:"",postMixInProperties:function(){this.inherited(arguments);if(!this.value||this.value.toString()==dijit.form._DateTimeTextBox.prototype.value.toString()){this.value=null}var b=this.constraints;b.selector=this._selector;b.fullYear=true;var a=dojo.date.stamp.fromISOString;if(typeof b.min=="string"){b.min=a(b.min)}if(typeof b.max=="string"){b.max=a(b.max)}},_onFocus:function(a){this._open()},_setValueAttr:function(c,b,a){this.inherited(arguments);if(this._picker){if(!c){c=new Date()}this._picker.attr("value",c)}},_open:function(){if(this.disabled||this.readOnly||!this.popupClass){return}var a=this;if(!this._picker){var b=dojo.getObject(this.popupClass,false);this._picker=new b({onValueSelected:function(c){if(a._tabbingAway){delete a._tabbingAway}else{a.focus()}setTimeout(dojo.hitch(a,"_close"),1);dijit.form._DateTimeTextBox.superclass._setValueAttr.call(a,c,true)},lang:a.lang,constraints:a.constraints,isDisabledDate:function(f){var d=dojo.date.compare;var c=a.constraints;return c&&(c.min&&(d(c.min,f,"date")>0)||(c.max&&d(c.max,f,"date")<0))}});this._picker.attr("value",this.attr("value")||new Date())}if(!this._opened){dijit.popup.open({parent:this,popup:this._picker,around:this.domNode,onCancel:dojo.hitch(this,this._close),onClose:function(){a._opened=false}});this._opened=true}dojo.marginBox(this._picker.domNode,{w:this.domNode.offsetWidth})},_close:function(){if(this._opened){dijit.popup.close(this._picker);this._opened=false}},_onBlur:function(){this._close();if(this._picker){this._picker.destroy();delete this._picker}this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,b){this._setValueAttr(this.parse(a,this.constraints),b,a)},destroy:function(){if(this._picker){this._picker.destroy();delete this._picker}this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.connect(this.focusNode,"onkeypress",this._onKeyPress)},_onKeyPress:function(c){var b=this._picker,a=dojo.keys;if(b&&this._opened&&b.handleKey){if(b.handleKey(c)===false){return}}if(this._opened&&c.charOrCode==a.ESCAPE&&!c.shiftKey&&!c.ctrlKey&&!c.altKey){this._close();dojo.stopEvent(c)}else{if(!this._opened&&c.charOrCode==a.DOWN_ARROW){this._open();dojo.stopEvent(c)}else{if(c.charOrCode===a.TAB){this._tabbingAway=true}else{if(this._opened&&(c.keyChar||c.charOrCode===a.BACKSPACE||c.charOrCode==a.DELETE)){setTimeout(dojo.hitch(this,function(){dijit.placeOnScreenAroundElement(b.domNode.parentNode,this.domNode,{BL:"TL",TL:"BL"},b.orient?dojo.hitch(b,"orient"):null)}),1)}}}}}})}if(!dojo._hasResource["dijit.form.DateTextBox"]){dojo._hasResource["dijit.form.DateTextBox"]=true;dojo.provide("dijit.form.DateTextBox");dojo.declare("dijit.form.DateTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitDateTextBox",popupClass:"dijit._Calendar",_selector:"date",value:new Date("")})}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:'<div class="dijit dijitReset dijitInlineTable dijitLeft"\n\tid="widget_${id}"\n\tdojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse" dojoAttachPoint="comboNode" waiRole="combobox" tabIndex="-1"\n\t><div style="overflow:hidden;"\n\t\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\'\n\t\t\tdojoAttachPoint="downArrowNode" waiRole="presentation"\n\t\t\tdojoAttachEvent="onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse"\n\t\t\t><div class="dijitArrowButtonInner">&thinsp;</div\n\t\t\t><div class="dijitArrowButtonChar">&#9660;</div\n\t\t></div\n\t\t><div class="dijitReset dijitValidationIcon"><br></div\n\t\t><div class="dijitReset dijitValidationIconText">&Chi;</div\n\t\t><div class="dijitReset dijitInputField"\n\t\t\t><input ${nameAttrSetting} type="text" autocomplete="off" class=\'dijitReset\'\n\t\t\tdojoAttachEvent="onkeypress:_onKeyPress,compositionend"\n\t\t\tdojoAttachPoint="textbox,focusNode" waiRole="textbox" waiState="haspopup-true,autocomplete-list"\n\t\t/></div\n\t></div\n></div>\n',baseClass:"dijitComboBox",_getCaretPos:function(a){var f=0;if(typeof(a.selectionStart)=="number"){f=a.selectionStart}else{if(dojo.isIE){var c=dojo.doc.selection.createRange().duplicate();var b=a.createTextRange();c.move("character",0);b.move("character",0);try{b.setEndPoint("EndToEnd",c);f=String(b.text).replace(/\r/g,"").length}catch(d){}}}return f},_setCaretPos:function(a,b){b=parseInt(b);dijit.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);dijit.setWaiState(this.comboNode,"disabled",a)},_onKeyPress:function(b){var d=b.charOrCode;if(b.altKey||(b.ctrlKey&&(d!="x"&&d!="v"))||b.key==dojo.keys.SHIFT){return}var a=false;var f=this._popupWidget;var c=dojo.keys;var h=null;if(this._isShowingNow){f.handleKey(d);h=f.getHighlightedOption()}switch(d){case c.PAGE_DOWN:case c.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this._arrowPressed();a=true}else{if(h){this._announceOption(h)}}dojo.stopEvent(b);this._prev_key_backspace=false;this._prev_key_esc=false;break;case c.PAGE_UP:case c.UP_ARROW:if(this._isShowingNow){this._announceOption(h)}dojo.stopEvent(b);this._prev_key_backspace=false;this._prev_key_esc=false;break;case c.ENTER:if(h){if(h==f.nextButton){this._nextSearch(1);dojo.stopEvent(b);break}else{if(h==f.previousButton){this._nextSearch(-1);dojo.stopEvent(b);break}}}else{this._setDisplayedValueAttr(this.attr("displayedValue"),true)}b.preventDefault();case c.TAB:var g=this.attr("displayedValue");if(f&&(g==f._messages.previousMessage||g==f._messages.nextMessage)){break}if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=false;if(h){f.attr("value",{target:h})}this._lastQuery=null;this._hideResultList()}break;case" ":this._prev_key_backspace=false;this._prev_key_esc=false;if(h){dojo.stopEvent(b);this._selectOption();this._hideResultList()}else{a=true}break;case c.ESCAPE:this._prev_key_backspace=false;this._prev_key_esc=true;if(this._isShowingNow){dojo.stopEvent(b);this._hideResultList()}break;case c.DELETE:case c.BACKSPACE:this._prev_key_esc=false;this._prev_key_backspace=true;a=true;break;case c.RIGHT_ARROW:case c.LEFT_ARROW:this._prev_key_backspace=false;this._prev_key_esc=false;break;default:this._prev_key_backspace=false;this._prev_key_esc=false;a=typeof d=="string"}if(this.searchTimer){clearTimeout(this.searchTimer)}if(a){setTimeout(dojo.hitch(this,"_startSearchFromInput"),1)}},_autoCompleteText:function(c){var a=this.focusNode;dijit.selectInputText(a,a.value.length);var b=this.ignoreCase?"toLowerCase":"substr";if(c[b](0).indexOf(this.focusNode.value[b](0))==0){var d=this._getCaretPos(a);if((d+1)>a.value.length){a.value=c;dijit.selectInputText(a,d)}}else{a.value=c;dijit.selectInputText(a)}},_openResultList:function(c,b){if(this.disabled||this.readOnly||(b.query[this.searchAttr]!=this._lastQuery)){return}this._popupWidget.clearResultList();if(!c.length){this._hideResultList();return}this.item=null;var a=new String(this.store.getValue(c[0],this.searchAttr));if(a&&this.autoComplete&&!this._prev_key_backspace&&(b.query[this.searchAttr]!="*")){this.item=c[0];this._autoCompleteText(a)}b._maxOptions=this._maxOptions;this._popupWidget.createOptions(c,b,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(b.direction){if(1==b.direction){this._popupWidget.highlightFirstOption()}else{if(-1==b.direction){this._popupWidget.highlightLastOption()}}this._announceOption(this._popupWidget.getHighlightedOption())}},_showResultList:function(){this._hideResultList();var a=this._popupWidget.getItems(),d=Math.min(a.length,this.maxListLength);this._arrowPressed();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var f=this.open();var c=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((f.h==c.h)&&(f.w==c.w))?"hidden":"auto";var b=f.w;if(f.h<this._popupWidget.domNode.scrollHeight){b+=16}dojo.marginBox(this._popupWidget.domNode,{h:f.h,w:Math.max(b,this.domNode.offsetWidth)});dijit.setWaiState(this.comboNode,"expanded","true")},_hideResultList:function(){if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._arrowIdle();this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant")}},_setBlurValue:function(){var a=this.attr("displayedValue");var b=this._popupWidget;if(b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)){this._setValueAttr(this._lastValueReported,true)}else{this.attr("displayedValue",a)}},_onBlur:function(){this._hideResultList();this._arrowIdle();this.inherited(arguments)},_announceOption:function(b){if(b==null){return}var a;if(b==this._popupWidget.nextButton||b==this._popupWidget.previousButton){a=b.innerHTML}else{a=this.store.getValue(b.item,this.searchAttr)}this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(b,"id"));this._autoCompleteText(a)},_selectOption:function(a){var b=null;if(!a){a={target:this._popupWidget.getHighlightedOption()}}if(!a.target){this.attr("displayedValue",this.attr("displayedValue"));return}else{b=a.target}if(!a.noHide){this._hideResultList();this._setCaretPos(this.focusNode,this.store.getValue(b.item,this.searchAttr).length)}this._doSelect(b)},_doSelect:function(a){this.item=a.item;this.attr("value",this.store.getValue(a.item,this.searchAttr))},_onArrowMouseDown:function(a){if(this.disabled||this.readOnly){return}dojo.stopEvent(a);this.focus();if(this._isShowingNow){this._hideResultList()}else{this._startSearch("")}},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"))},_getQueryString:function(a){return dojo.string.substitute(this.queryExpr,[a])},_startSearch:function(c){if(!this._popupWidget){var b=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:b});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",b)}this.item=null;var a=dojo.clone(this.query);this._lastInput=c;this._lastQuery=a[this.searchAttr]=this._getQueryString(c);this.searchTimer=setTimeout(dojo.hitch(this,function(k,h){var g={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:k,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(l){console.error("dijit.form.ComboBox: "+l);dojo.hitch(h,"_hideResultList")()},start:0,count:this.pageSize};dojo.mixin(g,h.fetchProperties);var f=h.store.fetch(g);var d=function(m,l){m.start+=m.count*l;m.direction=l;this.store.fetch(m)};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,d,f)},a,this),this.searchDelay)},_setMaxOptions:function(b,a){this._maxOptions=b},_getValueField:function(){return this.searchAttr},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive")}},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed")}},compositionend:function(a){this._onKeyPress({charCode:-1})},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.hasDownArrow){this.baseClass="dijitTextBox"}if(!this.store){var b=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(b);if(!this.value||((typeof b.selectedIndex=="number")&&b.selectedIndex.toString()===this.value)){var a=this.store.fetchSelectedItem();if(a){this.value=this.store.getValue(a,this._getValueField())}}}this.inherited(arguments)},postCreate:function(){var a=dojo.query('label[for="'+this.id+'"]');if(a.length){a[0].id=(this.id+"_label");var b=this.comboNode;dijit.setWaiState(b,"labelledby",a[0].id)}this.inherited(arguments)},uninitialize:function(){if(this._popupWidget){this._hideResultList();this._popupWidget.destroy()}},_getMenuLabelFromItem:function(a){var c=this.store.getValue(a,this.labelAttr||this.searchAttr);var b=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){c=this.doHighlight(c,this._escapeHtml(this._lastInput));b="html"}return{html:b=="html",label:c}},doHighlight:function(d,f){var c="i"+(this.highlightMatch=="all"?"g":"");var b=this._escapeHtml(d);f=dojo.regexp.escapeString(f);var a=b.replace(new RegExp("(^|\\s)("+f+")",c),'$1<span class="dijitComboBoxHighlightMatch">$2</span>');return a},_escapeHtml:function(a){a=String(a).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return a},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this})},reset:function(){this.item=null;this.inherited(arguments)}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'><li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' waiRole='option'></li><li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' waiRole='option'></li></ul>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited(arguments)},_setValueAttr:function(a){this.value=a;this.onChange(a)},onChange:function(a){},onPage:function(a){},postCreate:function(){this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage;this.inherited(arguments)},onClose:function(){this._blurOptionNode()},_createOption:function(a,d){var c=d(a);var b=dojo.doc.createElement("li");dijit.setWaiRole(b,"option");if(c.html){b.innerHTML=c.label}else{b.appendChild(dojo.doc.createTextNode(c.label))}if(b.innerHTML==""){b.innerHTML="&nbsp;"}b.item=a;return b},createOptions:function(c,a,d){this.previousButton.style.display=(a.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(c,function(g,f){var h=this._createOption(g,d);h.className="dijitReset dijitMenuItem";dojo.attr(h,"id",this.id+f);this.domNode.insertBefore(h,this.nextButton)},this);var b=false;if(a._maxOptions&&a._maxOptions!=-1){if((a.start+a.count)<a._maxOptions){b=true}else{if((a.start+a.count)>(a._maxOptions-1)){if(a.count==c.length){b=true}}}}else{if(a.count==c.length){b=true}}this.nextButton.style.display=b?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next")},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2])}},getItems:function(){return this.domNode.childNodes},getListLength:function(){return this.domNode.childNodes.length-2},_onMouseDown:function(a){dojo.stopEvent(a)},_onMouseUp:function(a){if(a.target===this.domNode){return}else{if(a.target==this.previousButton){this.onPage(-1)}else{if(a.target==this.nextButton){this.onPage(1)}else{var b=a.target;while(!b.item){b=b.parentNode}this._setValueAttr({target:b},true)}}}},_onMouseOver:function(a){if(a.target===this.domNode){return}var b=a.target;if(!(b==this.previousButton||b==this.nextButton)){while(!b.item){b=b.parentNode}}this._focusOptionNode(b)},_onMouseOut:function(a){if(a.target===this.domNode){return}this._blurOptionNode()},_focusOptionNode:function(a){if(this._highlighted_option!=a){this._blurOptionNode();this._highlighted_option=a;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected")}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null}},_highlightNextOption:function(){var b=this.domNode.firstChild;if(!this.getHighlightedOption()){this._focusOptionNode(b.style.display=="none"?b.nextSibling:b)}else{var a=this._highlighted_option.nextSibling;if(a&&a.style.display!="none"){this._focusOptionNode(a)}}dijit.scrollIntoView(this._highlighted_option)},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option)},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option)},_highlightPrevOption:function(){var a=this.domNode.lastChild;if(!this.getHighlightedOption()){this._focusOptionNode(a.style.display=="none"?a.previousSibling:a)}else{var b=this._highlighted_option.previousSibling;if(b&&b.style.display!="none"){this._focusOptionNode(b)}}dijit.scrollIntoView(this._highlighted_option)},_page:function(b){var a=0;var f=this.domNode.scrollTop;var d=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption()}while(a<d){if(b){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break}this._highlightPrevOption()}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break}this._highlightNextOption()}var c=this.domNode.scrollTop;a+=(c-f)*(b?-1:1);f=c}},pageUp:function(){this._page(true)},pageDown:function(){this._page(false)},getHighlightedOption:function(){var a=this._highlighted_option;return(a&&a.parentNode)?a:null},handleKey:function(a){switch(a){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(b,a){if(!b){b=""}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,b,a)}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(a){this.root=a;dojo.query("> option",a).forEach(function(b){b.innerHTML=dojo.trim(b.innerHTML)})},getValue:function(c,b,a){return(b=="value")?c.value:(c.innerText||c.textContent||"")},isItemLoaded:function(a){return true},getFeatures:function(){return{"dojo.data.api.Read":true,"dojo.data.api.Identity":true}},_fetchItems:function(f,d,c){if(!f.query){f.query={}}if(!f.query.name){f.query.name=""}if(!f.queryOptions){f.queryOptions={}}var b=dojo.data.util.filter.patternToRegExp(f.query.name,f.queryOptions.ignoreCase),a=dojo.query("> option",this.root).filter(function(g){return(g.innerText||g.textContent||"").match(b)});if(f.sort){a.sort(dojo.data.util.sorter.createSortFunction(f.sort,this))}d(a,f)},close:function(a){return},getLabel:function(a){return a.innerHTML},getIdentity:function(a){return dojo.attr(a,"value")},fetchItemByIdentity:function(a){var b=dojo.query("option[value='"+a.identity+"']",this.root)[0];a.onItem(b)},fetchSelectedItem:function(){var a=this.root,b=a.selectedIndex;return dojo.query("> option:nth-child("+(b!=-1?b+1:1)+")",a)[0]}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch)}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{_isvalid:true,required:true,_lastDisplayedValue:"",isValid:function(){return this._isvalid||(!this.required&&this.attr("displayedValue")=="")},_callbackSetLabel:function(c,b,a){if((b&&b.query[this.searchAttr]!=this._lastQuery)||(!b&&c.length&&this.store.getIdentity(c[0])!=this._lastQuery)){return}if(!c.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",a||(a===undefined&&!this._focused));this._isvalid=false;this.validate(this._focused);this.item=null}else{this._setValueFromItem(c[0],a)}},_openResultList:function(b,a){if(a.query[this.searchAttr]!=this._lastQuery){return}this._isvalid=b.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments)},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValue:function(c,b,a){this.valueNode.value=c;dijit.form.FilteringSelect.superclass._setValueAttr.call(this,c,a,b);this._lastDisplayedValue=b},_setValueAttr:function(b,d){if(!this._onChangeActive){d=null}this._lastQuery=b;if(b===null||b===""){this._setDisplayedValueAttr("",d);return}var c=this;var a=function(f,g){if(f){if(c.store.isItemLoaded(f)){c._callbackSetLabel([f],undefined,g)}else{c.store.loadItem({item:f,onItem:function(k,h){c._callbackSetLabel(k,h,g)}})}}else{c._isvalid=false;c.validate(false)}};this.store.fetchItemByIdentity({identity:b,onItem:function(f){a(f,d)}})},_setValueFromItem:function(b,a){this._isvalid=true;this.item=b;this._setValue(this.store.getIdentity(b),this.labelFunc(b,this.store),a)},labelFunc:function(a,b){return b.getValue(a,this.searchAttr)},_doSelect:function(a){this._setValueFromItem(a.item,true)},_setDisplayedValueAttr:function(f,d){if(!this._created){d=false}if(this.store){var b=dojo.clone(this.query);this._lastQuery=b[this.searchAttr]=f.replace(/([\\\*\?])/g,"\\$1");this.textbox.value=f;this._lastDisplayedValue=f;var c=this;var a={query:b,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(h,g){dojo.hitch(c,"_callbackSetLabel")(h,g,d)},onError:function(g){console.error("dijit.form.FilteringSelect: "+g);dojo.hitch(c,"_setValue")("",f,false)}};dojo.mixin(a,this.fetchProperties);this.store.fetch(a)}},postMixInProperties:function(){this.inherited(arguments);this._isvalid=!this.required},undo:function(){this.attr("displayedValue",this._lastDisplayedValue)}})}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.fx.easing={linear:function(a){return a},quadIn:function(a){return Math.pow(a,2)},quadOut:function(a){return a*(a-2)*-1},quadInOut:function(a){a=a*2;if(a<1){return Math.pow(a,2)/2}return -1*((--a)*(a-2)-1)/2},cubicIn:function(a){return Math.pow(a,3)},cubicOut:function(a){return Math.pow(a-1,3)+1},cubicInOut:function(a){a=a*2;if(a<1){return Math.pow(a,3)/2}a-=2;return(Math.pow(a,3)+2)/2},quartIn:function(a){return Math.pow(a,4)},quartOut:function(a){return -1*(Math.pow(a-1,4)-1)},quartInOut:function(a){a=a*2;if(a<1){return Math.pow(a,4)/2}a-=2;return -1/2*(Math.pow(a,4)-2)},quintIn:function(a){return Math.pow(a,5)},quintOut:function(a){return Math.pow(a-1,5)+1},quintInOut:function(a){a=a*2;if(a<1){return Math.pow(a,5)/2}a-=2;return(Math.pow(a,5)+2)/2},sineIn:function(a){return -1*Math.cos(a*(Math.PI/2))+1},sineOut:function(a){return Math.sin(a*(Math.PI/2))},sineInOut:function(a){return -1*(Math.cos(Math.PI*a)-1)/2},expoIn:function(a){return(a==0)?0:Math.pow(2,10*(a-1))},expoOut:function(a){return(a==1)?1:(-1*Math.pow(2,-10*a)+1)},expoInOut:function(a){if(a==0){return 0}if(a==1){return 1}a=a*2;if(a<1){return Math.pow(2,10*(a-1))/2}--a;return(-1*Math.pow(2,-10*a)+2)/2},circIn:function(a){return -1*(Math.sqrt(1-Math.pow(a,2))-1)},circOut:function(a){a=a-1;return Math.sqrt(1-Math.pow(a,2))},circInOut:function(a){a=a*2;if(a<1){return -1/2*(Math.sqrt(1-Math.pow(a,2))-1)}a-=2;return 1/2*(Math.sqrt(1-Math.pow(a,2))+1)},backIn:function(b){var a=1.70158;return Math.pow(b,2)*((a+1)*b-a)},backOut:function(b){b=b-1;var a=1.70158;return Math.pow(b,2)*((a+1)*b+a)+1},backInOut:function(b){var a=1.70158*1.525;b=b*2;if(b<1){return(Math.pow(b,2)*((a+1)*b-a))/2}b-=2;return(Math.pow(b,2)*((a+1)*b+a)+2)/2},elasticIn:function(c){if(c==0||c==1){return c}var b=0.3;var a=b/4;c=c-1;return -1*Math.pow(2,10*c)*Math.sin((c-a)*(2*Math.PI)/b)},elasticOut:function(c){if(c==0||c==1){return c}var b=0.3;var a=b/4;return Math.pow(2,-10*c)*Math.sin((c-a)*(2*Math.PI)/b)+1},elasticInOut:function(c){if(c==0){return 0}c=c*2;if(c==2){return 1}var b=0.3*1.5;var a=b/4;if(c<1){c-=1;return -0.5*(Math.pow(2,10*c)*Math.sin((c-a)*(2*Math.PI)/b))}c-=1;return 0.5*(Math.pow(2,-10*c)*Math.sin((c-a)*(2*Math.PI)/b))+1},bounceIn:function(a){return(1-dojo.fx.easing.bounceOut(1-a))},bounceOut:function(d){var b=7.5625;var c=2.75;var a;if(d<(1/c)){a=b*Math.pow(d,2)}else{if(d<(2/c)){d-=(1.5/c);a=b*Math.pow(d,2)+0.75}else{if(d<(2.5/c)){d-=(2.25/c);a=b*Math.pow(d,2)+0.9375}else{d-=(2.625/c);a=b*Math.pow(d,2)+0.984375}}}return a},bounceInOut:function(a){if(a<0.5){return dojo.fx.easing.bounceIn(a*2)/2}return(dojo.fx.easing.bounceOut(a*2-1)/2)+0.5}}}if(!dojo._hasResource["dojox.fx.easing"]){dojo._hasResource["dojox.fx.easing"]=true;dojo.provide("dojox.fx.easing");dojo.deprecated("dojox.fx.easing","Upgraded to Core, use dojo.fx.easing instead","2.0");dojox.fx.easing=dojo.fx.easing}if(!dojo._hasResource["dojox.fx._core"]){dojo._hasResource["dojox.fx._core"]=true;dojo.provide("dojox.fx._core");dojox.fx._Line=function(a,b){this.start=a;this.end=b;var f=dojo.isArray(a),c=(f?[]:b-a);if(f){dojo.forEach(this.start,function(g,d){c[d]=this.end[d]-g},this);this.getValue=function(g){var d=[];dojo.forEach(this.start,function(k,h){d[h]=(c[h]*g)+k},this);return d}}else{this.getValue=function(d){return(c*d)+this.start}}}}if(!dojo._hasResource["dojox.fx.scroll"]){dojo._hasResource["dojox.fx.scroll"]=true;dojo.provide("dojox.fx.scroll");dojo.experimental("dojox.fx.scroll");dojox.fx.smoothScroll=function(b){if(!b.target){b.target=dojo.coords(b.node,true)}var c=dojo[(dojo.isIE?"isObject":"isFunction")](b.win.scrollTo);var a=(c)?(function(f){b.win.scrollTo(f[0],f[1])}):(function(f){b.win.scrollLeft=f[0];b.win.scrollTop=f[1]});var d=new dojo._Animation(dojo.mixin({beforeBegin:function(){if(this.curve){delete this.curve}var f=c?dojo._docScroll():{x:b.win.scrollLeft,y:b.win.scrollTop};d.curve=new dojox.fx._Line([f.x,f.y],[b.target.x,b.target.y])},onAnimate:a},b));return d}}if(!dojo._hasResource["dojox.fx._base"]){dojo._hasResource["dojox.fx._base"]=true;dojo.provide("dojox.fx._base");dojo.mixin(dojox.fx,{anim:dojo.anim,animateProperty:dojo.animateProperty,fadeTo:dojo._fade,fadeIn:dojo.fadeIn,fadeOut:dojo.fadeOut,combine:dojo.fx.combine,chain:dojo.fx.chain,slideTo:dojo.fx.slideTo,wipeIn:dojo.fx.wipeIn,wipeOut:dojo.fx.wipeOut});dojox.fx.sizeTo=function(d){var b=d.node=dojo.byId(d.node);var n=d.method||"chain";if(!d.duration){d.duration=500}if(n=="chain"){d.duration=Math.floor(d.duration/2)}var k,m,a,l,g,p=null;var o=(function(q){return function(){var s=dojo.getComputedStyle(q);var t=s.position;k=(t=="absolute"?q.offsetTop:parseInt(s.top)||0);a=(t=="absolute"?q.offsetLeft:parseInt(s.left)||0);g=parseInt(s.width);p=parseInt(s.height);l=a-Math.floor((d.width-g)/2);m=k-Math.floor((d.height-p)/2);if(t!="absolute"&&t!="relative"){var r=dojo.coords(q,true);k=r.y;a=r.x;q.style.position="absolute";q.style.top=k+"px";q.style.left=a+"px"}}})(b);o();var h=dojo.animateProperty(dojo.mixin({properties:{height:{start:p,end:d.height||0,unit:"px"},top:{start:k,end:m}}},d));var f=dojo.animateProperty(dojo.mixin({properties:{width:{start:g,end:d.width||0,unit:"px"},left:{start:a,end:l}}},d));var c=dojo.fx[(d.method=="combine"?"combine":"chain")]([h,f]);dojo.connect(c,"beforeBegin",c,o);return c};dojox.fx.slideBy=function(a){var b=a.node=dojo.byId(a.node);var f=null;var d=null;var g=(function(h){return function(){var l=dojo.getComputedStyle(h);var m=l.position;f=(m=="absolute"?h.offsetTop:parseInt(l.top)||0);d=(m=="absolute"?h.offsetLeft:parseInt(l.left)||0);if(m!="absolute"&&m!="relative"){var k=dojo.coords(h,true);f=k.y;d=k.x;h.style.position="absolute";h.style.top=f+"px";h.style.left=d+"px"}}})(b);g();var c=dojo.animateProperty(dojo.mixin({properties:{top:f+(a.top||0),left:d+(a.left||0)}},a));dojo.connect(c,"beforeBegin",c,g);return c};dojox.fx.crossFade=function(a){if(dojo.isArray(a.nodes)){var g=a.nodes[0]=dojo.byId(a.nodes[0]);var d=dojo.style(g,"opacity");var f=a.nodes[1]=dojo.byId(a.nodes[1]);var c=dojo.style(f,"opacity");var b=dojo.fx.combine([dojo[(d==0?"fadeIn":"fadeOut")](dojo.mixin({node:g},a)),dojo[(d==0?"fadeOut":"fadeIn")](dojo.mixin({node:f},a))]);return b}else{return false}};dojox.fx.highlight=function(c){var d=c.node=dojo.byId(c.node);c.duration=c.duration||400;var b=c.color||"#ffff99";var a=dojo.style(d,"backgroundColor");var g=(a=="transparent"||a=="rgba(0, 0, 0, 0)")?a:false;var f=dojo.animateProperty(dojo.mixin({properties:{backgroundColor:{start:b,end:a}}},c));if(g){dojo.connect(f,"onEnd",f,function(){d.style.backgroundColor=g})}return f};dojox.fx.wipeTo=function(b){b.node=dojo.byId(b.node);var d=b.node,c=d.style;var a=(b.width?"width":"height");var h=b[a];var g={};g[a]={start:function(){c.overflow="hidden";if(c.visibility=="hidden"||c.display=="none"){c[a]="1px";c.display="";c.visibility="";return 1}else{var k=dojo.style(d,a);return Math.max(k,1)}},end:h,unit:"px"};var f=dojo.animateProperty(dojo.mixin({properties:g},b));return f}}if(!dojo._hasResource["dojox.fx"]){dojo._hasResource["dojox.fx"]=true;dojo.provide("dojox.fx")}if(!dojo._hasResource["dojox.html._base"]){dojo._hasResource["dojox.html._base"]=true;dojo.provide("dojox.html._base");(function(){if(dojo.isIE){var d=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g}var c=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var a=dojox.html._adjustCssPaths=function(l,m){if(!m||!l){return}if(d){m=m.replace(d,function(r,q,p,n,o){return q+(new dojo._Url(l,"./"+n).toString())+o})}return m.replace(c,function(s,r,q,p,n,o){if(q){return'@import "'+(new dojo._Url(l,"./"+q).toString())+'"'+o}else{return"url("+(new dojo._Url(l,"./"+n).toString())+")"+o}})};var g=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var f=dojox.html._adjustHtmlPaths=function(n,l){var m=n||"./";return l.replace(g,function(p,v,s,t,r,o,u,q){return v+(s?(s+"="+t+(new dojo._Url(m,r).toString())+t):("style="+o+a(m,u)+o))+q})};var h=dojox.html._snarfStyles=function(n,l,m){m.attributes=[];return l.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(y,w,u,t,s,o){var r,z=(w||t||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(u){r=m.push(n?a(n,u):u)}else{r=m.push('@import "'+o+'";');z=z.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"")}if(z){z=z.split(/\s+/);var v={},q;for(var p=0,x=z.length;p<x;p++){q=z[p].split("=");v[q[0]]=q[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1")}m.attributes[r-1]=v}return""})};var k=dojox.html._snarfScripts=function(l,n){n.code="";function m(o){if(n.downloadRemote){dojo.xhrGet({url:o,sync:true,load:function(p){n.code+=p+";"},error:n.errBack})}}return l.replace(/<script\s*(?![^>]*type=['"]?dojo)(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(q,o,r,p){if(r){m(r)}else{n.code+=p}return""})};var b=dojox.html.evalInGlobal=function(m,l){l=l||dojo.doc.body;var o=l.ownerDocument.createElement("script");o.type="text/javascript";l.appendChild(o);o.text=m};dojo.declare("dojox.html._ContentSetter",[dojo.html._ContentSetter],{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(l){this._styleNodes=[];var s,o,t,r=this.node.ownerDocument;var p=r.getElementsByTagName("head")[0];for(var m=0,n=l.length;m<n;m++){t=l[m];o=l.attributes[m];s=r.createElement("style");s.setAttribute("type","text/css");for(var q in o){s.setAttribute(q,o[q])}this._styleNodes.push(s);p.appendChild(s);if(s.styleSheet){s.styleSheet.cssText=t}else{s.appendChild(r.createTextNode(t))}}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var l=this.content,o=this.node;var n=this._styles;if(dojo.isString(l)){if(this.adjustPaths&&this.referencePath){l=f(this.referencePath,l)}if(this.renderStyles||this.cleanContent){l=h(this.referencePath,l,n)}if(this.executeScripts){var p=this;var m={downloadRemote:true,errBack:function(q){p._onError.call(p,"Exec",'Error downloading remote script in "'+p.id+'"',q)}};l=k(l,m);this._code=m.code}}this.content=l},onEnd:function(){var m=this._code,l=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop())}}if(this.renderStyles&&l&&l.length){this._renderStyles(l)}if(this.executeScripts&&m){if(this.cleanContent){m=m.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"")}if(this.scriptHasHooks){m=m.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement)}try{b(m,this.node)}catch(n){this._onError("Exec","Error eval script in "+this.id+", "+n.message,n)}}this.inherited("onEnd",arguments)},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop())}}delete this._styleNodes;dojo.mixin(this,dojo.getObject(this.declaredClass).prototype)}});dojox.html.set=function(n,l,m){if(!m){return dojo.html._setNodeContent(n,l,true)}else{var o=new dojox.html._ContentSetter(dojo.mixin(m,{content:l,node:n}));return o.set()}}})()}if(!dojo._hasResource["dojox.layout.ContentPane"]){dojo._hasResource["dojox.layout.ContentPane"]=true;dojo.provide("dojox.layout.ContentPane");(function(){dojo.declare("dojox.layout.ContentPane",dijit.layout.ContentPane,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function(){this.ioArgs={};this.ioMethod=dojo.xhrGet;this.onLoadDeferred=new dojo.Deferred();this.onUnloadDeferred=new dojo.Deferred()},postCreate:function(){this._setUpDeferreds();dijit.layout.ContentPane.prototype.postCreate.apply(this,arguments)},onExecError:function(a){},_setContentAttr:function(b){var a=this._setUpDeferreds();this.inherited(arguments);return a},cancel:function(){if(this._xhrDfd&&this._xhrDfd.fired==-1){this.onUnloadDeferred=null}dijit.layout.ContentPane.prototype.cancel.apply(this,arguments)},_setUpDeferreds:function(){var b=this,d=function(){b.cancel()};var c=(b.onLoadDeferred=new dojo.Deferred());var a=(b._nextUnloadDeferred=new dojo.Deferred());return{cancel:d,addOnLoad:function(f){c.addCallback(f)},addOnUnload:function(f){a.addCallback(f)}}},_onLoadHandler:function(){dijit.layout.ContentPane.prototype._onLoadHandler.apply(this,arguments);if(this.onLoadDeferred){this.onLoadDeferred.callback(true)}},_onUnloadHandler:function(){this.isLoaded=false;this.cancel();if(this.onUnloadDeferred){this.onUnloadDeferred.callback(true)}dijit.layout.ContentPane.prototype._onUnloadHandler.apply(this,arguments);if(this._nextUnloadDeferred){this.onUnloadDeferred=this._nextUnloadDeferred}},_onError:function(a,b){dijit.layout.ContentPane.prototype._onError.apply(this,arguments);if(this.onLoadDeferred){this.onLoadDeferred.errback(b)}},refresh:function(){var a=this._setUpDeferreds();this.inherited(arguments);return a},_setContent:function(a){var b=this._contentSetter;if(!(b&&b instanceof dojox.html._ContentSetter)){b=this._contentSetter=new dojox.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(d){var c=this.onContentError(d);try{this.containerNode.innerHTML=c}catch(d){console.error("Fatal "+this.id+" could not change content due to "+d.message,d)}})})}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments)}})})()}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(a){return a[dojo.dnd._copyKey]};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var a;do{a=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId)}while(dojo.byId(a));return a};dojo.dnd._empty={};dojo.dnd.isFormElement=function(b){var a=b.target;if(a.nodeType==3){a=a.parentNode}return" button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")>=0};dojo.dnd._lmb=dojo.isIE?1:0;dojo.dnd._isLmbPressed=dojo.isIE?function(a){return a.button&1}:function(a){return a.button===0}}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var g=dojo.doc,c=g.documentElement,f=window,a=dojo.body();if(dojo.isMozilla){return{w:c.clientWidth,h:f.innerHeight}}else{if(!dojo.isOpera&&f.innerWidth){return{w:f.innerWidth,h:f.innerHeight}}else{if(!dojo.isOpera&&c&&c.clientWidth){return{w:c.clientWidth,h:c.clientHeight}}else{if(a.clientWidth){return{w:a.clientWidth,h:a.clientHeight}}}}}return null};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(d){var c=dojo.dnd.getViewport(),b=0,a=0;if(d.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){b=-dojo.dnd.H_AUTOSCROLL_VALUE}else{if(d.clientX>c.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){b=dojo.dnd.H_AUTOSCROLL_VALUE}}if(d.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){a=-dojo.dnd.V_AUTOSCROLL_VALUE}else{if(d.clientY>c.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){a=dojo.dnd.V_AUTOSCROLL_VALUE}}window.scrollBy(b,a)};dojo.dnd._validNodes={div:1,p:1,td:1};dojo.dnd._validOverflow={auto:1,scroll:1};dojo.dnd.autoScrollNodes=function(g){for(var d=g.target;d;){if(d.nodeType==1&&(d.tagName.toLowerCase() in dojo.dnd._validNodes)){var v=dojo.getComputedStyle(d);if(v.overflow.toLowerCase() in dojo.dnd._validOverflow){var k=dojo._getContentBox(d,v),r=dojo._abs(d,true);var p=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,k.w/2),f=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,k.h/2),c=g.pageX-r.x,a=g.pageY-r.y,u=0,q=0;if(dojo.isWebKit||dojo.isOpera){c+=dojo.body().scrollLeft,a+=dojo.body().scrollTop}if(c>0&&c<k.w){if(c<p){u=-p}else{if(c>k.w-p){u=p}}}if(a>0&&a<k.h){if(a<f){q=-f}else{if(a>k.h-f){q=f}}}var o=d.scrollLeft,m=d.scrollTop;d.scrollLeft=d.scrollLeft+u;d.scrollTop=d.scrollTop+q;if(o!=d.scrollLeft||m!=d.scrollTop){return}}}try{d=d.parentNode}catch(l){d=null}}dojo.dnd.autoScroll(g)}}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(c,g,b){this.node=dojo.byId(c);this.marginBox={l:g.pageX,t:g.pageY};this.mouseButton=g.button;var a=this.host=b,k=c.ownerDocument,f=dojo.connect(k,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(k,"onmousemove",this,"onMouseMove"),dojo.connect(k,"onmouseup",this,"onMouseUp"),dojo.connect(k,"ondragstart",dojo.stopEvent),dojo.connect(k.body,"onselectstart",dojo.stopEvent),f];if(a&&a.onMoveStart){a.onMoveStart(this)}},onMouseMove:function(b){dojo.dnd.autoScroll(b);var a=this.marginBox;this.host.onMove(this,{l:a.l+b.pageX,t:a.t+b.pageY});dojo.stopEvent(b)},onMouseUp:function(a){if(dojo.isWebKit&&dojo.dnd._isMac&&this.mouseButton==2?a.button==0:this.mouseButton==a.button){this.destroy()}dojo.stopEvent(a)},onFirstMove:function(){var p=this.node.style,d,o,f=this.host;switch(p.position){case"relative":case"absolute":d=Math.round(parseFloat(p.left));o=Math.round(parseFloat(p.top));break;default:p.position="absolute";var c=dojo.marginBox(this.node);var k=dojo.doc.body;var n=dojo.getComputedStyle(k);var a=dojo._getMarginBox(k,n);var g=dojo._getContentBox(k,n);d=c.l-(g.l-a.l);o=c.t-(g.t-a.t);break}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=o-this.marginBox.t;if(f&&f.onFirstMove){f.onFirstMove(this)}dojo.disconnect(this.events.pop())},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var a=this.host;if(a&&a.onMoveStop){a.onMoveStop(this)}this.events=this.node=this.host=null}})}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(b,a){this.node=dojo.byId(b);if(!a){a={}}this.handle=a.handle?dojo.byId(a.handle):null;if(!this.handle){this.handle=this.node}this.delay=a.delay>0?a.delay:0;this.skip=a.skip;this.mover=a.mover?a.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")]},markupFactory:function(b,a){return new dojo.dnd.Moveable(a,b)},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null},onMouseDown:function(a){if(this.skip&&dojo.dnd.isFormElement(a)){return}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=a.pageX;this._lastY=a.pageY}else{this.onDragDetected(a)}dojo.stopEvent(a)},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay){this.onMouseUp(a);this.onDragDetected(a)}dojo.stopEvent(a)},onMouseUp:function(b){for(var a=0;a<2;++a){dojo.disconnect(this.events.pop())}dojo.stopEvent(b)},onSelectStart:function(a){if(!this.skip||!dojo.dnd.isFormElement(a)){dojo.stopEvent(a)}},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){dojo.publish("/dnd/move/start",[a]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem")},onMoveStop:function(a){dojo.publish("/dnd/move/stop",[a]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem")},onFirstMove:function(a){},onMove:function(b,a){this.onMoving(b,a);var c=b.node.style;c.left=a.l+"px";c.top=a.t+"px";this.onMoved(b,a)},onMoving:function(a,b){},onMoved:function(b,a){}})}if(!dojo._hasResource["dojox.layout.ResizeHandle"]){dojo._hasResource["dojox.layout.ResizeHandle"]=true;dojo.provide("dojox.layout.ResizeHandle");dojo.experimental("dojox.layout.ResizeHandle");dojo.declare("dojox.layout.ResizeHandle",[dijit._Widget,dijit._Templated],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:false,maxHeight:0,maxWidth:0,fixedAspect:false,intermediateChanges:false,templateString:'<div dojoAttachPoint="resizeHandle" class="dojoxResizeHandle"><div></div></div>',postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");if(!this.activeResize){this._resizeHelper=dijit.byId("dojoxGlobalResizeHelper");if(!this._resizeHelper){this._resizeHelper=new dojox.layout._ResizeHelper({id:"dojoxGlobalResizeHelper"}).placeAt(dojo.body());dojo.addClass(this._resizeHelper.domNode,this.activeResizeClass)}}else{this.animateSizing=false}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight}}if(this.constrainMax){this.maxSize={w:this.maxWidth,h:this.maxHeight}}this._resizeX=this._resizeY=false;var a=dojo.partial(dojo.addClass,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case"xy":this._resizeX=this._resizeY=true;a("dojoxResizeNW");break;case"x":this._resizeX=true;a("dojoxResizeW");break;case"y":this._resizeY=true;a("dojoxResizeN");break}},_beginSizing:function(b){if(this._isSizing){return false}this.targetWidget=dijit.byId(this.targetId);this.targetDomNode=this.targetWidget?this.targetWidget.domNode:dojo.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer}if(!this.targetDomNode){return false}if(!this.activeResize){var g=dojo.coords(this.targetDomNode,true);this._resizeHelper.resize({l:g.x,t:g.y,w:g.w,h:g.h});this._resizeHelper.show()}this._isSizing=true;this.startPoint={x:b.clientX,y:b.clientY};var f=this.targetWidget?dojo.marginBox(this.targetDomNode):dojo.contentBox(this.targetDomNode);this.startSize={w:f.w,h:f.h};if(this.fixedAspect){var a,d;if(f.w>f.h){a="w";d=f.w/f.h}else{a="h";d=f.h/f.w}this._aspect={prop:a};this._aspect[a]=d}this._pconnects=[];this._pconnects.push(dojo.connect(dojo.doc,"onmousemove",this,"_updateSizing"));this._pconnects.push(dojo.connect(dojo.doc,"onmouseup",this,"_endSizing"));dojo.stopEvent(b)},_updateSizing:function(b){if(this.activeResize){this._changeSizing(b)}else{var a=this._getNewCoords(b);if(a===false){return}this._resizeHelper.resize(a)}b.preventDefault()},_getNewCoords:function(d){try{if(!d.clientX||!d.clientY){return false}}catch(d){return false}this._activeResizeLastEvent=d;var b=this.startPoint.x-d.clientX,a=this.startPoint.y-d.clientY,f=this.startSize.w-(this._resizeX?b:0),c=this.startSize.h-(this._resizeY?a:0);return this._checkConstraints(f,c)},_checkConstraints:function(f,d){if(this.minSize){var a=this.minSize;if(f<a.w){f=a.w}if(d<a.h){d=a.h}}if(this.constrainMax&&this.maxSize){var c=this.maxSize;if(f>c.w){f=c.w}if(d>c.h){d=c.h}}if(this.fixedAspect){var b=this._aspect[this._aspect.prop];if(f<d){d=f*b}else{if(d<f){f=d*b}}}return{w:f,h:d}},_changeSizing:function(c){var a=this._getNewCoords(c);if(a===false){return}if(this.targetWidget&&dojo.isFunction(this.targetWidget.resize)){this.targetWidget.resize(a)}else{if(this.animateSizing){var b=dojo.fx[this.animateMethod]([dojo.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:a.w,unit:"px"}},duration:this.animateDuration}),dojo.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:a.h,unit:"px"}},duration:this.animateDuration})]);b.play()}else{dojo.style(this.targetDomNode,{width:a.w+"px",height:a.h+"px"})}}if(this.intermediateChanges){this.onResize(c)}},_endSizing:function(a){dojo.forEach(this._pconnects,dojo.disconnect);if(!this.activeResize){this._resizeHelper.hide();this._changeSizing(a)}this._isSizing=false;this.onResize(a)},onResize:function(a){}});dojo.declare("dojox.layout._ResizeHelper",dijit._Widget,{show:function(){dojo.fadeIn({node:this.domNode,duration:120,beforeBegin:dojo.partial(dojo.style,this.domNode,"display","")}).play()},hide:function(){dojo.fadeOut({node:this.domNode,duration:250,onEnd:dojo.partial(dojo.style,this.domNode,"display","none")}).play()},resize:function(a){dojo.marginBox(this.domNode,a)}})}if(!dojo._hasResource["dojox.layout.FloatingPane"]){dojo._hasResource["dojox.layout.FloatingPane"]=true;dojo.provide("dojox.layout.FloatingPane");dojo.experimental("dojox.layout.FloatingPane");dojo.declare("dojox.layout.FloatingPane",[dojox.layout.ContentPane,dijit._Templated],{closable:true,dockable:true,resizable:false,maxable:false,resizeAxis:"xy",title:"",dockTo:"",duration:400,contentClass:"dojoxFloatingPaneContent",_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,templateString:null,templateString:'<div class="dojoxFloatingPane" id="${id}">\n\t<div tabindex="0" waiRole="button" class="dojoxFloatingPaneTitle" dojoAttachPoint="focusNode">\n\t\t<span dojoAttachPoint="closeNode" dojoAttachEvent="onclick: close" class="dojoxFloatingCloseIcon"></span>\n\t\t<span dojoAttachPoint="maxNode" dojoAttachEvent="onclick: maximize" class="dojoxFloatingMaximizeIcon">&thinsp;</span>\n\t\t<span dojoAttachPoint="restoreNode" dojoAttachEvent="onclick: _restore" class="dojoxFloatingRestoreIcon">&thinsp;</span>\t\n\t\t<span dojoAttachPoint="dockNode" dojoAttachEvent="onclick: minimize" class="dojoxFloatingMinimizeIcon">&thinsp;</span>\n\t\t<span dojoAttachPoint="titleNode" class="dijitInline dijitTitleNode"></span>\n\t</div>\n\t<div dojoAttachPoint="canvas" class="dojoxFloatingPaneCanvas">\n\t\t<div dojoAttachPoint="containerNode" waiRole="region" tabindex="-1" class="${contentClass}">\n\t\t</div>\n\t\t<span dojoAttachPoint="resizeHandle" class="dojoxFloatingResizeHandle"></span>\n\t</div>\n</div>\n',postCreate:function(){this.setTitle(this.title);this.inherited(arguments);var a=new dojo.dnd.Moveable(this.domNode,{handle:this.focusNode});if(!this.dockable){this.dockNode.style.display="none"}if(!this.closable){this.closeNode.style.display="none"}if(!this.maxable){this.maxNode.style.display="none";this.restoreNode.style.display="none"}if(!this.resizable){this.resizeHandle.style.display="none"}else{var b=dojo.marginBox(this.domNode);this.domNode.style.width=b.w+"px"}this._allFPs.push(this);this.domNode.style.position="absolute";this.bgIframe=new dijit.BackgroundIframe(this.domNode)},startup:function(){if(this._started){return}this.inherited(arguments);if(this.resizable){if(dojo.isIE){this.canvas.style.overflow="auto"}else{this.containerNode.style.overflow="auto"}this._resizeHandle=new dojox.layout.ResizeHandle({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle)}if(this.dockable){var c=this.dockTo;if(this.dockTo){this.dockTo=dijit.byId(this.dockTo)}else{this.dockTo=dijit.byId("dojoxGlobalFloatingDock")}if(!this.dockTo){var b;var a;if(c){b=c;a=dojo.byId(c)}else{a=document.createElement("div");dojo.body().appendChild(a);dojo.addClass(a,"dojoxFloatingDockDefault");b="dojoxGlobalFloatingDock"}this.dockTo=new dojox.layout.Dock({id:b,autoPosition:"south"},a);this.dockTo.startup()}if((this.domNode.style.display=="none")||(this.domNode.style.visibility=="hidden")){this.minimize()}}this.connect(this.focusNode,"onmousedown","bringToTop");this.connect(this.domNode,"onmousedown","bringToTop");this.resize(dojo.coords(this.domNode));this._started=true},setTitle:function(a){this.titleNode.innerHTML=a;this.title=a},close:function(){if(!this.closable){return}dojo.unsubscribe(this._listener);this.hide(dojo.hitch(this,function(){this.destroyRecursive()}))},hide:function(a){dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null)}if(a){a()}})}).play()},show:function(a){var b=dojo.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:dojo.hitch(this,function(){this.domNode.style.display="";this.domNode.style.visibility="visible";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null)}if(typeof a=="function"){a()}this._isDocked=false;if(this._dockNode){this._dockNode.destroy();this._dockNode=null}})}).play();this.resize(dojo.coords(this.domNode))},minimize:function(){if(!this._isDocked){this.hide(dojo.hitch(this,"_dock"))}},maximize:function(){if(this._maximized){return}this._naturalState=dojo.coords(this.domNode);if(this._isDocked){this.show();setTimeout(dojo.hitch(this,"maximize"),this.duration)}dojo.addClass(this.focusNode,"floatingPaneMaximized");this.resize(dijit.getViewport());this._maximized=true},_restore:function(){if(this._maximized){this.resize(this._naturalState);dojo.removeClass(this.focusNode,"floatingPaneMaximized");this._maximized=false}},_dock:function(){if(!this._isDocked&&this.dockable){this._dockNode=this.dockTo.addNode(this);this._isDocked=true}},resize:function(c){this._currentState=c;var b=this.domNode.style;if(c.t){b.top=c.t+"px"}if(c.l){b.left=c.l+"px"}b.width=c.w+"px";b.height=c.h+"px";var a={l:0,t:0,w:c.w,h:(c.h-this.focusNode.offsetHeight)};dojo.marginBox(this.canvas,a);this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){this._singleChild.resize(a)}},bringToTop:function(){var a=dojo.filter(this._allFPs,function(b){return b!==this},this);a.sort(function(d,c){return d.domNode.style.zIndex-c.domNode.style.zIndex});a.push(this);dojo.forEach(a,function(c,b){c.domNode.style.zIndex=this._startZ+(b*2);dojo.removeClass(c.domNode,"dojoxFloatingPaneFg")},this);dojo.addClass(this.domNode,"dojoxFloatingPaneFg")},destroy:function(){this._allFPs.splice(dojo.indexOf(this._allFPs,this),1);if(this._resizeHandle){this._resizeHandle.destroy()}this.inherited(arguments)}});dojo.declare("dojox.layout.Dock",[dijit._Widget,dijit._Templated],{templateString:'<div class="dojoxDock"><ul dojoAttachPoint="containerNode" class="dojoxDockList"></ul></div>',_docked:[],_inPositioning:false,autoPosition:false,addNode:function(c){var b=document.createElement("li");this.containerNode.appendChild(b);var a=new dojox.layout._DockNode({title:c.title,paneRef:c},b);a.startup();return a},startup:function(){if(this.id=="dojoxGlobalFloatingDock"||this.isFixedDock){dojo.connect(window,"onresize",this,"_positionDock");dojo.connect(window,"onscroll",this,"_positionDock");if(dojo.isIE){this.connect(this.domNode,"onresize","_positionDock")}}this._positionDock(null);this.inherited(arguments)},_positionDock:function(a){if(!this._inPositioning){if(this.autoPosition=="south"){setTimeout(dojo.hitch(this,function(){this._inPositiononing=true;var c=dijit.getViewport();var b=this.domNode.style;b.left=c.l+"px";b.width=(c.w-2)+"px";b.top=(c.h+c.t)-this.domNode.offsetHeight+"px";this._inPositioning=false}),125)}}}});dojo.declare("dojox.layout._DockNode",[dijit._Widget,dijit._Templated],{title:"",paneRef:null,templateString:'<li dojoAttachEvent="onclick: restore" class="dojoxDockNode"><span dojoAttachPoint="restoreNode" class="dojoxDockRestoreButton" dojoAttachEvent="onclick: restore"></span><span class="dojoxDockTitleNode" dojoAttachPoint="titleNode">${title}</span></li>',restore:function(){this.paneRef.show();this.paneRef.bringToTop();this.destroy()}})}if(!dojo._hasResource["dojox.widget.Toaster"]){dojo._hasResource["dojox.widget.Toaster"]=true;dojo.provide("dojox.widget.Toaster");dojo.declare("dojox.widget.Toaster",[dijit._Widget,dijit._Templated],{templateString:'<div dojoAttachPoint="clipNode"><div dojoAttachPoint="containerNode" dojoAttachEvent="onclick:onSelect"><div dojoAttachPoint="contentNode"></div></div></div>',messageTopic:"",messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",FATAL:"fatal"},defaultType:"message",positionDirection:"br-up",positionDirectionTypes:["br-up","br-left","bl-up","bl-right","tr-down","tr-left","tl-down","tl-right"],duration:2000,slideDuration:500,separator:"<hr></hr>",postCreate:function(){this.inherited(arguments);this.hide();dojo.body().appendChild(this.domNode);this.clipNode.className="dijitToasterClip";this.containerNode.className+=" dijitToasterContainer";this.contentNode.className="dijitToasterContent";if(this.messageTopic){dojo.subscribe(this.messageTopic,this,"_handleMessage")}},_handleMessage:function(a){if(dojo.isString(a)){this.setContent(a)}else{this.setContent(a.message,a.type,a.duration)}},_capitalize:function(a){return a.substring(0,1).toUpperCase()+a.substring(1)},setContent:function(g,d,c){c=c||this.duration;if(this.slideAnim){if(this.slideAnim.status()!="playing"){this.slideAnim.stop()}if(this.slideAnim.status()=="playing"||(this.fadeAnim&&this.fadeAnim.status()=="playing")){setTimeout(dojo.hitch(this,function(){this.setContent(g,d,c)}),50);return}}for(var h in this.messageTypes){dojo.removeClass(this.containerNode,"dijitToaster"+this._capitalize(this.messageTypes[h]))}dojo.style(this.containerNode,"opacity",1);this._setContent(g);dojo.addClass(this.containerNode,"dijitToaster"+this._capitalize(d||this.defaultType));this.show();var a=dojo.marginBox(this.containerNode);this._cancelHideTimer();if(this.isVisible){this._placeClip();if(!this._stickyMessage){this._setHideTimer(c)}}else{var f=this.containerNode.style;var b=this.positionDirection;if(b.indexOf("-up")>=0){f.left=0+"px";f.top=a.h+10+"px"}else{if(b.indexOf("-left")>=0){f.left=a.w+10+"px";f.top=0+"px"}else{if(b.indexOf("-right")>=0){f.left=0-a.w-10+"px";f.top=0+"px"}else{if(b.indexOf("-down")>=0){f.left=0+"px";f.top=0-a.h-10+"px"}else{throw new Error(this.id+".positionDirection is invalid: "+b)}}}}this.slideAnim=dojo.fx.slideTo({node:this.containerNode,top:0,left:0,duration:this.slideDuration});this.connect(this.slideAnim,"onEnd",function(k,l){this.fadeAnim=dojo.fadeOut({node:this.containerNode,duration:1000});this.connect(this.fadeAnim,"onEnd",function(m){this.isVisible=false;this.hide()});this._setHideTimer(c);this.connect(this,"onSelect",function(m){this._cancelHideTimer();this._stickyMessage=false;this.fadeAnim.play()});this.isVisible=true});this.slideAnim.play()}},_setContent:function(a){if(dojo.isFunction(a)){a(this);return}if(a&&this.isVisible){a=this.contentNode.innerHTML+this.separator+a}this.contentNode.innerHTML=a},_cancelHideTimer:function(){if(this._hideTimer){clearTimeout(this._hideTimer);this._hideTimer=null}},_setHideTimer:function(a){this._cancelHideTimer();if(a>0){this._cancelHideTimer();this._hideTimer=setTimeout(dojo.hitch(this,function(b){if(this.bgIframe&&this.bgIframe.iframe){this.bgIframe.iframe.style.display="none"}this._hideTimer=null;this._stickyMessage=false;this.fadeAnim.play()}),a)}else{this._stickyMessage=true}},_placeClip:function(){var a=dijit.getViewport();var f=dojo.marginBox(this.containerNode);var d=this.clipNode.style;d.height=f.h+"px";d.width=f.w+"px";var b=this.positionDirection;if(b.match(/^t/)){d.top=a.t+"px"}else{if(b.match(/^b/)){d.top=(a.h-f.h-2+a.t)+"px"}}if(b.match(/^[tb]r-/)){d.left=(a.w-f.w-1-a.l)+"px"}else{if(b.match(/^[tb]l-/)){d.left=0+"px"}}d.clip="rect(0px, "+f.w+"px, "+f.h+"px, 0px)";if(dojo.isIE){if(!this.bgIframe){this.clipNode.id=dijit.getUniqueId("dojox_widget_Toaster_clipNode");this.bgIframe=new dijit.BackgroundIframe(this.clipNode)}var c=this.bgIframe.iframe;if(c){c.style.display="block"}}},onSelect:function(a){},show:function(){dojo.style(this.domNode,"display","block");this._placeClip();if(!this._scrollConnected){this._scrollConnected=dojo.connect(window,"onscroll",this,this._placeClip)}},hide:function(){dojo.style(this.domNode,"display","none");if(this._scrollConnected){dojo.disconnect(this._scrollConnected);this._scrollConnected=false}dojo.style(this.containerNode,"opacity",1)}})}if(!dojo._hasResource["dojox.layout.ScrollPane"]){dojo._hasResource["dojox.layout.ScrollPane"]=true;dojo.provide("dojox.layout.ScrollPane");dojo.experimental("dojox.layout.ScrollPane");dojo.declare("dojox.layout.ScrollPane",[dijit.layout.ContentPane,dijit._Templated],{_line:null,_lo:null,_offset:15,orientation:"vertical",autoHide:true,templateString:'<div class="dojoxScrollWindow" dojoAttachEvent="onmouseenter: _enter, onmouseleave: _leave">\n    <div class="dojoxScrollWrapper" style="${style}" dojoAttachPoint="wrapper" dojoAttachEvent="onmousemove: _calc">\n\t<div class="dojoxScrollPane" dojoAttachPoint="containerNode"></div>\n    </div>\n    <div dojoAttachPoint="helper" class="dojoxScrollHelper"><span class="helperInner">|</span></div>\n</div>\n',resize:function(f){if(f){if(f.h){dojo.style(this.domNode,"height",f.h+"px")}if(f.w){dojo.style(this.domNode,"width",f.w+"px")}}var d=this._dir,a=this._vertical,k=this.containerNode[(a?"scrollHeight":"scrollWidth")];dojo.style(this.wrapper,this._dir,this.domNode.style[this._dir]);this._lo=dojo.coords(this.wrapper,true);this._size=Math.max(0,k-this._lo[(a?"h":"w")]);if(!this._size){this.helper.style.display="none";this.wrapper[this._scroll]=0;return}else{this.helper.style.display=""}this._line=new dojo._Line(0-this._offset,this._size+(this._offset*2));var b=this._lo[(a?"h":"w")],h=Math.min(1,b/k),g=b*h,l=Math.floor(b-(b*h));this._helpLine=new dojo._Line(0,l);dojo.style(this.helper,d,Math.floor(g)+"px")},postCreate:function(){this.inherited(arguments);if(this.autoHide){this._showAnim=dojo._fade({node:this.helper,end:0.5,duration:350});this._hideAnim=dojo.fadeOut({node:this.helper,duration:750})}this._vertical=(this.orientation=="vertical");if(!this._vertical){dojo.addClass(this.containerNode,"dijitInline");this._dir="width";this._edge="left";this._scroll="scrollLeft"}else{this._dir="height";this._edge="top";this._scroll="scrollTop"}if(this._hideAnim){this._hideAnim.play()}dojo.style(this.wrapper,"overflow","hidden")},_set:function(a){if(!this._size){return}this.wrapper[this._scroll]=Math.floor(this._line.getValue(a));dojo.style(this.helper,this._edge,Math.floor(this._helpLine.getValue(a))+"px")},_calc:function(a){if(!this._lo){this.resize()}this._set(this._vertical?((a.pageY-this._lo.y)/this._lo.h):((a.pageX-this._lo.x)/this._lo.w))},_enter:function(a){if(this._hideAnim){if(this._hideAnim.status()=="playing"){this._hideAnim.stop()}this._showAnim.play()}},_leave:function(a){if(this._hideAnim){this._hideAnim.play()}}})}if(!dojo._hasResource["dojox.image.ThumbnailPicker"]){dojo._hasResource["dojox.image.ThumbnailPicker"]=true;dojo.provide("dojox.image.ThumbnailPicker");dojo.experimental("dojox.image.ThumbnailPicker");dojo.declare("dojox.image.ThumbnailPicker",[dijit._Widget,dijit._Templated],{imageStore:null,request:null,size:500,thumbHeight:75,thumbWidth:100,useLoadNotifier:false,useHyperlink:false,hyperlinkTarget:"new",isClickable:true,isScrollable:true,isHorizontal:true,autoLoad:true,linkAttr:"link",imageThumbAttr:"imageUrlThumb",imageLargeAttr:"imageUrl",pageSize:20,titleAttr:"title",templateString:'<div dojoAttachPoint="outerNode" class="thumbOuter">\n\t<div dojoAttachPoint="navPrev" class="thumbNav thumbClickable">\n\t  <img src="" dojoAttachPoint="navPrevImg"/>    \n\t</div>\n\t<div dojoAttachPoint="thumbScroller" class="thumbScroller">\n\t  <div dojoAttachPoint="thumbsNode" class="thumbWrapper"></div>\n\t</div>\n\t<div dojoAttachPoint="navNext" class="thumbNav thumbClickable">\n\t  <img src="" dojoAttachPoint="navNextImg"/>  \n\t</div>\n</div>\n',_thumbs:[],_thumbIndex:0,_maxPhotos:0,_loadedImages:{},postCreate:function(){this.widgetid=this.id;this.inherited(arguments);this.pageSize=Number(this.pageSize);this._scrollerSize=this.size-(51*2);var a=this._sizeProperty=this.isHorizontal?"width":"height";dojo.style(this.outerNode,"textAlign","center");dojo.style(this.outerNode,a,this.size+"px");dojo.style(this.thumbScroller,a,this._scrollerSize+"px");if(this.useHyperlink){dojo.subscribe(this.getClickTopicName(),this,function(d){var c=d.index;var b=this.imageStore.getValue(d.data,this.linkAttr);if(!b){return}if(this.hyperlinkTarget=="new"){window.open(b)}else{window.location=b}})}if(this.isClickable){dojo.addClass(this.thumbsNode,"thumbClickable")}this._totalSize=0;this.init()},init:function(){if(this.isInitialized){return false}var a=this.isHorizontal?"Horiz":"Vert";dojo.addClass(this.navPrev,"prev"+a);dojo.addClass(this.navNext,"next"+a);dojo.addClass(this.thumbsNode,"thumb"+a);dojo.addClass(this.outerNode,"thumb"+a);this.navNextImg.setAttribute("src",this._blankGif);this.navPrevImg.setAttribute("src",this._blankGif);this.connect(this.navPrev,"onclick","_prev");this.connect(this.navNext,"onclick","_next");this.isInitialized=true;if(this.isHorizontal){this._offsetAttr="offsetLeft";this._sizeAttr="offsetWidth";this._scrollAttr="scrollLeft"}else{this._offsetAttr="offsetTop";this._sizeAttr="offsetHeight";this._scrollAttr="scrollTop"}this._updateNavControls();if(this.imageStore&&this.request){this._loadNextPage()}return true},getClickTopicName:function(){return(this.widgetId||this.id)+"/select"},getShowTopicName:function(){return(this.widgetId||this.id)+"/show"},setDataStore:function(c,b,a){this.reset();this.request={query:{},start:b.start||0,count:b.count||10,onBegin:dojo.hitch(this,function(d){this._maxPhotos=d})};if(b.query){dojo.mixin(this.request.query,b.query)}if(a){dojo.forEach(["imageThumbAttr","imageLargeAttr","linkAttr","titleAttr"],function(d){if(a[d]){this[d]=a[d]}},this)}this.request.start=0;this.request.count=this.pageSize;this.imageStore=c;if(!this.init()){this._loadNextPage()}},reset:function(){this._loadedImages={};dojo.forEach(this._thumbs,function(a){if(a){if(a.parentNode){a.parentNode.removeChild(a)}}});this._thumbs=[];this.isInitialized=false;this._noImages=true},isVisible:function(a){var b=this._thumbs[a];if(!b){return false}var g=this.isHorizontal?"offsetLeft":"offsetTop";var c=this.isHorizontal?"offsetWidth":"offsetHeight";var f=this.isHorizontal?"scrollLeft":"scrollTop";var d=b[g]-this.thumbsNode[g];return(d>=this.thumbScroller[f]&&d+b[c]<=this.thumbScroller[f]+this._scrollerSize)},_next:function(){var k=this.isHorizontal?"offsetLeft":"offsetTop";var f=this.isHorizontal?"offsetWidth":"offsetHeight";var c=this.thumbsNode[k];var b=this._thumbs[this._thumbIndex];var h=b[k]-c;var g=-1,a;for(var d=this._thumbIndex+1;d<this._thumbs.length;d++){a=this._thumbs[d];if(a[k]-c+a[f]-h>this._scrollerSize){this._showThumbs(d);return}}},_prev:function(){if(this.thumbScroller[this.isHorizontal?"scrollLeft":"scrollTop"]==0){return}var h=this.isHorizontal?"offsetLeft":"offsetTop";var g=this.isHorizontal?"offsetWidth":"offsetHeight";var d=this._thumbs[this._thumbIndex];var b=d[h]-this.thumbsNode[h];var a=-1,c;for(var f=this._thumbIndex-1;f>-1;f--){c=this._thumbs[f];if(b-c[h]>this._scrollerSize){this._showThumbs(f+1);return}}this._showThumbs(0)},_checkLoad:function(a,b){dojo.publish(this.getShowTopicName(),[{index:b}]);this._updateNavControls();this._loadingImages={};this._thumbIndex=b;if(this.thumbsNode.offsetWidth-a.offsetLeft<(this._scrollerSize*2)){this._loadNextPage()}},_showThumbs:function(c){c=Math.min(Math.max(c,0),this._maxPhotos);if(c>=this._maxPhotos){return}var a=this._thumbs[c];if(!a){return}var g=a.offsetLeft-this.thumbsNode.offsetLeft;var f=a.offsetTop-this.thumbsNode.offsetTop;var d=this.isHorizontal?g:f;if((d>=this.thumbScroller[this._scrollAttr])&&(d+a[this._sizeAttr]<=this.thumbScroller[this._scrollAttr]+this._scrollerSize)){return}if(this.isScrollable){var b=this.isHorizontal?{x:g,y:0}:{x:0,y:f};dojox.fx.smoothScroll({target:b,win:this.thumbScroller,duration:300,easing:dojo.fx.easing.easeOut,onEnd:dojo.hitch(this,"_checkLoad",a,c)}).play(10)}else{if(this.isHorizontal){this.thumbScroller.scrollLeft=g}else{this.thumbScroller.scrollTop=f}this._checkLoad(a,c)}},markImageLoaded:function(b){var a=dojo.byId("loadingDiv_"+this.widgetid+"_"+b);if(a){this._setThumbClass(a,"thumbLoaded")}this._loadedImages[b]=true},_setThumbClass:function(a,b){if(!this.autoLoad){return}dojo.addClass(a,b)},_loadNextPage:function(){if(this._loadInProgress){return}this._loadInProgress=true;var b=this.request.start+(this._noImages?0:this.pageSize);var d=b;while(d<this._thumbs.length&&this._thumbs[d]){d++}var a=function(f,k){if(f&&f.length){var h=0;var g=dojo.hitch(this,function(){if(h>=f.length){this._loadInProgress=false;return}var l=h++;this._loadImage(f[l],d+l,g)});g();this._updateNavControls()}else{this._loadInProgress=false}};var c=function(){this._loadInProgress=false};this.request.onComplete=dojo.hitch(this,a);this.request.onError=dojo.hitch(this,c);this.request.start=b;this._noImages=false;this.imageStore.fetch(this.request)},_loadImage:function(f,n,m){var a=this.imageStore.getValue(f,this.imageThumbAttr);var g=document.createElement("img");var l=document.createElement("div");l.setAttribute("id","img_"+this.widgetid+"_"+n);l.appendChild(g);g._index=n;g._data=f;this._thumbs[n]=l;var k;if(this.useLoadNotifier){k=document.createElement("div");k.setAttribute("id","loadingDiv_"+this.widgetid+"_"+n);this._setThumbClass(k,this._loadedImages[n]?"thumbLoaded":"thumbNotifier");l.appendChild(k)}var p=dojo.marginBox(this.thumbsNode);var h;var d;if(this.isHorizontal){h=this.thumbWidth;d="w"}else{h=this.thumbHeight;d="h"}p=p[d];var c=this.thumbScroller.scrollLeft,o=this.thumbScroller.scrollTop;dojo.style(this.thumbsNode,this._sizeProperty,(p+h+20)+"px");this.thumbScroller.scrollLeft=c;this.thumbScroller.scrollTop=o;this.thumbsNode.appendChild(l);dojo.connect(g,"onload",this,function(){var q=dojo.marginBox(g)[d];this._totalSize+=(Number(q)+4);dojo.style(this.thumbsNode,this._sizeProperty,this._totalSize+"px");if(this.useLoadNotifier){dojo.style(k,"width",(g.width-4)+"px")}dojo.style(l,"width",g.width+"px");m();return false});dojo.connect(g,"onclick",this,function(q){dojo.publish(this.getClickTopicName(),[{index:q.target._index,data:q.target._data,url:g.getAttribute("src"),largeUrl:this.imageStore.getValue(f,this.imageLargeAttr),title:this.imageStore.getValue(f,this.titleAttr),link:this.imageStore.getValue(f,this.linkAttr)}]);return false});dojo.addClass(g,"imageGalleryThumb");g.setAttribute("src",a);var b=this.imageStore.getValue(f,this.titleAttr);if(b){g.setAttribute("title",b)}this._updateNavControls()},_updateNavControls:function(){var f=[];var a=function(k,l){var h=l?"addClass":"removeClass";dojo[h](k,"enabled");dojo[h](k,"thumbClickable")};var g=this.isHorizontal?"scrollLeft":"scrollTop";var b=this.isHorizontal?"offsetWidth":"offsetHeight";a(this.navPrev,(this.thumbScroller[g]>0));var c=this._thumbs[this._thumbs.length-1];var d=(this.thumbScroller[g]+this._scrollerSize<this.thumbsNode[b]);a(this.navNext,d)}})}if(!dojo._hasResource["dojox.image.Carousel"]){dojo._hasResource["dojox.image.Carousel"]=true;dojo.provide("dojox.image.Carousel");dojo.experimental("dojox.image.Carousel");dojo.declare("dojox.image.Carousel",[dijit._Widget,dijit._Templated],{widgetID:null,imageStore:null,imageNodes:null,imageCount:0,request:null,size:150,ImageArray:null,InterFaceWidth:266,ViewingAreaHeight:110,ImageValignment:"middle",templatePath:"/js/dojo/dojox/image/resources/Carousel.html",header:"",viewLink:"",viewText:"",hitch:"null",init:true,currentImage:0,isMoving:false,postCreate:function(){this.inherited(arguments);this.widgetID=this.id;dojo.style(this.DojoCarouselViewingArea,"opacity","0");this.init()},init:function(){this.connect(this.DojoCarouselNavPrev,"onclick","_prev");this.connect(this.DojoCarouselNavNext,"onclick","_next");this.setDataStore();return true},update:function(){this.hideNode(this.DojoCarouselLoader);this.setStyles();this.setIDs();this.attachEventhandlers();this.showNode(this.DojoCarouselViewingArea)},setDataStore:function(){this.imageNodes=new dojo.data.ItemFileReadStore({url:this.imageStore});this.imageNodes.fetch({onItem:this.setImage,onComplete:this.update,scope:this})},setImage:function(b,a){atitle=this.imageNodes.getValue(b,"title");image=this.imageNodes.getValue(b,"thumb");desc=this.imageNodes.getValue(b,"desc");guid=this.imageNodes.getValue(b,"guid");aclass=this.imageNodes.getValue(b,"class");NewElement=document.createElement("span");NewElement.setAttribute("class","DojoCarouselSpan");var c=(this.currentImage>1)?300:this.currentImage*150;NewElement.style.left=c+"px";NewElement.innerHTML='<div guid="'+guid+'" class="thumbnailWrapper" style="background-image: url('+image+');" onClick="'+this.hitch+"('"+guid+'\')" title="'+desc+'"><img src="/images/_clr.gif" class="'+aclass+'" title="'+desc+'" alt="'+desc+'" /></div><div class="VideoTitle">'+atitle+"</div>";this.DojoCarouselImageContainer.appendChild(NewElement);this.currentImage++},setStyles:function(){dojo.style(this.DojoCarouselInterface,"width",this.InterFaceWidth+"px");dojo.style(this.DojoCarouselVerbiage,"width",this.InterFaceWidth-80+"px");dojo.style(this.DojoCarouselViewingArea,"zIndex",2);dojo.style(this.DojoCarouselVerbiage,"zIndex",5);dojo.style(this.DojoCarouselViewingArea,"left",0+"px");dojo.style(this.DojoCarouselVerbiage,"left",40+"px");dojo.style(this.DojoCarouselViewingArea,"top",0+"px");dojo.style(this.DojoCarouselVerbiage,"top",35+"px");dojo.style(this.DojoCarouselViewingArea,"height",this.ViewingAreaHeight+"px");dojo.style(this.DojoCarouselInterface,"height",this.ViewingAreaHeight+35+"px");dojo.style(this.DojoCarouselVerbiage,"textAlign","center");dojo.query("span div",this.DojoCarouselInterface).style("vertialAlign",this.ImageValignment)},setIDs:function(){var a=this.widgetID;dojo.query("span.DojoCarouselSpan",this.DojoCarouselImageContainer).forEach(function(c,b){dojo.attr(c,"id",a+"_"+b)})},attachEventhandlers:function(){var a=this.widgetID;var b=this.hitch;dojo.query("div.thumbnailWrapper",this.DojoCarouselImageContainer).forEach(function(d,c){dojo.attr(d,"id",a+"Image_"+c)})},showNode:function(a){dojo.fadeIn({node:a,duration:500}).play()},hideNode:function(a){dojo.fadeOut({node:a,duration:200}).play()},_next:function(){if((this.currentImage<4)||(this.isMoving)){return}this.isMoving=true;firstDiv=dojo.byId(this.widgetID+"_0");dupDiv=firstDiv.cloneNode(true);this.DojoCarouselImageContainer.appendChild(dupDiv);dojo.style(dupDiv,"left",300+"px");dojo.attr(dupDiv,"id","tmp");var c=dojo.fx.slideTo({node:this.widgetID+"_0",duration:500,left:-150,top:0});var a=dojo.fx.slideTo({node:this.widgetID+"_1",duration:500,left:0,top:0});var b=dojo.fx.slideTo({node:this.widgetID+"_2",duration:500,left:150,top:0});dojo.connect(c,"onEnd",this,function(){this.DojoCarouselImageContainer.removeChild(dojo.byId(this.widgetID+"_0"));this.update()});dojo.connect(b,"onEnd",this,function(){this.isMoving=false});c.play();a.play();b.play()},_prev:function(){if((this.currentImage<4)||(this.isMoving)){return}this.isMoving=true;lastDiv=dojo.byId(this.widgetID+"_"+(this.currentImage-1));dupDiv=lastDiv.cloneNode(true);this.DojoCarouselImageContainer.insertBefore(dupDiv,dojo.byId(this.widgetID+"_0"));this.update();dojo.style(dojo.byId(this.widgetID+"_0"),"left",-150+"px");var c=dojo.fx.slideTo({node:this.widgetID+"_0",duration:500,left:0,top:0});var a=dojo.fx.slideTo({node:this.widgetID+"_1",duration:500,left:150,top:0});var b=dojo.fx.slideTo({node:this.widgetID+"_2",duration:500,left:300,top:0});dojo.connect(c,"onEnd",this,function(){this.isMoving=false});b.play();a.play();c.play()}})}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(b,a){return new dojo.dnd.move.constrainedMoveable(a,b)},constructor:function(b,a){if(!a){a={}}this.constraints=a.constraints;this.within=a.within},onFirstMove:function(a){var d=this.constraintBox=this.constraints.call(this,a);d.r=d.l+d.w;d.b=d.t+d.h;if(this.within){var b=dojo.marginBox(a.node);d.r-=b.w;d.b-=b.h}},onMove:function(b,a){var f=this.constraintBox,d=b.node.style;d.left=(a.l<f.l?f.l:f.r<a.l?f.r:a.l)+"px";d.top=(a.t<f.t?f.t:f.b<a.t?f.b:a.t)+"px"}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(a,b){return new dojo.dnd.move.boxConstrainedMoveable(b,a)},constructor:function(b,c){var a=c&&c.box;this.constraints=function(){return a}}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(b,a){return new dojo.dnd.move.parentConstrainedMoveable(a,b)},constructor:function(c,a){var b=a&&a.area;this.constraints=function(){var h=this.node.parentNode,f=dojo.getComputedStyle(h),g=dojo._getMarginBox(h,f);if(b=="margin"){return g}var d=dojo._getMarginExtents(h,f);g.l+=d.l,g.t+=d.t,g.w-=d.w,g.h-=d.h;if(b=="border"){return g}d=dojo._getBorderExtents(h,f);g.l+=d.l,g.t+=d.t,g.w-=d.w,g.h-=d.h;if(b=="padding"){return g}d=dojo._getPadExtents(h,f);g.l+=d.l,g.t+=d.t,g.w-=d.w,g.h-=d.h;return g}}});dojo.dnd.move.constrainedMover=function(a,c){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var b=function(f,g,d){dojo.dnd.Mover.call(this,f,g,d)};dojo.extend(b,dojo.dnd.Mover.prototype);dojo.extend(b,{onMouseMove:function(h){dojo.dnd.autoScroll(h);var d=this.marginBox,k=this.constraintBox,f=d.l+h.pageX,g=d.t+h.pageY;f=f<k.l?k.l:k.r<f?k.r:f;g=g<k.t?k.t:k.b<g?k.b:g;this.host.onMove(this,{l:f,t:g})},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var f=this.constraintBox=a.call(this);f.r=f.l+f.w;f.b=f.t+f.h;if(c){var d=dojo.marginBox(this.node);f.r-=d.w;f.b-=d.h}}});return b};dojo.dnd.move.boxConstrainedMover=function(a,b){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return a},b)};dojo.dnd.move.parentConstrainedMover=function(c,b){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var a=function(){var h=this.node.parentNode,f=dojo.getComputedStyle(h),g=dojo._getMarginBox(h,f);if(c=="margin"){return g}var d=dojo._getMarginExtents(h,f);g.l+=d.l,g.t+=d.t,g.w-=d.w,g.h-=d.h;if(c=="border"){return g}d=dojo._getBorderExtents(h,f);g.l+=d.l,g.t+=d.t,g.w-=d.w,g.h-=d.h;if(c=="padding"){return g}d=dojo._getPadExtents(h,f);g.l+=d.l,g.t+=d.t,g.w-=d.w,g.h-=d.h;return g};return dojo.dnd.move.constrainedMover(a,b)};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var a=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(c,b){if(!b){b={}}if(b.timeout&&typeof b.timeout=="number"&&b.timeout>=0){this.timeout=b.timeout}},markupFactory:function(c,b){return new dojo.dnd.TimedMoveable(b,c)},onMoveStop:function(b){if(b._timer){clearTimeout(b._timer);a.call(this,b,b._leftTop)}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments)},onMove:function(d,b){d._leftTop=b;if(!d._timer){var c=this;d._timer=setTimeout(function(){d._timer=null;a.call(c,d,d._leftTop)},this.timeout)}}})})()}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{reset:function(){dojo.forEach(this.getDescendants(),function(a){if(a.reset){a.reset()}})},validate:function(){var a=false;return dojo.every(dojo.map(this.getDescendants(),function(c){c._hasBeenBlurred=true;var b=c.disabled||!c.validate||c.validate();if(!b&&!a){dijit.scrollIntoView(c.containerNode||c.domNode);c.focus();a=true}return b}),function(b){return b})},setValues:function(a){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use attr('value', val) instead.","","2.0");return this.attr("value",a)},_setValueAttr:function(d){var c={};dojo.forEach(this.getDescendants(),function(h){if(!h.name){return}var g=c[h.name]||(c[h.name]=[]);g.push(h)});for(var b in c){if(!c.hasOwnProperty(b)){continue}var a=c[b],f=dojo.getObject(b,false,d);if(f===undefined){continue}if(!dojo.isArray(f)){f=[f]}if(typeof a[0].checked=="boolean"){dojo.forEach(a,function(g,h){g.attr("value",dojo.indexOf(f,g.value)!=-1)})}else{if(a[0]._multiValue){a[0].attr("value",f)}else{dojo.forEach(a,function(g,h){g.attr("value",f[h])})}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value")},_getValueAttr:function(){var a={};dojo.forEach(this.getDescendants(),function(d){var b=d.name;if(!b||d.disabled){return}var f=d.attr("value");if(typeof d.checked=="boolean"){if(/Radio/.test(d.declaredClass)){if(f!==false){dojo.setObject(b,f,a)}else{f=dojo.getObject(b,false,a);if(f===undefined){dojo.setObject(b,null,a)}}}else{var c=dojo.getObject(b,false,a);if(!c){c=[];dojo.setObject(b,c,a)}if(f!==false){c.push(f)}}}else{dojo.setObject(b,f,a)}});return a},isValid:function(){this._invalidWidgets=dojo.filter(this.getDescendants(),function(a){return !a.disabled&&a.isValid&&!a.isValid()});return !this._invalidWidgets.length},onValidStateChange:function(a){},_widgetChange:function(b){var a=this._lastValidState;if(!b||this._lastValidState===undefined){a=this.isValid();if(this._lastValidState===undefined){this._lastValidState=a}}else{if(b.isValid){this._invalidWidgets=dojo.filter(this._invalidWidgets||[],function(c){return(c!=b)},this);if(!b.isValid()&&!b.attr("disabled")){this._invalidWidgets.push(b)}a=(this._invalidWidgets.length===0)}}if(a!==this._lastValidState){this._lastValidState=a;this.onValidStateChange(a)}},connectChildren:function(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var b=this;var a=this._changeConnections=[];dojo.forEach(dojo.filter(this.getDescendants(),function(c){return c.validate}),function(c){a.push(b.connect(c,"validate",dojo.hitch(b,"_widgetChange",c)));a.push(b.connect(c,"_setDisabledAttr",dojo.hitch(b,"_widgetChange",c)))});this._widgetChange(null)},startup:function(){this.inherited(arguments);this._changeConnections=[];this.connectChildren()}})}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(a){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.attr("value"))},_getFocusItems:function(b){var a=dijit._getTabNavigable(dojo.byId(b));this._firstFocusItem=a.lowest||a.first||b;this._lastFocusItem=a.last||a.highest||this._firstFocusItem;if(dojo.isMoz&&this._firstFocusItem.tagName.toLowerCase()=="input"&&dojo.attr(this._firstFocusItem,"type").toLowerCase()=="file"){dojo.attr(b,"tabindex","0");this._firstFocusItem=b}}})}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(a){dojo.attr(this.node,"id",a+"_underlay")},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a},postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var c=dijit.getViewport();b.top=c.t+"px";b.left=c.l+"px";a.width=c.w+"px";a.height=c.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.layout();if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="block"}},hide:function(){this.domNode.style.display="none";if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="none"}},uninitialize:function(){if(this.bgIframe){this.bgIframe.destroy()}}})}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:null,templateString:'<div waiRole="presentation">\n\t<div class="dijitTooltipContainer" waiRole="presentation">\n\t\t<div class ="dijitTooltipContents dijitTooltipFocusNode" dojoAttachPoint="containerNode" tabindex="-1" waiRole="dialog"></div>\n\t</div>\n\t<div class="dijitTooltipConnector" waiRole="presentation"></div>\n</div>\n',postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");this.containerNode.title=this.title},orient:function(a,d,b){var f=this._currentOrientClass;if(f){dojo.removeClass(this.domNode,f)}f="dijitTooltipAB"+(b.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(b.charAt(0)=="T"?"Below":"Above");dojo.addClass(this.domNode,f);this._currentOrientClass=f},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);this._onShow();if(this.autofocus){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem)}},_onKey:function(a){var d=a.target;var b=dojo.keys;if(a.charOrCode===b.TAB){this._getFocusItems(this.containerNode)}var c=(this._firstFocusItem==this._lastFocusItem);if(a.charOrCode==b.ESCAPE){this.onCancel();dojo.stopEvent(a)}else{if(d==this._firstFocusItem&&a.shiftKey&&a.charOrCode===b.TAB){if(!c){dijit.focus(this._lastFocusItem)}dojo.stopEvent(a)}else{if(d==this._lastFocusItem&&a.charOrCode===b.TAB&&!a.shiftKey){if(!c){dijit.focus(this._firstFocusItem)}dojo.stopEvent(a)}else{if(a.charOrCode===b.TAB){a.stopPropagation()}}}}}})}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{templateString:null,templateString:'<div class="dijitDialog" tabindex="-1" waiRole="dialog" waiState="labelledby-${id}_title">\n\t<div dojoAttachPoint="titleBar" class="dijitDialogTitleBar">\n\t<span dojoAttachPoint="titleNode" class="dijitDialogTitle" id="${id}_title"></span>\n\t<span dojoAttachPoint="closeButtonNode" class="dijitDialogCloseIcon" dojoAttachEvent="onclick: onCancel, onmouseenter: _onCloseEnter, onmouseleave: _onCloseLeave" title="${buttonCancel}">\n\t\t<span dojoAttachPoint="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}]}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_fixSizes:true,postMixInProperties:function(){var a=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,a);this.inherited(arguments)},postCreate:function(){dojo.style(this.domNode,{visibility:"hidden",position:"absolute",display:"",top:"-9999px"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.inherited(arguments)},_endDrag:function(c){if(c&&c.node&&c.node===this.domNode){var a=dijit.getViewport();var b=c._leftTop||dojo.coords(c.node,true);this._relativePosition={t:b.t-a.t,l:b.l-a.l}}},_setup:function(){var c=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(c,{handle:this.titleBar}):new dojo.dnd.Moveable(c,{handle:this.titleBar,timeout:0});dojo.subscribe("/dnd/move/stop",this,"_endDrag")}else{dojo.addClass(c,"dijitDialogFixed")}var b={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(d){return d+"_underlay"}).join(" ")};var a=dijit._underlay;if(!a){a=dijit._underlay=new dijit.DialogUnderlay(b)}this._fadeIn=dojo.fadeIn({node:c,duration:this.duration,beforeBegin:function(){a.attr(b);a.show()},onEnd:dojo.hitch(this,function(){if(this.autofocus){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem)}})});this._fadeOut=dojo.fadeOut({node:c,duration:this.duration,onEnd:function(){c.style.visibility="hidden";c.style.top="-9999px";dijit._underlay.hide()}})},uninitialize:function(){var a=false;if(this._fadeIn&&this._fadeIn.status()=="playing"){a=true;this._fadeIn.stop()}if(this._fadeOut&&this._fadeOut.status()=="playing"){a=true;this._fadeOut.stop()}if(this.open||a){dijit._underlay.hide()}if(this._moveable){this._moveable.destroy()}},_size:function(){var b=dojo.marginBox(this.domNode);var a=dijit.getViewport();if(b.w>=a.w||b.h>=a.h){dojo.style(this.containerNode,{width:Math.min(b.w,Math.floor(a.w*0.75))+"px",height:Math.min(b.h,Math.floor(a.h*0.75))+"px",overflow:"auto",position:"relative"})}},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var b=this.domNode;var a=dijit.getViewport();var c=this._relativePosition;var d=c?null:dojo.marginBox(b);dojo.style(b,{left:Math.floor(a.l+(c?c.l:(a.w-d.w)/2))+"px",top:Math.floor(a.t+(c?c.t:(a.h-d.h)/2))+"px"})}},_onKey:function(a){if(a.charOrCode){var b=dojo.keys;var d=a.target;if(a.charOrCode===b.TAB){this._getFocusItems(this.domNode)}var c=(this._firstFocusItem==this._lastFocusItem);if(d==this._firstFocusItem&&a.shiftKey&&a.charOrCode===b.TAB){if(!c){dijit.focus(this._lastFocusItem)}dojo.stopEvent(a)}else{if(d==this._lastFocusItem&&a.charOrCode===b.TAB&&!a.shiftKey){if(!c){dijit.focus(this._firstFocusItem)}dojo.stopEvent(a)}else{while(d){if(d==this.domNode){if(a.charOrCode==b.ESCAPE){this.onCancel()}else{return}}d=d.parentNode}if(a.charOrCode!==b.TAB){dojo.stopEvent(a)}else{if(!dojo.isOpera){try{this._firstFocusItem.focus()}catch(f){}}}}}}},show:function(){if(this.open){return}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true}if(this._fadeOut.status()=="playing"){this._fadeOut.stop()}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var a=dijit.getViewport();if(!this._oldViewport||a.h!=this._oldViewport.h||a.w!=this._oldViewport.w){this.layout();this._oldViewport=a}}));this._modalconnects.push(dojo.connect(dojo.doc.documentElement,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,visibility:""});if(this._fixSizes){dojo.style(this.containerNode,{width:"auto",height:"auto"})}this.open=true;this._onShow();this._size();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this)},hide:function(){if(!this._alreadyInitialized){return}if(this._fadeIn.status()=="playing"){this._fadeIn.stop()}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this.refocus){this.connect(this._fadeOut,"onEnd",dojo.hitch(dijit,"focus",this._savedFocus))}if(this._relativePosition){delete this._relativePosition}this.open=false},layout:function(){if(this.domNode.style.visibility!="hidden"){dijit._underlay.layout();this._position()}},destroy:function(){dojo.forEach(this._modalconnects,dojo.disconnect);if(this.refocus&&this.open){setTimeout(dojo.hitch(dijit,"focus",this._savedFocus),25)}this.inherited(arguments)},_onCloseEnter:function(){dojo.addClass(this.closeButtonNode,"dijitDialogCloseIcon-hover")},_onCloseLeave:function(){dojo.removeClass(this.closeButtonNode,"dijitDialogCloseIcon-hover")}})}if(!dojo._hasResource["dojox.image.Lightbox"]){dojo._hasResource["dojox.image.Lightbox"]=true;dojo.provide("dojox.image.Lightbox");dojo.experimental("dojox.image.Lightbox");dojo.declare("dojox.image.Lightbox",dijit._Widget,{group:"",title:"",href:"",duration:500,_allowPassthru:false,_attachedDialog:null,startup:function(){this.inherited(arguments);var a=dijit.byId("dojoxLightboxDialog");if(a){this._attachedDialog=a}else{this._attachedDialog=new dojox.image.LightboxDialog({id:"dojoxLightboxDialog"});this._attachedDialog.startup()}if(!this.store){this._addSelf();this.connect(this.domNode,"onclick","_handleClick")}},_addSelf:function(){this._attachedDialog.addImage({href:this.href,title:this.title},this.group||null)},_handleClick:function(a){if(!this._allowPassthru){a.preventDefault()}else{return}this.show()},show:function(){this._attachedDialog.show(this)},disable:function(){this._allowPassthru=true},enable:function(){this._allowPassthru=false}});dojo.declare("dojox.image.LightboxDialog",dijit.Dialog,{title:"",inGroup:null,imgUrl:dijit._Widget.prototype._blankGif,errorMessage:"Image not found.",adjust:true,_groups:{XnoGroupX:[]},errorImg:dojo.moduleUrl("dojox.image","resources/images/warning.png"),_fixSizes:false,templateString:'<div class="dojoxLightbox" dojoAttachPoint="containerNode">\n\t<div style="position:relative">\n\t\t<div dojoAttachPoint="imageContainer" class="dojoxLightboxContainer">\n\t\t\t<img dojoAttachPoint="imgNode" src="${imgUrl}" class="dojoxLightboxImage" alt="${title}">\n\t\t\t<div class="dojoxLightboxFooter" dojoAttachPoint="titleNode">\n\t\t\t\t<div class="dijitInline LightboxClose" dojoAttachPoint="closeNode"></div>\n\t\t\t\t<div class="dijitInline LightboxNext" dojoAttachPoint="nextNode"></div>\t\n\t\t\t\t<div class="dijitInline LightboxPrev" dojoAttachPoint="prevNode"></div>\n\t\t\t\t<div class="dojoxLightboxText"><span dojoAttachPoint="textNode">${title}</span><span dojoAttachPoint="groupCount" class="dojoxLightboxGroupText"></span></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',startup:function(){this.inherited(arguments);this._animConnects=[];this._clone=dojo.clone(this.imgNode);this.connect(this.nextNode,"onclick","_nextImage");this.connect(this.prevNode,"onclick","_prevImage");this.connect(this.closeNode,"onclick","hide");this._makeAnims();this._vp=dijit.getViewport();return this},show:function(a){var b=this;if(!b.open){b.inherited(arguments);this._modalconnects.push(dojo.connect(dojo.global,"onscroll",this,"_position"),dojo.connect(dojo.global,"onresize",this,"_position"),dojo.connect(dojo.body(),"onkeypress",this,"_handleKey"))}if(this._wasStyled){dojo.destroy(b.imgNode);b.imgNode=dojo.clone(b._clone);dojo.place(b.imgNode,b.imageContainer,"first");b._makeAnims();b._wasStyled=false}dojo.style(b.imgNode,"opacity","0");dojo.style(b.titleNode,"opacity","0");b._imageReady=false;b.imgNode.src=a.href;if((a.group&&a!=="XnoGroupX")||b.inGroup){if(!b.inGroup){b.inGroup=b._groups[(a.group)];dojo.forEach(b.inGroup,function(d,c){if(d.href==a.href){b._positionIndex=c}},b)}if(!b._positionIndex){b._positionIndex=0;b.imgNode.src=b.inGroup[b._positionIndex].href}b.groupCount.innerHTML=" ("+(b._positionIndex+1)+" of "+b.inGroup.length+")";b.prevNode.style.visibility="visible";b.nextNode.style.visibility="visible"}else{b.groupCount.innerHTML="";b.prevNode.style.visibility="hidden";b.nextNode.style.visibility="hidden"}b.textNode.innerHTML=a.title;if(!b._imageReady||b.imgNode.complete===true){b._imgConnect=dojo.connect(b.imgNode,"onload",b,function(){b._imageReady=true;b.resizeTo({w:b.imgNode.width,h:b.imgNode.height,duration:b.duration});dojo.disconnect(b._imgConnect);if(b._imgError){dojo.disconnect(b._imgError)}});b._imgError=dojo.connect(b.imgNode,"onerror",b,function(){dojo.disconnect(b._imgError);b.imgNode.src=b.errorImg;b._imageReady=true;b.textNode.innerHTML=b.errorMessage});if(dojo.isIE){b.imgNode.src=b.imgNode.src}}else{b.resizeTo({w:b.imgNode.width,h:b.imgNode.height,duration:1})}},_nextImage:function(){if(!this.inGroup){return}if(this._positionIndex+1<this.inGroup.length){this._positionIndex++}else{this._positionIndex=0}this._loadImage()},_prevImage:function(){if(this.inGroup){if(this._positionIndex==0){this._positionIndex=this.inGroup.length-1}else{this._positionIndex--}this._loadImage()}},_loadImage:function(){this._loadingAnim.play(1)},_prepNodes:function(){this._imageReady=false;this.show({href:this.inGroup[this._positionIndex].href,title:this.inGroup[this._positionIndex].title})},resizeTo:function(a){var c=((dojo.boxModel=="border-box"))?22:0;if(this.adjust&&(a.h+c+80>this._vp.h||a.w+c+50>this._vp.w)){a=this._scaleToFit(a)}var b=dojox.fx.sizeTo({node:this.containerNode,duration:a.duration||this.duration,width:a.w+c,height:a.h+30+c});this.connect(b,"onEnd","_showImage");b.play(15)},_showImage:function(){this._showImageAnim.play(1)},_showNav:function(){this._showNavAnim.play(1)},hide:function(){dojo.fadeOut({node:this.titleNode,duration:200,onEnd:dojo.hitch(this,function(){this.imgNode.src=this._blankGif})}).play(5);this.inherited(arguments);this.inGroup=null;this._positionIndex=null},addImage:function(c,a){var b=a;if(!c.href){return}if(b){if(!this._groups[b]){this._groups[b]=[]}this._groups[b].push(c)}else{this._groups.XnoGroupX.push(c)}},_handleKey:function(c){if(!this.open){return}var b=dojo.keys;var a=(c.charCode==b.SPACE?b.SPACE:c.keyCode);switch(a){case b.ESCAPE:this.hide();break;case b.DOWN_ARROW:case b.RIGHT_ARROW:case 78:this._nextImage();break;case b.UP_ARROW:case b.LEFT_ARROW:case 80:this._prevImage();break}},_scaleToFit:function(a){var c={};if(this._vp.h>this._vp.w){c.w=this._vp.w-70;c.h=c.w*(a.h/a.w)}else{c.h=this._vp.h-80;c.w=c.h*(a.w/a.h)}this._wasStyled=true;var b=this.imgNode.style;b.height=c.h+"px";b.width=c.w+"px";c.duration=a.duration;return c},_position:function(a){this.inherited(arguments);this._vp=dijit.getViewport()},_makeAnims:function(){dojo.forEach(this._animConnects,dojo.disconnect);this._animConnects=[];this._showImageAnim=dojo.fadeIn({node:this.imgNode,duration:this.duration});this._animConnects.push(dojo.connect(this._showImageAnim,"onEnd",this,"_showNav"));this._loadingAnim=dojo.fx.combine([dojo.fadeOut({node:this.imgNode,duration:175}),dojo.fadeOut({node:this.titleNode,duration:175})]);this._animConnects.push(dojo.connect(this._loadingAnim,"onEnd",this,"_prepNodes"));this._showNavAnim=dojo.fadeIn({node:this.titleNode,duration:225})}})}if(!dojo._hasResource["dojox.xml.parser"]){dojo._hasResource["dojox.xml.parser"]=true;dojo.provide("dojox.xml.parser");dojox.xml.parser.parse=function(g,p){var o=dojo.doc;var m;p=p||"text/xml";if(g&&dojo.trim(g)&&"DOMParser" in dojo.global){var n=new DOMParser();m=n.parseFromString(g,p);var l=m.documentElement;var k="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(l.nodeName=="parsererror"&&l.namespaceURI==k){var a=l.getElementsByTagNameNS(k,"sourcetext")[0];if(!a){a=a.firstChild.data}throw new Error("Error parsing text "+nativeDoc.documentElement.firstChild.data+" \n"+a)}return m}else{if("ActiveXObject" in dojo.global){var b=function(q){return"MSXML"+q+".DOMDocument"};var c=["Microsoft.XMLDOM",b(6),b(4),b(3),b(2)];dojo.some(c,function(r){try{m=new ActiveXObject(r)}catch(q){return false}return true});if(g&&m){m.async=false;m.loadXML(g);var f=m.parseError;if(f.errorCode!==0){throw new Error("Line: "+f.line+"\nCol: "+f.linepos+"\nReason: "+f.reason+"\nError Code: "+f.errorCode+"\nSource: "+f.srcText)}}if(m){return m}}else{if(o.implementation&&o.implementation.createDocument){if(g&&dojo.trim(g)&&o.createElement){var d=o.createElement("xml");d.innerHTML=g;var h=o.implementation.createDocument("foo","",null);dojo.forEach(d.childNodes,function(q){h.importNode(q,true)});return h}else{return o.implementation.createDocument("","",null)}}}}return null};dojox.xml.parser.textContent=function(c,d){if(arguments.length>1){var b=c.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(c,b.createTextNode(d));return d}else{if(c.textContent!==undefined){return c.textContent}var a="";if(c){dojo.forEach(c.childNodes,function(f){switch(f.nodeType){case 1:case 5:a+=dojox.xml.parser.textContent(f);break;case 3:case 2:case 4:a+=f.nodeValue}})}return a}};dojox.xml.parser.replaceChildren=function(c,a){var b=[];if(dojo.isIE){dojo.forEach(c.childNodes,function(d){b.push(d)})}dojox.xml.parser.removeChildren(c);dojo.forEach(b,dojo.destroy);if(!dojo.isArray(a)){c.appendChild(a)}else{dojo.forEach(a,function(d){c.appendChild(d)})}};dojox.xml.parser.removeChildren=function(b){var a=b.childNodes.length;while(b.hasChildNodes()){b.removeChild(b.firstChild)}return a};dojox.xml.parser.innerXML=function(a){if(a.innerXML){return a.innerXML}else{if(a.xml){return a.xml}else{if(typeof XMLSerializer!="undefined"){return(new XMLSerializer()).serializeToString(a)}}}return null}}if(!dojo._hasResource["dojox.data.dom"]){dojo._hasResource["dojox.data.dom"]=true;dojo.provide("dojox.data.dom");dojo.deprecated("dojox.data.dom","Use dojox.xml.parser instead.","2.0");dojox.data.dom.createDocument=function(c,a){dojo.deprecated("dojox.data.dom.createDocument()","Use dojox.xml.parser.parse() instead.","2.0");try{return dojox.xml.parser.parse(c,a)}catch(b){return null}};dojox.data.dom.textContent=function(a,b){dojo.deprecated("dojox.data.dom.textContent()","Use dojox.xml.parser.textContent() instead.","2.0");if(arguments.length>1){return dojox.xml.parser.textContent(a,b)}else{return dojox.xml.parser.textContent(a)}};dojox.data.dom.replaceChildren=function(b,a){dojo.deprecated("dojox.data.dom.replaceChildren()","Use dojox.xml.parser.replaceChildren() instead.","2.0");dojox.xml.parser.replaceChildren(b,a)};dojox.data.dom.removeChildren=function(a){dojo.deprecated("dojox.data.dom.removeChildren()","Use dojox.xml.parser.removeChildren() instead.","2.0");return dojox.xml.parser.removeChildren(a)};dojox.data.dom.innerXML=function(a){dojo.deprecated("dojox.data.dom.innerXML()","Use dojox.xml.parser.innerXML() instead.","2.0");return dojox.xml.parser.innerXML(a)}}if(!dojo._hasResource["dojo_widgets.search.Search"]){dojo._hasResource["dojo_widgets.search.Search"]=true;dojo.provide("dojo_widgets.search.Search");dojo.experimental("dojo_widgets.search.Search");dojo.declare("dojo_widgets.search.Search",[dijit._Widget],{artistStore:null,artistSelect:null,DojoSearchField:null,DojoSearchSubmit:null,DojoRecordsField:null,SearchURL:null,theDialog:null,postCreate:function(){this.inherited(arguments);this.DojoSearchField=document.forms.searchForm.elements.key;this.DojoSearchSubmit=dojo.byId("DojoSearchSubmit");this.DojoRecordsField=dojo.byId("DojoRecordsField");this.artistSelect=dojo.byId("artist_search");this.DojoSearchField.value="Enter Tattoo Keyword";dojo.connect(this.DojoSearchField,"onfocus",null,this.toggleSearchInputIn);dojo.connect(this.DojoSearchField,"onblur",null,this.toggleSearchInputOut);dojo.connect(this.DojoSearchSubmit,"onclick",this,this.submitSearch);dojo.connect(this.artistSelect,"onchange",this,this.submitSearch);if(dojo.byId("DojoSearchSuggestions")){dojo.connect(dojo.byId("DojoSearchSuggestions"),"onclick",this,this.showKeys)}if(dojo.byId("DojoSearchSuggestions")){dojo.connect(document,"onkeypress",this,this.doKeyPress)}this.SearchURL=location.pathname.split("/");this.update();this.init()},startup:function(){this.inherited(arguments)},submitSearch:function(a){dojo.stopEvent(a);this.doSearch()},doSearch:function(){var b=new Array;var a=new Array;if((this.artistSelect.value=="Search by Artist")&&((this.DojoSearchField.value=="")||(this.DojoSearchField.value=="Enter Tattoo Keyword"))){window.location="/search/featured?result=false";return false}url="/search";if(this.DojoSearchField.value!="Enter Tattoo Keyword"){url=url+"/"+this.DojoSearchField.value}if(this.artistSelect.value!="Search by Artist"){url=url+"/artist/"+this.artistSelect.value}if(this.DojoRecordsField.value!=12){url=url+"/records/"+this.DojoRecordsField.value}if(document.forms.searchForm.elements.bw.checked){b[b.length]="bw"}if(document.forms.searchForm.elements.color.checked){b[b.length]="color"}if(b.length==1){url=url+"/cmap/"+b.join(",")}if(document.forms.searchForm.elements.small.checked){a[a.length]="small"}if(document.forms.searchForm.elements.medium.checked){a[a.length]="medium"}if(document.forms.searchForm.elements.large.checked){a[a.length]="large"}if((a.length>0)&&(a.length<3)){url=url+"/size/"+a.join(",")}if(document.forms.searchForm.elements.adult_search.checked){url=url+"/adult/true"}document.location.href=url;return false},init:function(){if(dojo.byId("DojoSearchSuggestions")){this.theDialog=new dijit.Dialog({id:"keyword_suggestion_dialog",title:"Keyword Suggestions"}),dojo.byId("keyword_suggestions_dialog");var a=this.theDialog;dojo.style(this.theDialog,"display","none");dojo.style(dojo.byId("keyword_suggestion_dialog"),"display","none");_5=dojo.byId("keywordsuggestions").innerHTML;a.setContent(_5);dojo.byId("keywordsuggestions").innerHTML=""}return true},setKeyword:function(){var c=document.forms.keyword_form.elements.keyword_suggest_select;var a;var b;a="";for(var b=1;b<c.length;b++){if(c.options[b].selected==true){a=c.options[b].text}}this.DojoSearchField.value=a;this.doSearch()},toggleSearchInputIn:function(){(this.value=="Enter Tattoo Keyword")?this.value="":null},toggleSearchInputOut:function(){(this.value=="")?this.value="Enter Tattoo Keyword":null},update:function(){var a=(dojo.byId("search_params"))?dojo.byId("search_params").innerHTML:false;if(a!=""){var c=dojo.fromJson(a)}if(c){var f=(c.cmap)?c.cmap:false;var d=(c.size)?c.size:false;var g=(c.adult)?c.adult:false;var k=(c.records)?c.records:false;var h=(c.artist)?c.artist:false;var l=(c.op)?c.op:false}else{var f=this.in_url("cmap");var d=this.in_url("size");var g=this.in_url("adult");var k=this.in_url("records");var h=this.in_url("artist");var l=false}var l=(dojo.byId("search_term")&&dojo.byId("search_term").innerHTML!="")?dojo.byId("search_term").innerHTML:l;if((l!=false)&&(l!="last")&&(l!="Artist")){this.DojoSearchField.value=l.replace("%20"," ")}if(k!=false){var b;switch(k){case"12":b=0;break;case"24":b=1;break;case"36":b=2;break;case"60":b=3;break;default:b=0;break}this.DojoRecordsField.options[b].selected=true}if(g!=false){if(g.match(/true/)){document.getElementById("adult_search").checked=true}}if(d!=false){if(!d.match(/small/)){document.getElementById("small").checked=false}if(!d.match(/medium/)){document.getElementById("medium").checked=false}if(!d.match(/large/)){document.getElementById("large").checked=false}}if(f!=false){if(!f.match(/bw/)){document.getElementById("bw").checked=false}if(!f.match(/color/)){document.getElementById("color").checked=false}}if(h!=false){for(i=1;i<this.artistSelect.options.length;i++){if(this.artistSelect.options[i].value==h.replace("%20"," ")){this.artistSelect.selectedIndex=i;break}}}},toggleDiv:function(a){if((!dojo.style(a,"display"))||(dojo.style(a,"display")=="none")){var b=dojo.fadeIn({node:a});dojo.connect(b,"beforeBegin",function(){dojo.style(a,"opacity",0);dojo.style(a,"display","block")});b.play()}else{var c=dojo.fadeOut({node:a});dojo.connect(c,"onEnd",function(){dojo.style(a,"opacity",0);dojo.style(a,"display","none")});c.play()}},in_url:function(d){var b=false;for(var c=0;c<this.SearchURL.length;c++){if(d==this.SearchURL[c]){b=this.SearchURL[c+1];break}}return b},doKeyPress:function(a){switch(a.charOrCode){case dojo.keys.ENTER:dojo.stopEvent(a);this.submitSearch(a);break}},showKeys:function(a){dojo.stopEvent(a);this.theDialog.show();dojo.style(this.theDialog,"display","block");dojo.style(dojo.byId("keyword_suggestion_dialog"),"display","block");dojo.connect(dojo.byId("keyword_suggest_submit"),"onclick",this,this.setSelectedKeyword)},setSelectedKeyword:function(a){dojo.stopEvent(a);this.DojoSearchField.value=dojo.byId("keyword_suggest_select").options[dojo.byId("keyword_suggest_select").selectedIndex].value;this.theDialog.hide();this.submitSearch(a)}})}if(!dojo._hasResource["dojo_widgets.search.CategorySearch"]){dojo._hasResource["dojo_widgets.search.CategorySearch"]=true;dojo.provide("dojo_widgets.search.CategorySearch");dojo.experimental("dojo_widgets.search.CategorySearch");dojo.declare("dojo_widgets.search.CategorySearch",[dijit._Widget],{artistStore:null,artistSelect:null,DojoSearchField:null,DojoSearchSubmit:null,DojoRecordsField:null,SearchURL:null,theDialog:null,postCreate:function(){this.inherited(arguments);this.DojoSearchField=dojo.byId("DojoSearchField");this.DojoSearchSubmit=dojo.byId("DojoSearchSubmit");this.DojoSearchField.value="Enter Tattoo Keyword";dojo.connect(this.DojoSearchField,"onfocus",null,this.toggleSearchInputIn);dojo.connect(this.DojoSearchField,"onblur",null,this.toggleSearchInputOut);dojo.connect(this.DojoSearchSubmit,"onclick",this,this.submitSearch);this.SearchURL=location.pathname.split("/")},startup:function(){this.inherited(arguments)},submitSearch:function(a){dojo.stopEvent(a);this.doSearch()},doSearch:function(){if(this.DojoSearchField.value=="Enter Tattoo Keyword"){window.location="/search/featured?result=false";return false}url="/search";if(this.DojoSearchField.value!="Enter Tattoo Keyword"){url=url+"/"+this.DojoSearchField.value}document.location.href=url;return false},toggleSearchInputIn:function(){(this.value=="Enter Tattoo Keyword")?this.value="":null},toggleSearchInputOut:function(){(this.value=="")?this.value="Enter Tattoo Keyword":null},update:function(){var l=(dojo.byId("search_term"))?dojo.byId("search_term").innerHTML:false;var a=(dojo.byId("search_params"))?dojo.byId("search_params").innerHTML:false;if(a!=""){var g=dojo.fromJson(a)}if(g){var f=(g.cmap)?g.cmap:false;var d=(g.size)?g.size:false;var c=(g.adult)?g.adult:false;var k=(g.records)?g.records:false;var h=(g.artist)?g.artist:false;var l=(g.op)?g.op:false}else{var f=this.in_url("cmap");var d=this.in_url("size");var c=this.in_url("adult");var k=this.in_url("records");var h=this.in_url("artist")}if((l!=false)&&(l!="last")&&(l!="Artist")){this.DojoSearchField.value=l.replace("%20"," ")}if(k!=false){var b;switch(k){case"12":b=0;break;case"24":b=1;break;case"36":b=2;break;case"60":b=3;break;default:b=0;break}this.DojoRecordsField.options[b].selected=true}if(c!=false){if(c.match(/true/)){document.getElementById("adult_search").checked=true}}if(d!=false){if(!d.match(/small/)){document.getElementById("small").checked=false}if(!d.match(/medium/)){document.getElementById("medium").checked=false}if(!d.match(/large/)){document.getElementById("large").checked=false}}if(f!=false){if(!f.match(/bw/)){document.getElementById("bw").checked=false}if(!f.match(/color/)){document.getElementById("color").checked=false}}if((h!=false)&&(h!=undefined)){for(i=1;i<this.artistSelect.options.length;i++){if(this.artistSelect.options[i].value==h.replace("%20"," ")){this.artistSelect.selectedIndex=i;break}}}},toggleDiv:function(a){if((!dojo.style(a,"display"))||(dojo.style(a,"display")=="none")){var b=dojo.fadeIn({node:a});dojo.connect(b,"beforeBegin",function(){dojo.style(a,"opacity",0);dojo.style(a,"display","block")});b.play()}else{var c=dojo.fadeOut({node:a});dojo.connect(c,"onEnd",function(){dojo.style(a,"opacity",0);dojo.style(a,"display","none")});c.play()}},in_url:function(d){var b=false;for(var c=0;c<this.SearchURL.length;c++){if(d==this.SearchURL[c]){b=this.SearchURL[c+1];break}}return b}})}if(!dojo._hasResource["dojo_widgets.layout.DynamicDialog"]){dojo._hasResource["dojo_widgets.layout.DynamicDialog"]=true;dojo.provide("dojo_widgets.layout.DynamicDialog");dojo.experimental("dojo_widgets.layout.DynamicDialog");dojo.declare("dojo_widgets.layout.DynamicDialog",[dijit._Widget,dijit._Templated],{widgetID:null,theId:null,title:null,theDialog:null,contentHref:null,button:null,loaded:false,templatePath:"/js/dojo/dojo_widgets/layout/resources/DynamicDialog.html",postCreate:function(){this.inherited(arguments);this.widgetID=this.id;this.theDialog=new dijit.Dialog({id:this.theId,title:this.title}),this.DojoBannerCanvas},startup:function(){this.inherited(arguments)},init:function(){var a=this.theDialog;dojo.xhrGet({url:this.contentHref,handle:function(c,b){if(typeof c=="error"){console.warn("error!",b)}else{a.setContent(c);dojo.parser.parse(a);this.loaded=true}}});return true},showBanner:function(a){this.theDialog.href=this.contentHref;this.theDialog.show()},hideBanner:function(a){alert("shnay")}})}if(!dojo._hasResource["dojo_widgets.layout.AutoPane"]){dojo._hasResource["dojo_widgets.layout.AutoPane"]=true;dojo.provide("dojo_widgets.layout.AutoPane");dojo.declare("dojo_widgets.layout.AutoPane",[dijit.layout.ContentPane],{pageSize:null,autoSize:true,autoSizeNodes:false,sizeOnLoad:false,onRefresh:false,onRefreshArgs:null,constructor:function(a){dojo.mixin(this,a)},_setContent:function(){this.inherited(arguments);if(this.autoSize){this._autoSize()}if(this.onRefresh!==false){this.onRefresh(this,this.onRefreshArgs)}},_autoSize:function(){var d=new Array();if(!this.autoSizeNodes){this.autoSizeNodes="> div"}var c=0;var b=0;dojo.query(this.autoSizeNodes,this.domNode).forEach(function(f){c+=(dojo.marginBox(f).h>0)?dojo.marginBox(f).h:0;if(f.style){f.style.border="1px solid transparent"}});var a=Math.max(dojo.marginBox(this.domNode).h,c+dojo._getPadExtents(this.domNode).h+dojo._getMarginExtents(this.domNode).h);dojo.marginBox(this.domNode,{h:a});this._setPageHeight()},_sizeOnLoad:function(){var b=(dojo.marginBox(this.domNode).h>0)?dojo.marginBox(this.domNode).h:0;var a=b+dojo._getPadExtents(this.domNode).h+dojo._getMarginExtents(this.domNode).h;if(this.titleBarNode){a+=dojo.marginBox(this.titleBarNode).h}dojo.marginBox(this.domNode,{h:a});this._setPageHeight()},_setPageHeight:function(){this._pollPageSize();dojo.style(dojo.byId("page"),"height",this.pageSize.h+"px")},_pollPageSize:function(){if(window.innerHeight&&window.scrollMaxY){yWithScroll=window.innerHeight+window.scrollMaxY;xWithScroll=window.innerWidth+window.scrollMaxX}else{if(document.body.scrollHeight>document.body.offsetHeight){yWithScroll=document.body.scrollHeight;xWithScroll=document.body.scrollWidth}else{yWithScroll=document.body.offsetHeight;xWithScroll=document.body.offsetWidth}}this.pageSize={w:xWithScroll,h:yWithScroll}},postCreate:function(){this.inherited(arguments);if(this.sizeOnLoad){this._sizeOnLoad()}}})}if(!dojo._hasResource["dojo_widgets.layout.HitchPane"]){dojo._hasResource["dojo_widgets.layout.HitchPane"]=true;dojo.provide("dojo_widgets.layout.HitchPane");dojo.experimental("dojo_widgets.layout.HitchPane");dojo.declare("dojo_widgets.layout.HitchPane",[dojox.layout.FloatingPane,dojo_widgets.layout.AutoPane,dijit._Templated],{closable:true,dockable:false,resizable:false,shadable:false,maxable:false,resizeAxis:"xy",doTitle:true,title:"",dockTo:"",duration:400,contentClass:"null",movable:true,_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,_canheight:0,templateString:null,templateString:'<div class="dojoxFloatingPane" id="${id}">\n\t<div tabindex="0" waiRole="button" class="dojoxFloatingPaneTitle" dojoAttachPoint="focusNode">\n\t\t<span dojoAttachPoint="closeNode" dojoAttachEvent="onclick: close" class="dojoxFloatingCloseIcon"></span>\n\t\t<span dojoAttachPoint="maxNode" dojoAttachEvent="onclick: maximize" class="dojoxFloatingMaximizeIcon">&thinsp;</span>\n\t\t<span dojoAttachPoint="restoreNode" dojoAttachEvent="onclick: _restore" class="dojoxFloatingRestoreIcon">&thinsp;</span>\t\n\t\t<span dojoAttachPoint="unshadeNode" dojoAttachEvent="onclick: _unwindowshade" class="dojoxFloatingMaximizeIcon">&thinsp;</span>\t\n\t\t<span dojoAttachPoint="dockNode" dojoAttachEvent="onclick: minimize" class="dojoxFloatingMinimizeIcon">&thinsp;</span>\n\t\t<span dojoAttachPoint="shadeNode" dojoAttachEvent="onclick: _windowshade" class="dojoxFloatingMinimizeIcon">&thinsp;</span>\n\t\t<span dojoAttachPoint="titleNode" class="dijitInline dijitTitleNode"></span>\n\t</div>\n\t<div dojoAttachPoint="canvas" class="dojoxFloatingPaneCanvas">\n\t\t<div dojoAttachPoint="containerNode" waiRole="region" tabindex="-1" class="${contentClass}">\n\t\t</div>\n\t\t<span dojoAttachPoint="resizeHandle" class="dojoxFloatingResizeHandle"></span>\n\t</div>\n</div>\n',postCreate:function(){if(this.doTitle){this.setTitle(this.title)}this.inherited(arguments);if(this.movable){var b=new dojo.dnd.Moveable(this.domNode,{handle:this.focusNode})}if(!this.dockable){this.dockNode.style.display="none"}if(!this.closable){this.closeNode.style.display="none"}if(!this.maxable){this.maxNode.style.display="none";this.restoreNode.style.display="none"}if(!this.resizable){this.resizeHandle.style.display="none"}else{var a=dojo.marginBox(this.domNode);this.domNode.style.width=a.w+"px"}if(this.movable){this._allFPs.push(this)}this.domNode.style.position="absolute"},startup:function(){if(this._started){return}if(!this.doTitle){this.focusNode.style.display="none";this.titleNode.style.display="none"}this.unshadeNode.style.display="none";if(!this.shadable){this.shadeNode.style.display="none"}this.inherited(arguments);if(this.resizable){if(dojo.isIE){this.canvas.style.overflow="auto"}else{this.containerNode.style.overflow="auto"}this._resizeHandle=new dojox.layout.ResizeHandle({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle)}if(this.dockable){var c=this.dockTo;if(this.dockTo){this.dockTo=dijit.byId(this.dockTo)}else{this.dockTo=dijit.byId("dojoxGlobalFloatingDock")}if(!this.dockTo){var b;var a;if(c){b=c;a=dojo.byId(c)}else{a=document.createElement("div");dojo.body().appendChild(a);dojo.addClass(a,"dojoxFloatingDockDefault");b="dojoxGlobalFloatingDock"}this.dockTo=new dojox.layout.Dock({id:b,autoPosition:"south"},a);this.dockTo.startup()}if((this.domNode.style.display=="none")||(this.domNode.style.visibility=="hidden")){this.minimize()}}if(this.movable){this.connect(this.focusNode,"onmousedown","bringToTop");this.connect(this.domNode,"onmousedown","bringToTop");this.resize(dojo.coords(this.domNode))}this._started=true},setHitch:function(_6,_7){eval(_6+"( this, href );")},_windowshade:function(){this.containerNode.style.display=this.canvas.style.display=this.shadeNode.style.display="none";this.unshadeNode.style.display="block";_canheight=this.domNode.style.height;this.domNode.style.height="24px"},_unwindowshade:function(){this.canvas.style.display=this.containerNode.style.display=this.shadeNode.style.display="block";this.unshadeNode.style.display="none";this.domNode.style.height=_canheight},close:function(){if(!this.closable){return}dojo.unsubscribe(this._listener);dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null)}this.doDestroy()})}).play()},doDestroy:function(a){this.domNode.innerHTML="";this.destroy()}})}if(!dojo._hasResource["dojo_widgets.layout.AutoTitlePane"]){dojo._hasResource["dojo_widgets.layout.AutoTitlePane"]=true;dojo.provide("dojo_widgets.layout.AutoTitlePane");dojo.declare("dojo_widgets.layout.AutoTitlePane",[dojo_widgets.layout.AutoPane,dijit._Templated],{boxheight:0,titleheight:0,title:"",open:true,duration:dijit.defaultDuration,baseClass:"dijitTitlePane",templateString:'<div dojoAttachPoint="baseNode" class="${baseClass}">\n\t<div dojoAttachEvent="onclick:toggle,onkeypress: _onTitleKey,onfocus:_handleFocus,onblur:_handleFocus" tabindex="0"\n\t\t\twaiRole="button" class="dijitTitlePaneTitle" dojoAttachPoint="titleBarNode,focusNode">\n\t\t<span dojoAttachPoint="arrowNode" class="dijitInline dijitArrowNode"><span dojoAttachPoint="arrowNodeInner" class="dijitArrowNodeInner"></span></span\n\t\t><span dojoAttachPoint="titleNode" class="dijitTitlePaneTextNode"></span>\n\t</div>\n\t<div class="dijitTitlePaneContentOuter" dojoAttachPoint="hideNode">\n\t\t<div class="dijitReset" dojoAttachPoint="wipeNode">\n\t\t\t<div class="dijitTitlePaneContentInner" dojoAttachPoint="containerNode" waiRole="region" tabindex="-1">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',attributeMap:dojo.mixin(dojo.clone(dijit.layout.ContentPane.prototype.attributeMap),{title:{node:"titleNode",type:"innerHTML"}}),constructor:function(a){dojo.mixin(this,a)},postCreate:function(){this.boxheight=dojo.marginBox(this.baseNode).h;this.titleheight=dojo.marginBox(this.focusNode).h;if(!this.open){this.hideNode.style.display=this.wipeNode.style.display="none"}this._setCss();dojo.setSelectable(this.titleNode,false);dijit.setWaiState(this.containerNode,"labelledby",this.titleNode.id);dijit.setWaiState(this.focusNode,"haspopup","true");var b=this.hideNode,a=this.wipeNode;this._wipeIn=dojo_widgets.layout.AutoTitlePane._wipeIn({node:this.wipeNode,duration:this.duration,height:{start:1,end:this.boxheight-this.titleheight},beforeBegin:function(){b.style.display=""}});this._wipeOut=dojo_widgets.layout.AutoTitlePane._wipeOut({node:this.wipeNode,duration:this.duration,height:{start:this.boxheight-this.titleheight,end:1},onEnd:function(){b.style.display="none"}});this.inherited(arguments);this._initSize()},_setContentAttr:function(a){if(!this.open||this._wipeOut.status()=="playing"){this.inherited(arguments)}else{if(this._wipeIn.status()=="playing"){this._wipeIn.stop()}dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h});this.inherited(arguments);this._wipeIn.play()}this._initSize()},toggle:function(){dojo.forEach([this._wipeIn,this._wipeOut],function(a){if(a.status()=="playing"){a.stop()}});this[this.open?"_wipeOut":"_wipeIn"].play();this.open=!this.open;this._loadCheck();this._setCss()},_setCss:function(){var c=["dijitClosed","dijitOpen"];var b=this.open;var a=this.titleBarNode||this.focusNode;dojo.removeClass(a,c[!b+0]);a.className+=" "+c[b+0];this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(a){if(a.charOrCode==dojo.keys.ENTER||a.charOrCode==" "){this.toggle()}else{if(a.charOrCode==dojo.keys.DOWN_ARROW&&this.open){this.containerNode.focus();a.preventDefault()}}},_initSize:function(){if(this.open){dojo.marginBox(this.wipeNode,{h:this.boxheight-this.titleheight-2})}},_handleFocus:function(a){dojo[(a.type=="focus"?"addClass":"removeClass")](this.focusNode,this.baseClass+"Focused")},setTitle:function(a){dojo.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use attr('title', ...) instead.","","2.0");this.titleNode.innerHTML=a}});dojo_widgets.layout.AutoTitlePane._wipeIn=function(b){b.node=dojo.byId(b.node);var a=b.node,c=a.style,d;var f=dojo.animateProperty(dojo.mixin({properties:{height:{start:function(){d=c.overflow;c.overflow="hidden";if(c.visibility=="hidden"||c.display=="none"){c.height=Math.max(b.height.start,1)+"px";c.display="";c.visibility="";return 1}else{return Math.max(b.height.start,1)}},end:function(){return b.height.end-2}}}},b));dojo.connect(f,"onEnd",function(){c.height=b.height.end-2;c.overflow=d});return f};dojo_widgets.layout.AutoTitlePane._wipeOut=function(f){var c=f.node=dojo.byId(f.node);var b=c.style;var d;var a=dojo.animateProperty(dojo.mixin({properties:{height:{end:Math.max(f.height.end,1)}}},f));dojo.connect(a,"beforeBegin",function(){d=b.overflow;b.overflow="hidden";b.display=""});dojo.connect(a,"onEnd",function(){b.overflow=d;b.height="auto";b.display="none"});return a}}if(!dojo._hasResource["dojo_widgets.product.ProductPromotion"]){dojo._hasResource["dojo_widgets.product.ProductPromotion"]=true;dojo.provide("dojo_widgets.product.ProductPromotion");dojo.experimental("dojo_widgets.product.ProductPromotion");dojo.declare("dojo_widgets.product.ProductPromotion",[dijit._Widget],{artistStore:null,artistSelect:null,DojoSearchField:null,DojoSearchSubmit:null,DojoRecordsField:null,SearchURL:null,theDialog:null,postCreate:function(){this.inherited(arguments);dojo.connect(dojo.byId("promotionadd"),"onclick",this,this.selectPromotion);this.productURL=location.pathname.split("/");dojo.connect(dijit.byId("product_promotions_contentPane"),"onload",this,"connectDelete");this.init()},init:function(){this.theDialog=new dijit.Dialog({id:"promotion_add",title:"Product Promotions"}),dojo.byId("promotion_add_dialog");return true},selectPromotion:function(b){var a=this;dojo.xhrGet({url:"/services/PromotionAdmin/"+this.productURL[3],handle:function(d,c){if(typeof d=="error"){console.warn("error!",c)}else{dojo.connect(dojo.byId("PromotionAdmin"),"onsubmit",a,a.formSubmit);a.theDialog.setContent(d)}}});this.theDialog.show()},formSubmit:function(c){var b=this;c.preventDefault();var a=dojo.xhrPost({form:"PromotionAdmin",handleAs:"text",handle:function(f,d){if(typeof f=="error"){console.warn("error!",d)}else{b.theDialog.setContent(f);b.refreshPane()}}})},connectDelete:function(){var a=this;dojo.query(".column_Delete a").forEach(function(b,c){dojo.connect(b,"onclick",a,"doDelete")})},doDelete:function(a){dojo.stopEvent(a);hitURL("/services/ProductAdmin/delete/"+a.target.getAttribute("url"));this.refreshPane()},refreshPane:function(){dijit.byId("product_promotions_contentPane").setHref("/services/ProductAdmin/"+this.productURL[3]);this.connectDelete()}})}dojo.provide("dojo.nls.tattoojohnny_en");dojo.provide("dijit.nls.loading");dijit.nls.loading._built=true;dojo.provide("dijit.nls.loading.en");dijit.nls.loading.en={loadingState:"Loading...",errorState:"Sorry, an error occurred"};dojo.provide("dijit.form.nls.validate");dijit.form.nls.validate._built=true;dojo.provide("dijit.form.nls.validate.en");dijit.form.nls.validate.en={rangeMessage:"This value is out of range.",invalidMessage:"The value entered is not valid.",missingMessage:"This value is required."};dojo.provide("dijit.form.nls.ComboBox");dijit.form.nls.ComboBox._built=true;dojo.provide("dijit.form.nls.ComboBox.en");dijit.form.nls.ComboBox.en={previousMessage:"Previous choices",nextMessage:"More choices"};dojo.provide("dijit.nls.common");dijit.nls.common._built=true;dojo.provide("dijit.nls.common.en");dijit.nls.common.en={buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"};dojo.provide("dijit.nls.common");dijit.nls.common._built=true;dojo.provide("dijit.nls.common.en");dijit.nls.common.en={buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"};dojo.provide("dijit.nls.common");dijit.nls.common._built=true;dojo.provide("dijit.nls.common.en");dijit.nls.common.en={buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"};var share=false;dojo.require("dojo_widgets.layout.AutoTitlePane");dojo.require("dojo_widgets.layout.AutoPane");dojo.require("dojo_widgets.layout.HitchPane");dojo.require("dijit.form.FilteringSelect");dojo.require("dijit.form.ComboBox");dojo.require("dojox.data.dom");dojo.require("dijit.form.DateTextBox");dojo.require("dojo_widgets.product.ProductPromotion");dojo.registerModulePath("dojo_widgets","/js/dojo/dojo_widgets");dojo.registerModulePath("dojo","/js/dojo/dojo");dojo.registerModulePath("dijit","/js/dojo/dijit");dojo.registerModulePath("dojox","/js/dojo/dojox");dojo.require("dojo.parser");dojo.require("dijit.layout.ContentPane");dojo.require("dijit.layout.AccordionContainer");dojo.require("dojox.fx.easing");dojo.require("dojox.fx.scroll");dojo.require("dojo.data.ItemFileReadStore");dojo.require("dijit.Tooltip");dojo.require("dojo_widgets.checkout.Cart");dojo.addOnLoad(function(){dojo.parser.parse();fillJSONContainer(document)});if(!window._ate){var _atd="www.addthis.com/",_atr="//s7.addthis.com/",_euc=encodeURIComponent,_duc=decodeURIComponent,_atu="undefined",_atc={dr:0,ver:250,loc:0,enote:"",cwait:500,tamp:0.2,samp:0.01,camp:1,vamp:1,addr:-1,addt:1,xfl:!!window.addthis_disable_flash,abf:!!window.addthis_do_ab};(function(){try{var I=window.location;if(I.protocol.indexOf("file")===0){_atr="http:"+_atr}if(I.hostname.indexOf("localhost")!=-1){_atc.loc=1}}catch(N){}var L=navigator.userAgent.toLowerCase(),O=document,u=window,t=u.addEventListener,h=u.attachEvent,J=O.location,Q={win:/windows/.test(L),chr:/chrome/.test(L),iph:/iphone/.test(L),saf:/safari/.test(L),web:/webkit/.test(L),opr:/opera/.test(L),msi:(/msie/.test(L))&&!(/opera/.test(L)),ffx:/firefox/.test(L),ff2:/firefox\/2/.test(L),ie6:/msie 6.0/.test(L),ie7:/msie 7.0/.test(L),mod:-1},g={isBound:false,isReady:false,readyList:window.addthis_onload||[],onReady:function(){if(!g.isReady){g.isReady=true;var a=g.readyList;for(var b=0;b<a.length;b++){a[b].call(window)}g.readyList=[]}},addLoad:function(b){var a=u.onload;if(typeof u.onload!="function"){u.onload=b}else{u.onload=function(){if(a){a()}b()}}},bindReady:function(){if(D.isBound){return}D.isBound=true;if(O.addEventListener&&!Q.opr){O.addEventListener("DOMContentLoaded",D.onReady,false)}var a=window.addthis_product;if(a&&a.indexOf("f")>-1){D.onReady();return}if(Q.msi&&window==top){(function(){if(D.isReady){return}try{O.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}D.onReady()})()}if(Q.opr){O.addEventListener("DOMContentLoaded",function(){if(D.isReady){return}for(var c=0;c<O.styleSheets.length;c++){if(O.styleSheets[c].disabled){setTimeout(arguments.callee,0);return}}D.onReady()},false)}if(Q.saf){var b;(function(){if(D.isReady){return}if(O.readyState!="loaded"&&O.readyState!="complete"){setTimeout(arguments.callee,0);return}if(b===undefined){var l=O.gn("link");for(var c=0;c<l.length;c++){if(l[c].getAttribute("rel")=="stylesheet"){b++}}var d=O.gn("style");b+=d.length}if(O.styleSheets.length!=b){setTimeout(arguments.callee,0);return}D.onReady()})()}D.addLoad(D.onReady)},append:function(b,a){D.bindReady();if(D.isReady){b.call(window,[])}else{D.readyList.push(function(){return b.call(window,[])})}}},D=g,f=function(r,p,q,d){if(!r){return q}if(r instanceof Array){for(var l=0,b=r.length,c=r[0];l<b;c=r[++l]){q=p.call(d||r,q,c,l,r)}}else{for(var a in r){q=p.call(d||r,q,r[a],a,r)}}return q},C=Array.prototype.slice,A=function(b){return C.apply(b,C.call(arguments,1))},z=function(a){return a.replace(/(^\s+|\s+$)/g,"")},o=function(b,a){return f(b,function(l,d,c){c=z(c);if(c){l.push(_euc(c)+"="+_euc(z(d)))}return l},[]).join(a||"&")},v=function(b,a){return f((b||"").split(a||"&"),function(q,l){var p=l.split("="),d=z(_duc(p[0])),c=z(_duc(p.slice(1).join("=")));if(d){q[d]=c}return q},{})},M={vst:[],rev:"$Rev: 70591 $",bro:Q,clck:1,show:1,dl:J,camp:_atc.camp-Math.random(),samp:_atc.samp-Math.random(),vamp:_atc.vamp-Math.random(),tamp:_atc.tamp-Math.random(),ab:"-",scnt:1,seq:1,inst:1,wait:500,tmo:null,cvt:[],svt:[],sttm:new Date().getTime(),max:268435455,pix:"tev",sid:0,sub:!!window.at_sub,uid:null,oot:null,swf:"//bin.clearspring.com/at/v/1/button1.6.swf",evu:"//e1.clearspring.com/at/",spt:"static/r07/widget09.png",ifpp:null,com:function(a){if(window.parent&&window.postMessage){window.parent.postMessage(a,"*")}else{M.ifm(a)}},ifwn:function(){var b=M;try{b.rec(b.sifr.contentWindow.name)}catch(c){}},ifm:function(b){if(addthis_wpl){var c=(addthis_wpl.split("#"))[0];window.parent.location.href=c+"#at"+b}return false},hash:window.location.hash,ifp:function(){var c=M,b=window.location.hash,q=0;if(b&&b.indexOf("#at")>-1){b=b.substr(3).split(";");for(var l in b){var d=b[l].length>3?b[l].substr(0,3):null;switch(d){case"ssh":q=1;c.ssh(b[l].substr(4));break;case"uid":q=1;c.asetup(b[l].substr(4));break}}if(q){if(!c.hash.length||c.hash==""){c.hash="#"}window.location.hash=c.hash}}if(c.gssh&&c.guid){clearInterval(c.ifpp)}},pmh:function(a){if(a.origin.slice(-12)==".addthis.com"){M.rec(a.data)}},rec:function(l){if(!l){return}var d=v(l),b=M,c=b.sifr;if(d.ssh){b.ssh(d.ssh)}if(d.uid){b.asetup(d.uid)}if(c&&c.parentNode){c.parentNode.removeChild(c);b.sifr=null}},ssh:function(a){M.gssh=1;window.addthis_ssh=_duc(a)},mun:function(c){var a=291;if(c){for(var b=0;b<c.length;b++){a=(a*(c.charCodeAt(b)+b)+3)&1048575}}return(a&16777215).toString(32)},ibt:function(){if(M.bti){return M.bti}var b=(window.addthis_product||"men").substr(0,3),a=b=="bkm"||b=="fct"||b=="fxe";if(a){M.bti=a}return a},off:function(){return Math.floor((new Date().getTime()-M.sttm)/100).toString(16)},ran:function(){return Math.floor(Math.random()*4294967295).toString(36)},srd:function(){if(M.dr){return"&pre="+_euc(M.dr)}else{return""}},cst:function(a){return"CXNID=2000001.521545608054043907"+(a||2)+"NXC"},imgz:[],hrr:function(c){if(c&&c.urls&&c.urls instanceof Array){for(var b=0;b<c.urls.length;b++){var a=new Image();M.imgz.push(a);a.src=c.urls[b]}}},img:function(p,r){if(!window.at_sub&&!_atc.xtr){var d=M,q=d.dr,b=((d.rev||"").split(" "));if(q){q=(q.split("?")).shift();q=(q.split("http://")).pop();if(q.length>25){q=q.substr(0,25)}}var l=new Image();d.imgz.push(l);l.src=_atr+"live/t00/"+p+".gif?"+(d.uid!==null?"uid="+d.uid+"&":"")+d.ran()+"&"+d.cst(r)+(d.pub()?"&pub="+d.pub():"")+(q?"&dr="+_euc(q):"")+(b.length>1?"&rev="+b[1]:"")}},cuid:function(){return(M.sttm&M.max).toString(16)+(Math.floor(Math.random()*M.max)).toString(16)},ssid:function(){if(M.sid===0){M.sid=M.cuid()}return M.sid},sev:function(b,a){M.pix="sev-"+(typeof(b)!=="number"?_euc(b):b);M.svt.push(b+";"+M.off());if(a===1){M.xmi(true)}else{M.sxm(true)}},cev:function(b,a){M.pix="cev-"+_euc(b);M.cvt.push(_euc(b)+"="+_euc(a)+";"+M.off());M.sxm(true)},sxm:function(a){if(M.tmo!==null){clearTimeout(M.tmo)}if(a){M.tmo=M.sto("_ate.xmi(false)",M.wait)}},sto:function(b,a){return setTimeout(b,a)},sta:function(){var b=M;return"AT-"+(b.pub()?b.pub():"unknown")+"/-/"+b.ab+"/"+b.ssid()+"/"+(b.seq++)+(b.uid!==null?"/"+b.uid:"")},xred:function(){var r=window,q=M,s=0,d=O.referer||O.referrer||"",b=J?J.href:null,p=0;if(q.camp>=0&&b&&J&&J.protocol&&(d.indexOf(".com")>-1)&&(J.protocol.indexOf("https")==-1)){if(d&&d.match(/ws\/results\/(Web|Images|Video|News)/)){p=1}else{if(d.indexOf(".com/search")>-1){var x=d.split("?").pop().split("&");for(var l=0;l<x.length;l++){if(x[l].indexOf("q=")===0||x[l].indexOf("p=")===0||x[l].indexOf("query")===0||x[l].indexOf("qry")===0||x[l].indexOf("text")===0){p=1;break}}}}if(!_atc.xtr&&!_atc.xck&&p&&q.mun(q.pub())!=="mu2r"){var c=O.ce("script");c.src="//cf.addthis.com/red/p.json?callback=_ate.hrr"+(q.pub()?"&pub="+q.pub():"")+(q.uid&&q.uid!=="anonymous"?"&uid="+_euc(q.uid):"")+"&url="+_euc(b)+"&ref="+_euc((O.referer||O.referrer));O.gn("head")[0].appendChild(c)}}},xld:function(){var b=M;if(!b.xld_p){b.xld_p=1;if(b.samp>=0&&!b.sub){b.sev("20");b.cev("plo",Math.round(1/_atc.samp));if(b.dr){b.cev("pre",b.dr)}}b.xred();b.img(_atc.ver+"lo","2")}},xmi:function(r){var b=M,q=b.dl?b.dl.hostname:"";if(!b.uid){b.dck("X"+b.cuid())}else{b.coo()}if(b.cvt.length+b.svt.length>0){b.sxm(false);if(b.seq===1){b.cev("pin",b.inst)}if(_atc.xtr){return}if(q.indexOf(".gov")>-1||q.indexOf(".mil")>-1){_atc.xck=1}var w=b.pix+"-"+b.ran()+".png?ev="+M.sta()+"&se="+b.svt.join(",")+"&ce="+b.cvt.join(",")+(_atc.xck?"&xck=1":""),l=b.evu+w;b.cvt=[];b.svt=[];if(r){var s=document,p=s.ce("iframe");p.id="_atf";p.src=l;M.opp(p.style);s.body.appendChild(p);p=s.getElementById("_atf")}else{var c=new Image();b.imgz.push(c);c.src=l}}},loc:function(){return _atc.loc},opp:function(a){a.width=a.height="1px";a.position="absolute";a.zIndex=100000},pub:function(){return window.addthis_config&&addthis_config.username?_euc(addthis_config.username):(window.addthis_pub||"")},plo:[],lad:function(a){M.plo.push(a)},lng:function(a){var b=document;if(a&&(a.toLowerCase()).indexOf("en")!==0&&!M.pll){M.pll=M.ajs("static/r07/lang01.js")}},ajs:function(a){var b=O.ce("script");b.src=_atr+a;O.gn("head")[0].appendChild(b);return b},jlo:function(){try{var q=document,b=M,p=(window.addthis_language||addthis_config.ui_language||(b.bro.msi?navigator.userLanguage:navigator.language));b.lng(p);if(!b.pld){if(b.bro.ie6){var c=new Image();b.imgz.push(c);c.src=_atr+b.spt;if(window.addthis_feed){c=new Image();b.imgz.push(c);c.src=_atr+"static/r05/feed00.gif"}}b.pld=b.ajs("static/r07/menu37.js")}}catch(l){}},igv:function(a,b){if(!u.addthis_share){u.addthis_share={url:u.addthis_url||a,title:u.addthis_title||b}}if(!u.addthis_config){u.addthis_config={username:u.addthis_pub}}else{if(addthis_config.data_use_flash===false){_atc.xfl=1}if(addthis_config.data_use_cookies===false){_atc.xck=1}}},lod:function(p){try{var U=window,aj=M,c=aj.bro.msi,b=0,Y=O.referer||O.referrer||"",X=J?J.href:null,af=J.hostname,ai=X?X.indexOf("sms_ss"):-1,ag=((p===1||U.addthis_load_flash)&&!_atc.abf),ab=((U.addthis_language||(U.addthis_config?U.addthis_config.ui_language:null)||(aj.bro.msi?navigator.userLanguage:navigator.language)).split("-")).shift(),q,d,ac=O.gn("link"),r,S=_atr+"static/r07/sh09.html",x="//"+af+"/favicon.ico",s="_ate.ifwn()",r;if(!U.postMessage){var W=O.gn("img");for(var ad=0;ad<W.length;ad++){if(W[ad].src.split("//").pop().indexOf(af)==0){x=W[ad].src;break}}}if(!_atc.xic||(U.postMessage||aj.bro.msi)){if(!c){r=O.ce("iframe")}else{var V=O.ce("div");V.style.visibility="hidden";aj.opp(V.style);O.body.insertBefore(V,O.body.firstChild);V.innerHTML='<iframe id="_atssh" width="1" height="1" name="_atssh" '+(!U.postMessage?'onload="'+s+'" ':"")+">";r=O.getElementById("_atssh")}}for(var ad=0;ad<ac.length;ad++){var aa=ac[ad];if(aa.rel&&aa.rel=="canonical"&&aa.href){X=aa.href}}aj.igv(X,O.title||"");aj.gov();aj.dr=Y;aj.ab=(!ab||ab=="en")&&(aj.bro.ffx||aj.bro.msi)&&!aj.ibt()?"ps-"+(window.addthis_ab!==undefined?addthis_ab:(aj.tamp>0?Math.min(4,Math.floor(Math.random()*4+1)):0)):"~";var T=(aj.swf&&!_atc.xfl&&!(aj.loc())&&!_atc.abf&&(ag||aj.uid===null||(aj.uid!=="anonymous"&&aj.oot&&((new Date()).getTime()-aj.oot>60480000))));S+="#swfp="+(T&&c?1:0);if(!c&&T){var y=function(l,ak,a){var w=O.ce("param");w.name=ak;w.value=a;l.appendChild(w)},V=O.ce("div"),Z=O.ce("object");Z.id="atff";Z.data=aj.swf;Z.width=Z.height="1px";Z.quality="high";Z.type="application/x-shockwave-flash";y(Z,"wmode","transparent");y(Z,"allowScriptAccess","always");V.appendChild(Z);O.body.insertBefore(V,O.body.firstChild)}if(J.href.indexOf(_atr)==-1&&r){r.id="_atssh";aj.opp(r.style);r.width=r.height=1;r.frameborder=r.style.border=0;r.style.top=r.style.left=0;if(U.postMessage){r.src=S;if(c){U.attachEvent("onmessage",aj.pmh)}else{U.addEventListener("message",aj.pmh,false)}r=O.body.appendChild(r)}else{if(false&&!_atc.xic&&aj.bro.msi&&window==top){r.onload=s;r.src=x;r=O.body.appendChild(r);r.src=S+"&wpl="+_euc(x)}}aj.sifr=r}if(!ag){if(T){aj.uoo();if(aj.bro.ie6||aj.bro.ie7){aj.sto("if (_ate.xld) _ate.xld()",5000)}else{aj.sto("_ate.xld()",5000)}}else{aj.guid=1;aj.xld()}if(ai>-1&&X.indexOf(_atd+"book")==-1){var ae=X.substr(ai);ae=ae.split("&").shift().split("#").shift().split("=").pop();if(aj.vamp>=0&&!aj.sub&&ae.length){aj.cev("plv",Math.round(1/_atc.vamp));aj.cev("rsc",ae)}}}if(aj.plo.length>0){aj.jlo()}}catch(ah){}},kck:function(a){var b=document;if(b.cookie){b.cookie=a+"= ; expires=Tue, 31 Mar 2009 05:47:11 UTC; path=/"}},rck:function(l){var q=document;if(q.cookie){var b=q.cookie.split(";");for(var p=0;p<b.length;p++){var r=b[p],a=r.indexOf(l+"=");if(a>=0){return r.substring(a+(l.length+1))}}}return},uoo:function(){M.sck("_csoot",(new Date().getTime()))},coo:function(a){if(M.uid=="anonymous"&&!M.oot){M.xck=1;M.uoo()}},dck:function(a){M.uid=a;M.sck("_csuid",a);M.coo()},gov:function(){var b=M.dl?M.dl.hostname:"";if(b.indexOf(".gov")>-1||b.indexOf(".mil")>-1){_atc.xck=1;_atc.xfl=1}var c=M.pub(),a=["usarmymedia","govdelivery"];for(K in a){if(c==a[K]){_atc.xck=1;_atc.xfl=1;break}}},sck:function(b,a,c){M.gov();if(!_atc.xck){O.cookie=b+"="+a+(!c?"; expires=Wed, 04 Oct 2028 03:19:53 GMT":"")+"; path=/"}},asetup:function(b){var c=M;try{if(!c.guid){c.guid=1;if(b!==null&&b!==_atu){c.dck(b)}c.xld()}}catch(d){}return b},ao:function(d,c,b,a,p,l){M.lad(["open",d,c,b,a,p,l]);M.jlo();return false},ac:function(){},as:function(b,c,a){M.lad(["send",b,c,a]);M.jlo()}},R=M;u._ate=R;u._adr=D;O.ce=O.createElement;O.gn=O.getElementsByTagName;D.bindReady();if(!_atc.ost){if(!u.addthis_conf){u.addthis_conf={}}for(var K in addthis_conf){_atc[K]=addthis_conf[K]}_atc.ost=1}D.append(R.lod);if(O.cookie){var m=O.cookie.split(";");for(var K=0;K<m.length;K++){var P=m[K],n=P.indexOf("_csuid="),k=P.indexOf("_csoot=");if(n>=0){M.uid=P.substring(n+7)}else{if(k>=0){M.oot=P.substring(k+7)}}}}try{var I=O.ce("link");I.rel="stylesheet";I.type="text/css";I.href=_atr+"static/r07/widget21.css";I.media="all";O.gn("head")[0].appendChild(I)}catch(N){}var H=O.gn("script"),B=H[H.length-1],E=B.src.indexOf("#")>-1?B.src.replace(/^[^\#]+\#?/,""):B.src.replace(/^[^\?]+\??/,""),F=v(E);if(F.pub){u.addthis_pub=_duc(F.pub)}else{if(F.username){u.addthis_pub=_duc(F.username)}}if(u.addthis_pub&&u.addthis_config){u.addthis_config.username=u.addthis_pub}if(F.domready){_atc.dr=1}try{if(_atc.ver===120){var G="atb"+u._ate.cuid();O.write('<span id="'+G+'"></span>');u._ate.igv();u._ate.lad(["span",G,addthis_share.url||"[url]",addthis_share.title||"[title]"])}if(u.addthis_clickout){M.lad(["cout"])}}catch(N){}})();function addthis_open(d,c,b,g,a,f){if(typeof a=="string"){a=null}return _ate.ao(d,c,b,g,a,f)}function addthis_close(){_ate.ac()}function addthis_sendto(b,c,a){_ate.as(b,c,a);return false}if(_atc.dr){_adr.onReady()}}else{_ate.inst++}if(_atc.abf){addthis_open(document.getElementById("ab"),"emailab",window.addthis_url||"[URL]",window.addthis_title||"[TITLE]")}if(!window.addthis||window.addthis.nodeType!==undefined){window.addthis={ost:0,cache:{},plo:[],links:[],ems:[],button:function(){this.plo.push({call:"button",args:arguments})},toolbox:function(){this.plo.push({call:"toolbox",args:arguments})},update:function(){this.plo.push({call:"update",args:arguments})}}}_adr.append((function(){if(!window.addthis.ost){var d=document,u=undefined,w=window,_4={},_5=w.addthis_config,_6=w.addthis_share,_7={},_8={},_9=d.gn("body").item(0),_a=function(o,n){if(n&&o!==n){for(var k in n){if(o[k]===u){o[k]=n[k]}}}},_e=function(o,n){var r={};for(var k in o){if(n[k]){r[k]=n[k]}else{r[k]=o[k]}}return r},_13=window.addthis,_14=function(_15){return"mailto:?subject="+(_15.title?_15.title:"%20")+"&body="+(_15.title?_15.title+"%0D%0A":"")+(_15.url)+"%0D%0A%0D%0AShared via AddThis.com"},_16=function(_17,tag,_19,_1a,_1b){tag=tag.toUpperCase();var els=(_17==_9&&_13.cache[tag]?_13.cache[tag]:(_17||_9).getElementsByTagName(tag)),rv=[],i,o;if(_17==_9){_13.cache[tag]=els}if(_1b){for(i=0;i<els.length;i++){o=els[i];if(o.className.indexOf(_19)>-1){rv.push(o)}}}else{_19=_19.replace(/\-/g,"\\-");var rx=new RegExp("(^|\\s)"+_19+(_1a?"\\w*":"")+"(\\s|$)");for(i=0;i<els.length;i++){o=els[i];if(rx.test(o.className)){rv.push(o)}}}return(rv)},_21={aim:"AIM",kirtsy:"kIRTSY",linkagogo:"Link-a-Gogo",meneame:"Men&eacute;ame",misterwong:"Mister Wong",myaol:"myAOL",myspace:"MySpace",yahoobkm:"Y! Bookmarks",typepad:"TypePad",wordpress:"WordPress"},_22={email:"Email",print:"Print",favorites:"Save to Favorites",twitter:"Tweet This",digg:"Digg This"},_23={services_custom:1},_24={more:1,email:1},_25={email:1,print:1,more:1,favorites:1},_26=["username","services_custom","services_custom_name","services_custom_url","services_custom_title","services_exclude","services_compact","services_expanded","ui_click","ui_hide_embed","ui_delay","ui_hover_direction","ui_language","ui_offset_top","ui_offset_left","ui_header_color","ui_header_background","ui_use_embeddable_services_beta","ui_icons","ui_cobrand","data_use_flash","data_use_cookies","data_track_linkback"],_27=["url","title","swfurl","width","height","html","screenshot","author","templates","email_template","email_vars","description","content"],_28=d.getElementsByClassname||_16,_29=function(_2a,_2b){var sv=_2a.services instanceof Array?_2a.services[0]:_2a.services||"";return"http://"+_atd+"bookmark.php?v="+_atc.ver+"&pub="+_euc(_ate.pub())+"&s="+sv+(_2b.url?"&url="+_euc(_2b.url):"")+(_2b.title?"&title="+_euc(_2b.title):"")},_2d=function(_2e){if(typeof _2e=="string"){var c=_2e.substr(0,1);if(c=="#"){_2e=d.getElementById(_2e.substr(1))}else{if(c=="."){_2e=_28(_9,"*",_2e.substr(1))}else{}}}if(!(_2e instanceof Array)){_2e=[_2e]}return _2e},_30=function(el,_32,_33,_34){var rv={};_33=_33||{};for(var i=0;i<_32.length;i++){if(_33[_32[i]]&&!_34){rv[_32[i]]=_33[_32[i]]}else{if(el){var p="addthis:"+_32[i],v=el.getAttribute?el.getAttribute(p)||el[p]:el[p];if(v){rv[_32[i]]=v}else{if(_33[_32[i]]){rv[_32[i]]=_33[_32[i]]}}if(rv[_32[i]]==="true"){rv[_32[i]]=true}else{if(rv[_32[i]]==="false"){rv[_32[i]]=false}}}}if(rv[_32[i]]!==undefined&&_23[_32[i]]&&(typeof rv[_32[i]]=="string")){eval("var e = "+rv[_32[i]]);rv[_32[i]]=e}}return rv},_39=function(_3a){var acs=(_3a||{}).services_custom;if(!acs){return}if(!(acs instanceof Array)){acs=[acs]}for(var i=0;i<acs.length;i++){var _3d=acs[i];if(_3d.name&&_3d.icon&&_3d.url){_3d.code=_3d.url=_3d.url.replace(/ /g,"");if(_3d.code.indexOf("http")===0){_3d.code=_3d.code.substr((_3d.code.indexOf("https")===0?8:7))}_3d.code=_3d.code.split("?").shift().split("/").shift().toLowerCase();_4[_3d.code]=_3d}}},_3e=function(ss,_40){return _4[ss]||{}},_41=function(el,_43,_44,_45){var rv={conf:_43||{},share:_44||{}};rv.conf=_30(el,_26,_43,_45);rv.share=_30(el,_27,_44,_45);return rv},_47=function(_48,_49,_4a){if(_48){_49=_49||{};_4a=_4a||{};var _4b=_49.conf||_5,_4c=_49.share||_6;var _4d=_4a.onmouseover,_4e=_4a.onmouseout,_4f=_4a.onclick,_50=_4a.internal,ss=_4a.singleservice;if(ss){_4b.product="tbx-"+_atc.ver;if(_4f===u){_4f=_24[ss]?function(el,_53,_54){var s=_e(_54,_8);return addthis_open(el,ss,s.url,s.title,_e(_53,_7),s)}:_25[ss]?function(el,_57,_58){var s=_e(_58,_8);return addthis_sendto(ss,_e(_57,_7),s)}:null}}else{if(!_4a.noevents){if(!_4a.nohover&&(!_4b||!_4b.ui_click)){if(_4d===u){_4d=function(el,_5b,_5c){return addthis_open(el,"",null,null,_5b,_5c)}}if(_4e===u){_4e=function(el){return addthis_close()}}if(_4f===u){_4f=function(el,_5f,_60){return addthis_sendto("more",_5f,_60)}}}else{if(!_4b||!_4b.ui_click){if(_4f===u){_4f=function(el,_62,_63){return addthis_open(el,"more")}}}else{if(_4f===u){_4f=function(el,_65,_66){return addthis_open(el,"",null,null,_65,_66)}}}}}}_48=_2d(_48);for(var i=0;i<_48.length;i++){var o=_48[i],_69=_41(o,_4b,_4c,true)||{};_a(_69.conf,_5);_a(_69.share,_6);o.conf=_69.conf;o.share=_69.share;if(o.conf.ui_language){_ate.lng(o.conf.ui_language)}_39(o.conf);if(_4d){o.onmouseover=function(){return _4d(this,this.conf,this.share)}}if(_4e){o.onmouseout=function(){return _4e(this)}}if(_4f){o.onclick=function(){return _4f(this,this.conf,this.share)}}if(o.tagName.toLowerCase()=="a"){if(ss){var _6a=_3e(ss,o.conf);o.conf.product="tbx-"+_atc.ver;if(_6a&&_6a.code&&_6a.icon){if(o.firstChild&&o.firstChild.className.indexOf("at300bs")>-1){o.firstChild.style.background="url("+_6a.icon+") no-repeat top left"}}if((_ate.bro.ffx||_ate.bro.saf||_ate.bro.chr||_ate.bro.iph)&&!_25[ss]){var _6b=o.share.templates&&o.share.templates[ss]?o.share.templates[ss]:"";o.href="//"+_atd+"bookmark.php?pub="+_euc(addthis_config.username||o.conf.username||_ate.pub())+"&v="+_atc.ver+"&source=tbx-"+_atc.ver+"&s="+ss+"&url="+_euc(_69.share.url||addthis_share.url||"")+"&title="+_euc(_69.share.title||addthis_share.title||"")+"&content="+_euc(_69.share.content||addthis_share.content||"")+(_6b?"&template="+_euc(_6b):"")+(o.conf.data_track_linkback?"&sms_ss=1":"")+(_6a&&_6a.url?"&acn="+_euc(_6a.name)+"&acc="+_euc(_6a.code)+"&acu="+_euc(_6a.url):"");o.target="_blank";_13.links.push(o)}else{if(!_25[ss]){o.onclick=function(){return addthis_sendto.call(this,ss,_e(this.conf,_7),_e(this.share,_8))}}else{if(ss=="email"&&(o.conf.ui_use_mailto||_ate.bro.iph)){o.href=_14(o.share);o.onclick=null;_13.ems.push(o)}}}if(!o.title){o.title=_22[ss]?_22[ss]:"Send to "+(_21[ss]?_21[ss]:ss.substr(0,1).toUpperCase()+ss.substr(1))}}}if(_50){var app=_50;if(!o.hasChildNodes()){if(_50=="img"){var img=d.ce("img");img.width=125;img.height=16;img.border=0;img.alt="Share";img.src="//s7.addthis.com/static/btn/v2/lg-share-en.gif";app=img}o.appendChild(app)}}}}},_6e=_16(_9,"A","addthis_button_",true,true),_6f=function(_70,_71,_72,_73){for(var i=0;i<_70.length;i++){var b=_70[i];if(b==null){continue}if(_73!==false||!b.ost){var _71=_71||_5,_72=_72||_6,_76=_41(b,_71,_72,true),hc=0,a="at300",c=b.className||"",s=c.match(/addthis_button_([\w\.]+)(?:\s|$)/),_7b=u,sv=s&&s.length?s[1]:0;if(sv){if(!b.childNodes.length){var sp=d.ce("span");b.appendChild(sp);sp.className=a+"bs at15t_"+sv}else{if(b.childNodes.length==1){var cn=b.childNodes[0];if(cn.nodeType==3){var sp=d.ce("span"),tv=cn.nodeValue;b.insertBefore(sp,cn);sp.className=a+"bs at15t_"+sv}}else{hc=1}}if(sv==="compact"){if(!hc&&c.indexOf(a)==-1){b.className+=" "+a+"m"}}else{if(sv==="expanded"){if(!hc&&c.indexOf(a)==-1){b.className+=" "+a+"m"}_7b={nohover:true}}else{if(!hc&&c.indexOf(a)==-1){b.className+=" "+a+"b"}_7b={singleservice:sv}}}_47([b],_76,_7b);b.ost=1}}}};_13.update=function(_80,_81,_82){if(_80=="share"){if(!window.addthis_share){window.addthis_share={}}window.addthis_share[_81]=_82;_8[_81]=_82;for(var i in _13.links){var o=_13.links[i],rx=new RegExp("&"+_81+"=(.*)&"),ns="&"+_81+"="+_euc(_82)+"&";o.href=o.href.replace(rx,ns);if(o.href.indexOf(_81)==-1){o.href+=ns}}for(var i in _13.ems){var o=_13.ems[i];o.href=_14(addthis_share)}}else{if(_80=="config"){if(!window.addthis_config){window.addthis_config={}}window.addthis_config[_81]=_82;_7[_81]=_82}}};_13.button=function(_87,_88,_89){_47(_87,{conf:_88,share:_89},{internal:"img"})};_13.toolbox=function(_8a,_8b,_8c){var _8d=_2d(_8a);for(var i=0;i<_8d.length;i++){var tb=_8d[i],_90=_41(tb,_8b,_8c),sp=d.ce("div"),c=tb.getElementsByTagName("a");if(c){_6f(c,_90.conf,_90.share)}tb.appendChild(sp);sp.className="atclear"}};_13.ready=function(){if(this.ost){return}this.ost=1;var a=".addthis_";_13.toolbox(a+"toolbox");_13.button(a+"button");_6f(_6e,null,null,false);for(var i=0;i<this.plo.length;i++){_13[this.plo[i].call].apply(this,this.plo[i].args)}};window.addthis=_13;window.addthis.ready()}}));function connectAddThis(a){dojo.stopEvent(a);if(share){addthis_open(a.target,"","[URL]","[TITLE]")}}deleteIcon=function(b,d){if(confirm("Are you sure you want to delete this image?")){var a=b.id;var c=b.previousSibling;c.setAttribute("value","true");b.parentNode.parentNode.style.display="none"}};function appendVar(g,a,c){var b=new RegExp(/\?/);delim=(b.exec(g))?"&":"?";if(a=="date"){var f=new Date();return g+delim+"ts="+f.getTime()}else{return g+delim+a+"="+c}}function getURL(d,c,b,a){dojo.xhrGet({url:d,handle:c,handleAs:b,async:a,load:function(g,h,f){return h},error:function(g,f){},mimetype:"text/plain"})}function hitURL(a){dojo.xhrGet({url:a,async:true,load:function(c,d,b){},error:function(c,b){},mimetype:"text/plain"})}getPageURL=function(){var c=document.URL.split("/");var a="";var b=/^[a-z0-9\._]+$/;for(i=3;i<c.length;i++){if(b.exec(c[i])){a+=c[i]+"/"}}return a};function pageScroll(){window.scrollBy(0,-80);scrolldelay=setTimeout("pageScroll()",100);if(getScrollXY()[1]==0){stopScroll()}}function stopScroll(){clearTimeout(scrolldelay)}function getScrollXY(){var b=0,a=0;if(typeof(window.pageYOffset)=="number"){a=window.pageYOffset;b=window.pageXOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){a=document.body.scrollTop;b=document.body.scrollLeft}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){a=document.documentElement.scrollTop;b=document.documentElement.scrollLeft}}}return[b,a]}function openLink(a){window.open(a);return true}function flopUp(c){if(!c.refresh){c.refresh=false}if(!c.refreshargs){c.refreshargs=null}var a=document.createElement("div");document.body.appendChild(a);href=appendVar(c.href,"date");b=dijit.byId(c.anid+"_floatingPane");if(!b){var b=new dojo_widgets.layout.HitchPane({id:c.anid+"_floatingPane",title:c.title,dockable:false,maxable:false,shadable:true,closable:true,resizable:false,autoSize:c.autoSize,autoSizeNodes:c.autoSizeNodes,onRefresh:c.refresh,onRefreshArgs:c.refreshargs},a);b.startup()}if(c.hitch!=null){var d=c.hitch.split(":")}if((d)&&(d[0]=="form")){hitchForm(d[1],c.anid+"_floatingPane",c.href)}else{if((d)&&(d[0]=="hitch")){b.setHitch(d[1],c.href)}else{b.attr("href",c.href)}}}var hitchForm=function(b,c,a){console.debug("Hitching form ",b," to node ",c);if(a){dijit.byId(c).setHref(a)}dojo.connect(dojo.byId(b),"onsubmit",function(d){formSubmit(d,b,c)})};var formSubmit=function(c,a,b){c.preventDefault();dojo.xhrPost({form:a,handleAs:"text",handle:function(g,f){if(typeof g=="error"){console.warn("error!",f)}else{console.log("Successfully posted form ",a);try{var d=dijit.byId(b)}catch(h){var d=b}d.setContent(g);try{}catch(h){}}}})};function fillJSONContainer(a){dojo.query(".styro_container").forEach(function(c,b){fillFragments(c)})}fillFragments=function(d){var g=d.childNodes[0].id.split("_");var h=d.childNodes[0].innerHTML;var c=d.childNodes[0].getAttribute("name").split("_");var a=dojo.fromJson(h);if(a){for(i=0;i<a.items.length;i++){if(i>0){uuid=duplicateFragment(g[1],true);if(uuid){var f=g[1]+"_";var b=new RegExp(g[1]);uuid=uuid.replace(b,"")}}else{uuid=""}setFragment(c[2],g[1],uuid,a.items[i])}}};setFragment=function(a,f,c,d){var g=f+c;for(key in d){var b=document.getElementById(c+key);if((b)&&(b.type)){switch(b.type){case"text":case"hidden":b.value=d[key];break;case"select-one":setSelect(b,d[key]);break}}else{if(b){if(b.src){b.src=d[key]}else{b.innerHTML=d[key]}}}}};setSelect=function(a,b){var c=a.options;for(j=0;j<c.length;j++){if(c[j].value==b){a.selectedIndex=j}}};duplicateFragment=function(k,l){var m=document.getElementById(k);if(!m){return false}var b=m.parentNode;var f=b.elements[k+"_total"];var d=document.getElementById(k+"_track");if(!f){var g=document.createElement("input");g.setAttribute("type","hidden");g.setAttribute("value",1);g.setAttribute("name",k+"_total");b.appendChild(g)}if(!d){var d=document.createElement("div");d.setAttribute("id",k+"_track");d.style.display="none";d.innerHTML=k;b.appendChild(d)}var a=dojo.dnd.getUniqueId();var h=a+"_"+k;var c=m.cloneNode(true);firstDiv=dojo.query("*",c)[0].parentNode;firstDiv.setAttribute("id",h);firstDiv.setAttribute("class","row");dojo.query("img:not(.remove_iterator|.delete_icon)",c).forEach(function(o,n){o.setAttribute("src","")});if(!l){dojo.query("img.delete_icon",c).forEach(function(o,n){o.setAttribute("src","")})}dojo.query("input",c).forEach(function(o,n){the_id=o.getAttribute("id");o.setAttribute("id",a+"_"+the_id)});dojo.query("select",c).forEach(function(o,n){the_id=o.getAttribute("id");o.setAttribute("id",a+"_"+the_id)});dojo.query("img:not(.remove_iterator|.delete_icon)",c).forEach(function(o,n){the_id=o.getAttribute("id");o.setAttribute("id",a+"_"+the_id)});dojo.query("span.display",c).forEach(function(o,n){the_id=o.getAttribute("id");o.setAttribute("id",a+"_"+the_id)});dojo.query("span.displayselect",c).forEach(function(o,n){the_id=o.getAttribute("id");o.setAttribute("id",a+"_"+the_id)});b.elements[k+"_total"].value++;dojo.query("img.remove_iterator",c).forEach(function(o,n){the_id=o.getAttribute("id");o.setAttribute("src","/images/Neu/16x16/actions/undo.png");o.setAttribute("border",0);o.setAttribute("onclick","removeFragment('"+h+"')")});trackString=d.innerHTML;trackArray=trackString.split(",");placeFrag=document.getElementById(trackArray[trackArray.length-1]);dojo.place(c,placeFrag,"after");d.innerHTML+=","+h;return h};removeFragment=function(c){var d=document.getElementById(c);var a=d.parentNode;dojo._destroyElement(d);rootID=c.split("_")[1];a.elements[rootID+"_total"].value--;trackElement=document.getElementById(rootID+"_track");trackString=trackElement.innerHTML;var b=new RegExp(","+c,"g");trackString=trackString.replace(b,"");trackElement.innerHTML=trackString};function toggleDiv(d,b){b=(typeof b=="undefined")?"null":b;if((!dojo.style(d,"display"))||(dojo.style(d,"display")=="none")){console.log("fading in "+d);var a=dojo.fadeIn({node:d});dojo.connect(a,"beforeBegin",function(){dojo.style(d,"opacity",0);dojo.style(d,"display","block")});if(b!="null"){dojo.connect(a,"onEnd",function(){dojo.removeClass(b,"windowshade_closed");dojo.addClass(b,"windowshade_open")})}a.play()}else{console.log("fading out "+d);var c=dojo.fadeOut({node:d});dojo.connect(c,"onEnd",function(){dojo.style(d,"opacity",0);dojo.style(d,"display","none");if(b!="null"){dojo.removeClass(b,"windowshade_open");dojo.addClass(b,"windowshade_closed")}});c.play()}console.log("done toggling "+d)}var snagForms=function(a){var c=false;try{if(document.getElementById(a.id).getAttribute("nid")){c=document.getElementById(a.id).getAttribute("nid")}else{console.log("Note this nid is not an existing node");return false}console.debug("Snagging forms in node ",c)}catch(b){console.log("Note this is not an existing node");return false}dojo.query("form",a.id).forEach(function(d){console.debug("Discovered form ",d.id);if(c){var f=dojo.byId(d.id).getAttribute("action")+"?destination=/dojo_layout/run/node/"+c}else{var f=dojo.byId(d.id).getAttribute("action")+"?destination=/dojo_layout/run/confirm/null/null"}console.debug("Setting form action for ",d.id,"to ",f);dojo.byId(d.id).setAttribute("action",f);console.debug("Connecting form ",d.id);dojo.connect(dojo.byId(d.id),"onsubmit",function(g){formSubmit(g,d.id,a)})})};var thisValidator=new FormValidator();function checkForm(a,b){thisValidator.init(b);thisValidator.checkForm();if(thisValidator.debug==0){return thisValidator.validated}else{if(thisValidator.debug==2){console.log("The form "+b+" has "+thisValidator.theElementsLength+" elements.")}console.info("Total Errors: "+thisValidator.err);return false}}function setAction(c,f){var b=c.form;var a=b.elements.styroaction;if(!a||a=="undefined"){var d=document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("name","styroaction");d.setAttribute("value",f);b.appendChild(d)}else{a.value=f}}function setEdit(a){thisValidator.skipcheck=true}function dropEdit(a){}function FormValidator(){}FormValidator.prototype.init=function(b,a){if(b!=undefined){this.theForm=document.forms[b];this.theElements=this.theForm.elements;this.theElementsLength=this.theElements.length}this.err=0;this.setValidators()};FormValidator.prototype.skipcheck=false;FormValidator.prototype.debug=0;FormValidator.prototype.vcqk=new Object();FormValidator.prototype.vcqkloaded=false;FormValidator.prototype.err=0;FormValidator.prototype.selset=0;FormValidator.prototype.firsterror="";FormValidator.prototype.currentElement="";FormValidator.prototype.required="";FormValidator.prototype.doval="";FormValidator.prototype.gotit="";FormValidator.prototype.useBeacons=true;FormValidator.prototype.editor=null;FormValidator.prototype.validated=false;FormValidator.prototype.thisIE=function(){var a=navigator.appName;if(a=="Microsoft Internet Explorer"){return true}else{return false}};FormValidator.prototype.setValidators=function(){if(!this.vcqkloaded){thisParse=new XMLParser;var vdoc=thisParse.getDoc("/xml/StyroformValidators.xml");var validators=vdoc.getElementsByTagName("validator");for(var i=0;i<validators.length;i++){var thistype=validators[i].getElementsByTagName("type")[0].firstChild.data;var thisexpr=validators[i].getElementsByTagName("expression")[0].firstChild.data;eval("this.vcqk."+thistype+"= eval(thisexpr)")}this.vcqkloaded=true}};FormValidator.prototype.showerrors=function(){if(this.theElements.showerrors.value=="TRUE"){return true}else{return false}};FormValidator.prototype.checkForm=function(){if(this.skipcheck){(FormValidator.prototype.useBeacons)?this.sendBeacon():null;FormValidator.prototype.validated=true}else{for(var a=0;a<this.theElementsLength;a++){this.currentElement=this.theElements[a];if(this.debug==2){console.log("Debugging Form Item "+a+"::"+this.currentElement.type+" -> "+this.currentElement.name)}this.validateItem()}this.setGlobalErrorNotice()}};FormValidator.prototype.setGlobalErrorNotice=function(){if(this.err>0){if(document.getElementById("errornotice_"+this.theForm.name).className=="errornotice"){document.getElementById("errornotice_"+this.theForm.name).className="errornotice_visible"}if(document.getElementById("errornotice_"+this.theForm.name).style.display=="none"){document.getElementById("errornotice_"+this.theForm.name).style.display="block"}(FormValidator.prototype.useBeacons)?this.sendBeacon(false):null;FormValidator.prototype.validated=false}else{(FormValidator.prototype.useBeacons)?this.sendBeacon(true):null;FormValidator.prototype.validated=true}};FormValidator.prototype.sendBeacon=function(a){if(this.theElements.beacon_sig){thisParse=new XMLParser;var b=this.theElements.beacon_sig.value+","+this.theElements.beacon_data.value;thisParse.touchUrl("/services/Beacon/form/"+b+"/"+a)}};FormValidator.prototype.initItem=function(){this.required=false;this.doval=false;this.currentElement.vtip=this.getDocValue("vtip");this.currentElement.vskip=this.getDocValue("vskip");this.currentElement.vreq=this.getDocValue("vreq");this.currentElement.spec=(this.getDocValue("spec")!="")?this.getDocValue("spec"):"FALSE";this.currentElement.asize=this.getDocValue("size");if((this.currentElement.type!="select-multiple")&&(this.currentElement.type!="select-one")){}this.currentElement.thisclass=this.getaclass(this.currentElement.className);this.currentElement.parentclass=this.getaclass(this.currentElement.parentNode.className);this.currentElement.parentparentclass=this.getaclass(this.currentElement.parentNode.parentNode.className);this.required=this.currentElement.vreq;this.editor=null};FormValidator.prototype.validateItem=function(){this.initItem();if(this.currentElement.vtip!=null){if(this.currentElement.vtip.length>0){this.doval=true}}if(this.debug==2){console.info("Name:"+this.currentElement.name+" Required: "+this.currentElement.vreq+" Validation:"+this.currentElement.vtip)}var elementType=this.currentElement.type.replace(/[-]/,"");if(elementType=="hidden"){this.required="FALSE";this.doval=false}else{if((this.currentElement.vreq=="VNN")&&(this.currentElement.value.length>0)){this.required="TRUE"}else{if((this.currentElement.vreq=="VNN")&&(this.currentElement.value.length==0)){this.required="TRUE";this.doval=false}else{if(elementType=="reset"){console.info("Name:"+this.currentElement.name+"( "+this.currentElement.type+" ) has no validation method, skipping...");this.required="FALSE";this.doval=false}}}}if(this.currentElement.vskip!="false"){this.required="FALSE"}if((this.required=="TRUE")&&(!this.currentElement.vtip.substring(0,2)=="js")&&(this.currentElement.type!="select-multiple")&&(this.currentElement.type!="select-one")&&(!this.vcqk[this.currentElement.vtip])){if(this.debug==2){console.error("No validator for "+this.currentElement.vtip)}this.err++;return false}if(this.doval!=false){if(this.currentElement.vtip.substring(0,2)=="js"){var theres=eval(this.currentElement.vtip.replace("js:",""));if(this.debug==2){console.info("eval of "+this.currentElement.name+" is "+theres)}if(!theres){if(this.currentElement.type=="checkbox"){this.err++;this.putErrors()}else{this.createError()}}else{this.resetField()}}else{var thefunction="this.validate_"+elementType+"()";return eval(thefunction)}}};FormValidator.prototype.validate_=function(){return true};FormValidator.prototype.validate_file=function(){if(this.currentElement.vtip.substring(0,2)!="js"){if((this.currentElement.vtip=="phoneNumber")||(this.currentElement.vtip=="phone")){this.currentElement.value=this.currentElement.value.replace(/[^\d]/g,"");if((this.currentElement.value.substring(0,1)==0)||(this.currentElement.value.substring(0,1)==1)){this.currentElement.value=this.currentElement.value.substring(1,this.currentElement.value.length)}}var gotIt=this.vcqk[this.currentElement.vtip].exec(this.currentElement.value)}else{if(eval(this.currentElement.vtip.replace("js:",""))=="true"){gotIt=true}else{gotIt=false}}if((!gotIt)||(gotIt==null)){this.createError()}else{this.resetField()}};FormValidator.prototype.validate_submit=function(){return true};FormValidator.prototype.validate_text=function(){if(this.currentElement.vtip=="truncURL"){var initStart=/^http(s)?/.exec(this.currentElement.value);if(initStart!=null){var theval=this.currentElement.value.replace("https://","");theval=theval.replace("http://","");if(theval==""){var gotIt=true}else{var gotIt=this.vcqk[this.currentElement.vtip].exec(theval)}}else{var gotIt=false}}else{if(this.currentElement.vtip.substring(0,2)!="js"){if((this.currentElement.vtip=="phoneNumber")||(this.currentElement.vtip=="phone")){this.currentElement.value=this.currentElement.value.replace(/[^\d]/g,"");if((this.currentElement.value.substring(0,1)==0)||(this.currentElement.value.substring(0,1)==1)){this.currentElement.value=this.currentElement.value.substring(1,this.currentElement.value.length)}}var gotIt=this.vcqk[this.currentElement.vtip].exec(this.currentElement.value)}else{if(eval(this.currentElement.vtip.replace("js:",""))=="true"){gotIt=true}else{gotIt=false}}}if((!gotIt)||(gotIt==null)){this.createError()}else{this.resetField()}};FormValidator.prototype.validate_textarea=function(){if(this.currentElement.name.substring(0,6)=="editor"){result=this.currentElement.name.replace("editor","");if(this.debug==2){console.info("hidden field name is "+result)}editordojo=this.currentElement.name.replace("editor","editordojo");if(this.debug==2){console.log("dojo editor name is "+editordojo)}this.editor=this.currentElement.name.replace("editor","editorwrapper");if(this.debug==2){console.log("this.editor is "+this.editor+" from "+editordojo)}var c=dijit.byId(editordojo);var b=c.getValue(false);b=b.replace("<br>","");if(this.debug==2){console.log("value="+b)}this.theForm.elements[result].value=b}else{b=this.currentElement.value}var a=this.vcqk[this.currentElement.vtip].exec(b.replace(/\n/g,""));if((this.currentElement.asize>0)&&(this.currentElement.value.length>this.currentElement.asize)){a=false}if((!a)||(a==null)){this.createError()}else{this.resetField()}};FormValidator.prototype.validate_checkbox=function(){if(((this.currentElement.vreq=="TRUE")&&(this.fieldCheckCount(this.theElements[this.currentElement.name])==0))||(this.fieldCheckCount(this.theElements[this.currentElement.name])>this.currentElement.vtip)){this.err++;this.putErrors()}else{this.resetField()}};FormValidator.prototype.validate_radio=function(){if((this.required=="TRUE")&&(!this.fieldChecked(this.theElements[this.currentElement.name]))){this.err++;this.putErrors()}else{this.resetField()}};FormValidator.prototype.validate_hidden=function(){return true};FormValidator.prototype.validate_password=function(){this.validate_text()};FormValidator.prototype.validate_button=function(){return true};FormValidator.prototype.validate_selectone=function(){if(this.currentElement.selectedIndex==this.currentElement.vtip){this.createError()}else{this.resetField()}};FormValidator.prototype.validate_selectmultiple=function(){var c=this.currentElement.vtip.split("|");var a=c[0];var h=c[1];var g=false;var b;var d=0;var f=new Array();for(b=0;b<this.currentElement.options.length;b++){if(this.currentElement.options[b].selected){f[d]=this.currentElement.options[b].value;d++}}if(a!="null"){for(value in f){if((f[value]==a)&&(this.required=="TRUE")){g=true;break}}}if(h!=0){if((f.length>h)&&(this.required=="TRUE")){g=true}}if(g){this.createError()}else{this.resetField()}};FormValidator.prototype.setPhoneValue=function(){if(this.currentElement.vtip=="phoneNumber"){this.currentElement.value=this.currentElement.value.substring(0,3)+"-"+this.currentElement.value.substring(3,6)+"-"+this.currentElement.value.substring(6,10)}};FormValidator.prototype.resetField=function(){this.setPhoneValue();if((this.currentElement.type=="checkbox")||(this.currentElement.type=="radio")){this.currentElement.parentNode.className=this.currentElement.parentclass}if(document.getElementById(this.currentElement.name)){document.getElementById(this.currentElement.name).className=this.currentElement.thisclass}if(document.getElementById("error"+this.currentElement.name)){document.getElementById("error"+this.currentElement.name).className="errorhidden";if(document.getElementById("error"+this.currentElement.name).innerHTML.length>0){document.getElementById("error"+this.currentElement.name).innerHTML=""}}if(this.editor!=null){var a=document.getElementById(this.editor);a.style.border="1px solid #ccc";a.style.background="#fff"}};FormValidator.prototype.createError=function(){if(this.editor!=null){var a=document.getElementById(this.editor);a.style.border="1px solid #cc0000";a.style.background="#ffcccc"}else{this.currentElement.className=this.currentElement.thisclass+"_error"}if(this.required=="TRUE"){this.err++;this.selectElement();this.putErrors()}};FormValidator.prototype.pushError=function(){this.currentElement.thisclass=this.getaclass(this.currentElement.className);this.createError();this.err++};FormValidator.prototype.selectElement=function(){if(this.selset==0){if(this.currentElement.type=="text"){this.currentElement.select()}this.currentElement.focus();this.selset=1}};FormValidator.prototype.putErrors=function(){if(this.currentElement.value.length==0){if(this.err==1){this.firsterror=this.currentElement.name+" (required)"}if(this.showerrors()||(this.currentElement.spec!="FALSE")){document.getElementById("error"+this.currentElement.name).className="errormsg_"+this.currentElement.name}if(this.showerrors()||(this.currentElement.spec!="FALSE")){document.getElementById("error"+this.currentElement.name).innerHTML=(this.currentElement.spec=="")?"&#160;(required)":this.currentElement.spec}}else{if((this.currentElement.type=="checkbox")||(this.currentElement.type=="radio")){console.log(this.currentElement.parentNode.className+" is set to "+this.currentElement.parentNode.className+"_error");console.log(this.currentElement.parentNode.parentNode.className+" is set to "+this.currentElement.parentparentclass+"_error");this.currentElement.parentNode.className=this.currentElement.parentclass+"_error";this.currentElement.parentNode.parentNode.className=this.currentElement.parentparentclass+"_error"}if(this.err==1){this.firsterror=this.currentElement.name+" (invalid)"}if(this.showerrors()||(this.currentElement.spec!="FALSE")){document.getElementById("error"+this.currentElement.name).className="errormsg_"+this.currentElement.name}if(this.showerrors()||(this.currentElement.spec!="FALSE")){document.getElementById("error"+this.currentElement.name).innerHTML=(this.currentElement.spec=="")?"&#160;(check your entry)":this.currentElement.spec}}console.error("Error checking "+this.currentElement.name+" Total Errors:"+this.err)};FormValidator.prototype.fieldChecked=function(b){isChecked=false;if(!b.length){if(b.checked){isChecked=b.value}}else{for(var a=0;a<b.length;a++){if(b[a].checked){isChecked=b[a].value;break}}}return isChecked};FormValidator.prototype.fieldCheckCount=function(c){var a=0;if(c.length){for(var b=0;b<c.length;b++){if(c[b].checked){a++}}}else{if(c.checked){a++}}return a};FormValidator.prototype.getaclass=function(a){parts=a.split("_");return parts[0]};FormValidator.prototype.getDocValue=function(a){if(document.getElementById(a+this.currentElement.name)){return document.getElementById(a+this.currentElement.name).innerHTML}else{return"FALSE"}};FormValidator.prototype.maxChars=function(a){if(this.currentElement.value.length<=a){return true}else{return false}};FormValidator.prototype.maxLength=function(a,c,b,f,d){a=a||window.event;if(window.event){keynum=a.keyCode}else{if(a.which){keynum=a.which}}if((keynum!=8)&&(c.value.length>=parseInt(b))){f=f.replace(/\$count/,b);console.log(f);if(c.value.length>parseInt(b)){if(confirm(d)){c.value=""}}a.returnValue=false;return false}};FormValidator.prototype.miniValidate=function(a){this.setValidators();this.currentElement=a;this.initItem();this.validate_textarea()};function XMLParser(b){try{document.execCommand("BackgroundImageCache",false,true)}catch(a){}if(b!=undefined){this.theXMLDoc=b}else{return false}}XMLParser.prototype.thisIE=function(){var a=navigator.appName;if(a=="Microsoft Internet Explorer"){return true}else{return false}};XMLParser.prototype.thisNetscape=function(){var a=navigator.appName;if(a=="Netscape"){return true}else{return false}};XMLParser.prototype.getDoc=function(b,a,d,g,c){a=a||"xml";g=g||"GET";d=d||null;c=c||false;if(this.thisIE()){var f=new ActiveXObject("Microsoft.XMLHTTP")}else{var f=new XMLHttpRequest()}f.open(g,b,c);if(g=="POST"){f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");f.setRequestHeader("Content-length",d.length);f.setRequestHeader("Connection","close")}f.send(d);if(f.status==200){if(a=="xml"){return f.responseXML}else{return f.responseText}}else{if(f.status==404){alert("Incorrect URL at"+b);return false}else{alert("Error Loading XML");return false}}};XMLParser.prototype.touchUrl=function(a){if(this.thisIE()){var b=new ActiveXObject("Microsoft.XMLHTTP")}else{var b=new XMLHttpRequest()}b.open("GET",a,false);b.send("");return true};function validEmail(a){var b=/^.+\@(\[?)[a-zA-Z0-9\-\.]+\.([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.exec(a);if((!b)||(b==null)){return false}else{return true}}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.ltrim=function(){return this.replace(/^\s+/,"")};String.prototype.rtrim=function(){return this.replace(/\s+$/,"")};var swfobject=function(){var b="undefined",Q="object",n="Shockwave Flash",p="ShockwaveFlash.ShockwaveFlash",P="application/x-shockwave-flash",m="SWFObjectExprInst",j=window,K=document,T=navigator,o=[],N=[],i=[],d=[],J,Z=null,M=null,l=null,e=false,A=false;var h=function(){var v=typeof K.getElementById!=b&&typeof K.getElementsByTagName!=b&&typeof K.createElement!=b,AC=[0,0,0],x=null;if(typeof T.plugins!=b&&typeof T.plugins[n]==Q){x=T.plugins[n].description;if(x&&!(typeof T.mimeTypes!=b&&T.mimeTypes[P]&&!T.mimeTypes[P].enabledPlugin)){x=x.replace(/^.*\s+(\S+\s+\S+$)/,"$1");AC[0]=parseInt(x.replace(/^(.*)\..*$/,"$1"),10);AC[1]=parseInt(x.replace(/^.*\.(.*)\s.*$/,"$1"),10);AC[2]=/r/.test(x)?parseInt(x.replace(/^.*r(.*)$/,"$1"),10):0}}else{if(typeof j.ActiveXObject!=b){var y=null,AB=false;try{y=new ActiveXObject(p+".7")}catch(t){try{y=new ActiveXObject(p+".6");AC=[6,0,21];y.AllowScriptAccess="always"}catch(t){if(AC[0]==6){AB=true}}if(!AB){try{y=new ActiveXObject(p)}catch(t){}}}if(!AB&&y){try{x=y.GetVariable("$version");if(x){x=x.split(" ")[1].split(",");AC=[parseInt(x[0],10),parseInt(x[1],10),parseInt(x[2],10)]}}catch(t){}}}}var AD=T.userAgent.toLowerCase(),r=T.platform.toLowerCase(),AA=/webkit/.test(AD)?parseFloat(AD.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,q=false,z=r?/win/.test(r):/win/.test(AD),w=r?/mac/.test(r):/mac/.test(AD);
/*@cc_on q=true;@if(@_win32)z=true;@elif(@_mac)w=true;@end@*/
return{w3cdom:v,pv:AC,webkit:AA,ie:q,win:z,mac:w}}();var L=function(){if(!h.w3cdom){return}f(H);if(h.ie&&h.win){try{K.write("<script id=__ie_ondomload defer=true src=//:><\/script>");J=C("__ie_ondomload");if(J){I(J,"onreadystatechange",S)}}catch(q){}}if(h.webkit&&typeof K.readyState!=b){Z=setInterval(function(){if(/loaded|complete/.test(K.readyState)){E()}},10)}if(typeof K.addEventListener!=b){K.addEventListener("DOMContentLoaded",E,null)}R(E)}();function S(){if(J.readyState=="complete"){J.parentNode.removeChild(J);E()}}function E(){if(e){return}if(h.ie&&h.win){var v=a("span");try{var u=K.getElementsByTagName("body")[0].appendChild(v);u.parentNode.removeChild(u)}catch(w){return}}e=true;if(Z){clearInterval(Z);Z=null}var q=o.length;for(var r=0;r<q;r++){o[r]()}}function f(q){if(e){q()}else{o[o.length]=q}}function R(r){if(typeof j.addEventListener!=b){j.addEventListener("load",r,false)}else{if(typeof K.addEventListener!=b){K.addEventListener("load",r,false)}else{if(typeof j.attachEvent!=b){I(j,"onload",r)}else{if(typeof j.onload=="function"){var q=j.onload;j.onload=function(){q();r()}}else{j.onload=r}}}}}function H(){var t=N.length;for(var q=0;q<t;q++){var u=N[q].id;if(h.pv[0]>0){var r=C(u);if(r){N[q].width=r.getAttribute("width")?r.getAttribute("width"):"0";N[q].height=r.getAttribute("height")?r.getAttribute("height"):"0";if(c(N[q].swfVersion)){if(h.webkit&&h.webkit<312){Y(r)}W(u,true)}else{if(N[q].expressInstall&&!A&&c("6.0.65")&&(h.win||h.mac)){k(N[q])}else{O(r)}}}}else{W(u,true)}}}function Y(t){var q=t.getElementsByTagName(Q)[0];if(q){var w=a("embed"),y=q.attributes;if(y){var v=y.length;for(var u=0;u<v;u++){if(y[u].nodeName=="DATA"){w.setAttribute("src",y[u].nodeValue)}else{w.setAttribute(y[u].nodeName,y[u].nodeValue)}}}var x=q.childNodes;if(x){var z=x.length;for(var r=0;r<z;r++){if(x[r].nodeType==1&&x[r].nodeName=="PARAM"){w.setAttribute(x[r].getAttribute("name"),x[r].getAttribute("value"))}}}t.parentNode.replaceChild(w,t)}}function k(w){A=true;var u=C(w.id);if(u){if(w.altContentId){var y=C(w.altContentId);if(y){M=y;l=w.altContentId}}else{M=G(u)}if(!(/%$/.test(w.width))&&parseInt(w.width,10)<310){w.width="310"}if(!(/%$/.test(w.height))&&parseInt(w.height,10)<137){w.height="137"}K.title=K.title.slice(0,47)+" - Flash Player Installation";var z=h.ie&&h.win?"ActiveX":"PlugIn",q=K.title,r="MMredirectURL="+j.location+"&MMplayerType="+z+"&MMdoctitle="+q,x=w.id;if(h.ie&&h.win&&u.readyState!=4){var t=a("div");x+="SWFObjectNew";t.setAttribute("id",x);u.parentNode.insertBefore(t,u);u.style.display="none";var v=function(){u.parentNode.removeChild(u)};I(j,"onload",v)}U({data:w.expressInstall,id:m,width:w.width,height:w.height},{flashvars:r},x)}}function O(t){if(h.ie&&h.win&&t.readyState!=4){var r=a("div");t.parentNode.insertBefore(r,t);r.parentNode.replaceChild(G(t),r);t.style.display="none";var q=function(){t.parentNode.removeChild(t)};I(j,"onload",q)}else{t.parentNode.replaceChild(G(t),t)}}function G(v){var u=a("div");if(h.win&&h.ie){u.innerHTML=v.innerHTML}else{var r=v.getElementsByTagName(Q)[0];if(r){var w=r.childNodes;if(w){var q=w.length;for(var t=0;t<q;t++){if(!(w[t].nodeType==1&&w[t].nodeName=="PARAM")&&!(w[t].nodeType==8)){u.appendChild(w[t].cloneNode(true))}}}}}return u}function U(AG,AE,t){var q,v=C(t);if(v){if(typeof AG.id==b){AG.id=t}if(h.ie&&h.win){var AF="";for(var AB in AG){if(AG[AB]!=Object.prototype[AB]){if(AB.toLowerCase()=="data"){AE.movie=AG[AB]}else{if(AB.toLowerCase()=="styleclass"){AF+=' class="'+AG[AB]+'"'}else{if(AB.toLowerCase()!="classid"){AF+=" "+AB+'="'+AG[AB]+'"'}}}}}var AD="";for(var AA in AE){if(AE[AA]!=Object.prototype[AA]){AD+='<param name="'+AA+'" value="'+AE[AA]+'" />'}}v.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+AF+">"+AD+"</object>";i[i.length]=AG.id;q=C(AG.id)}else{if(h.webkit&&h.webkit<312){var AC=a("embed");AC.setAttribute("type",P);for(var z in AG){if(AG[z]!=Object.prototype[z]){if(z.toLowerCase()=="data"){AC.setAttribute("src",AG[z])}else{if(z.toLowerCase()=="styleclass"){AC.setAttribute("class",AG[z])}else{if(z.toLowerCase()!="classid"){AC.setAttribute(z,AG[z])}}}}}for(var y in AE){if(AE[y]!=Object.prototype[y]){if(y.toLowerCase()!="movie"){AC.setAttribute(y,AE[y])}}}v.parentNode.replaceChild(AC,v);q=AC}else{var u=a(Q);u.setAttribute("type",P);for(var x in AG){if(AG[x]!=Object.prototype[x]){if(x.toLowerCase()=="styleclass"){u.setAttribute("class",AG[x])}else{if(x.toLowerCase()!="classid"){u.setAttribute(x,AG[x])}}}}for(var w in AE){if(AE[w]!=Object.prototype[w]&&w.toLowerCase()!="movie"){F(u,w,AE[w])}}v.parentNode.replaceChild(u,v);q=u}}}return q}function F(t,q,r){var u=a("param");u.setAttribute("name",q);u.setAttribute("value",r);t.appendChild(u)}function X(r){var q=C(r);if(q&&(q.nodeName=="OBJECT"||q.nodeName=="EMBED")){if(h.ie&&h.win){if(q.readyState==4){B(r)}else{j.attachEvent("onload",function(){B(r)})}}else{q.parentNode.removeChild(q)}}}function B(t){var r=C(t);if(r){for(var q in r){if(typeof r[q]=="function"){r[q]=null}}r.parentNode.removeChild(r)}}function C(t){var q=null;try{q=K.getElementById(t)}catch(r){}return q}function a(q){return K.createElement(q)}function I(t,q,r){t.attachEvent(q,r);d[d.length]=[t,q,r]}function c(t){var r=h.pv,q=t.split(".");q[0]=parseInt(q[0],10);q[1]=parseInt(q[1],10)||0;q[2]=parseInt(q[2],10)||0;return(r[0]>q[0]||(r[0]==q[0]&&r[1]>q[1])||(r[0]==q[0]&&r[1]==q[1]&&r[2]>=q[2]))?true:false}function V(v,r){if(h.ie&&h.mac){return}var u=K.getElementsByTagName("head")[0],t=a("style");t.setAttribute("type","text/css");t.setAttribute("media","screen");if(!(h.ie&&h.win)&&typeof K.createTextNode!=b){t.appendChild(K.createTextNode(v+" {"+r+"}"))}u.appendChild(t);if(h.ie&&h.win&&typeof K.styleSheets!=b&&K.styleSheets.length>0){var q=K.styleSheets[K.styleSheets.length-1];if(typeof q.addRule==Q){q.addRule(v,r)}}}function W(t,q){var r=q?"visible":"hidden";if(e&&C(t)){C(t).style.visibility=r}else{V("#"+t,"visibility:"+r)}}function g(s){var r=/[\\\"<>\.;]/;var q=r.exec(s)!=null;return q?encodeURIComponent(s):s}var D=function(){if(h.ie&&h.win){window.attachEvent("onunload",function(){var w=d.length;for(var v=0;v<w;v++){d[v][0].detachEvent(d[v][1],d[v][2])}var t=i.length;for(var u=0;u<t;u++){X(i[u])}for(var r in h){h[r]=null}h=null;for(var q in swfobject){swfobject[q]=null}swfobject=null})}}();return{registerObject:function(u,q,t){if(!h.w3cdom||!u||!q){return}var r={};r.id=u;r.swfVersion=q;r.expressInstall=t?t:false;N[N.length]=r;W(u,false)},getObjectById:function(v){var q=null;if(h.w3cdom){var t=C(v);if(t){var u=t.getElementsByTagName(Q)[0];if(!u||(u&&typeof t.SetVariable!=b)){q=t}else{if(typeof u.SetVariable!=b){q=u}}}}return q},embedSWF:function(x,AE,AB,AD,q,w,r,z,AC){if(!h.w3cdom||!x||!AE||!AB||!AD||!q){return}AB+="";AD+="";if(c(q)){W(AE,false);var AA={};if(AC&&typeof AC===Q){for(var v in AC){if(AC[v]!=Object.prototype[v]){AA[v]=AC[v]}}}AA.data=x;AA.width=AB;AA.height=AD;var y={};if(z&&typeof z===Q){for(var u in z){if(z[u]!=Object.prototype[u]){y[u]=z[u]}}}if(r&&typeof r===Q){for(var t in r){if(r[t]!=Object.prototype[t]){if(typeof y.flashvars!=b){y.flashvars+="&"+t+"="+r[t]}else{y.flashvars=t+"="+r[t]}}}}f(function(){U(AA,y,AE);if(AA.id==AE){W(AE,true)}})}else{if(w&&!A&&c("6.0.65")&&(h.win||h.mac)){A=true;W(AE,false);f(function(){var AF={};AF.id=AF.altContentId=AE;AF.width=AB;AF.height=AD;AF.expressInstall=w;k(AF)})}}},getFlashPlayerVersion:function(){return{major:h.pv[0],minor:h.pv[1],release:h.pv[2]}},hasFlashPlayerVersion:c,createSWF:function(t,r,q){if(h.w3cdom){return U(t,r,q)}else{return undefined}},removeSWF:function(q){if(h.w3cdom){X(q)}},createCSS:function(r,q){if(h.w3cdom){V(r,q)}},addDomLoadEvent:f,addLoadEvent:R,getQueryParamValue:function(v){var u=K.location.search||K.location.hash;if(v==null){return g(u)}if(u){var t=u.substring(1).split("&");for(var r=0;r<t.length;r++){if(t[r].substring(0,t[r].indexOf("="))==v){return g(t[r].substring((t[r].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(A&&M){var q=C(m);if(q){q.parentNode.replaceChild(M,q);if(l){W(l,true);if(h.ie&&h.win){M.style.display="block"}}M=null;l=null;A=false}}}}}();