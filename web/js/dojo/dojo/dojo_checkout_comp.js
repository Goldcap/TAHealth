if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(f,e){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/}var d=dojo.date.stamp._isoRegExp.exec(f);var c=null;if(d){d.shift();if(d[1]){d[1]--}if(d[6]){d[6]*=1000}if(e){e=new Date(e);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(g){return e["get"+g]()}).forEach(function(h,g){if(d[g]===undefined){d[g]=h}})}c=new Date(d[0]||1970,d[1]||0,d[2]||1,d[3]||0,d[4]||0,d[5]||0,d[6]||0);var b=0;var a=d[7]&&d[7].charAt(0);if(a!="Z"){b=((d[8]||0)*60)+(Number(d[9])||0);if(a!="-"){b*=-1}}if(a){b-=c.getTimezoneOffset()}if(b){c.setTime(c.getTime()+b*60000)}}return c};dojo.date.stamp.toISOString=function(j,i){var k=function(l){return(l<10)?"0"+l:l};i=i||{};var h=[];var f=i.zulu?"getUTC":"get";var g="";if(i.selector!="time"){var e=j[f+"FullYear"]();g=["0000".substr((e+"").length)+e,k(j[f+"Month"]()+1),k(j[f+"Date"]())].join("-")}h.push(g);if(i.selector!="date"){var d=[k(j[f+"Hours"]()),k(j[f+"Minutes"]()),k(j[f+"Seconds"]())].join(":");var c=j[f+"Milliseconds"]();if(i.milliseconds){d+="."+(c<100?"0":"")+k(c)}if(i.zulu){d+="Z"}else{if(i.selector!="time"){var b=j.getTimezoneOffset();var a=Math.abs(b);d+=(b>0?"-":"+")+k(Math.floor(a/60))+":"+k(a%60)}}h.push(d)}return h.join("T")}}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var h=dojo;var e=h._scopeName+"Type";var i="["+e+"]";var b=0,g={};var f=function(m,l){var n=l||g;if(dojo.isIE){var o=m.__dojoNameCache;if(o&&n[o]===m){return o}}var d;do{d="__"+b++}while(d in n);n[d]=m;return d};function c(d){if(h.isString(d)){return"string"}if(typeof d=="number"){return"number"}if(typeof d=="boolean"){return"boolean"}if(h.isFunction(d)){return"function"}if(h.isArray(d)){return"array"}if(d instanceof Date){return"date"}if(d instanceof h._Url){return"url"}return"object"}function a(m,d){switch(d){case"string":return m;case"number":return m.length?Number(m):NaN;case"boolean":return typeof m=="boolean"?m:!(m.toLowerCase()=="false");case"function":if(h.isFunction(m)){m=m.toString();m=h.trim(m.substring(m.indexOf("{")+1,m.length-1))}try{if(m.search(/[^\w\.]+/i)!=-1){m=f(new Function(m),this)}return h.getObject(m,false)}catch(l){return new Function()}case"array":return m?m.split(/\s*,\s*/):[];case"date":switch(m){case"":return new Date("");case"now":return new Date();default:return h.date.stamp.fromISOString(m)}case"url":return h.baseUrl+m;default:return h.fromJson(m)}}var k={};function j(n){if(!k[n]){var d=h.getObject(n);if(!h.isFunction(d)){throw new Error("Could not load class '"+n+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?")}var q=d.prototype;var p={},o={};for(var m in q){if(m.charAt(0)=="_"){continue}if(m in o){continue}var l=q[m];p[m]=c(l)}k[n]={cls:d,params:p}}return k[n]}this._functionFromScript=function(m){var n="";var l="";var d=m.getAttribute("args");if(d){h.forEach(d.split(/\s*,\s*/),function(q,p){n+="var "+q+" = arguments["+p+"]; "})}var o=m.getAttribute("with");if(o&&o.length){h.forEach(o.split(/\s*,\s*/),function(p){n+="with("+p+"){";l+="}"})}return new Function(n+m.innerHTML+l)};this.instantiate=function(m,l){var d=[];l=l||{};h.forEach(m,function(C){if(!C){return}var B=e in l?l[e]:C.getAttribute(e);if(!B||!B.length){return}var A=j(B),z=A.cls,n=z._noScript||z.prototype._noScript;var y={},x=C.attributes;for(var w in A.params){var v=w in l?{value:l[w],specified:true}:x.getNamedItem(w);if(!v||(!v.specified&&(!dojo.isIE||w.toLowerCase()!="value"))){continue}var u=v.value;switch(w){case"class":u="className" in l?l.className:C.className;break;case"style":u="style" in l?l.style:(C.style&&C.style.cssText)}var s=A.params[w];if(typeof u=="string"){y[w]=a(u,s)}else{y[w]=u}}if(!n){var q=[],o=[];h.query("> script[type^='dojo/']",C).orphan().forEach(function(G){var F=G.getAttribute("event"),E=G.getAttribute("type"),D=h.parser._functionFromScript(G);if(F){if(E=="dojo/connect"){q.push({event:F,func:D})}else{y[F]=D}}else{o.push(D)}})}var t=z.markupFactory;if(!t&&z.prototype){t=z.prototype.markupFactory}var r=t?t(y,C,z):new z(y,C);d.push(r);var p=C.getAttribute("jsId");if(p){h.setObject(p,r)}if(!n){h.forEach(q,function(D){h.connect(r,D.event,null,D.func)});h.forEach(o,function(D){D.call(r)})}});h.forEach(d,function(n){if(n&&n.startup&&!n._started&&(!n.getParent||!n.getParent())){n.startup()}});return d};this.parse=function(m){var l=h.query(i,m);var d=this.instantiate(l);return d}}();(function(){var a=function(){if(dojo.config.parseOnLoad==true){dojo.parser.parse()}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,a)}else{dojo._loaders.unshift(a)}})()}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var c=dojo.doc;if(c.selection){var d=c.selection;if(d.type=="Text"){return !d.createRange().htmlText.length}else{return !d.createRange().length}}else{var b=dojo.global;var a=b.getSelection();if(dojo.isString(a)){return !a}else{return !a||a.isCollapsed||!a.toString()}}},getBookmark:function(){var e,d=dojo.doc.selection;if(d){var b=d.createRange();if(d.type.toUpperCase()=="CONTROL"){if(b.length){e=[];var c=0,a=b.length;while(c<a){e.push(b.item(c++))}}else{e=null}}else{e=b.getBookmark()}}else{if(window.getSelection){d=dojo.global.getSelection();if(d){b=d.getRangeAt(0);e=b.cloneRange()}}else{console.warn("No idea how to store the current selection for this browser!")}}return e},moveToBookmark:function(d){var c=dojo.doc;if(c.selection){var b;if(dojo.isArray(d)){b=c.body.createControlRange();dojo.forEach(d,function(e){b.addElement(e)})}else{b=c.selection.createRange();b.moveToBookmark(d)}b.select()}else{var a=dojo.global.getSelection&&dojo.global.getSelection();if(a&&a.removeAllRanges){a.removeAllRanges();a.addRange(d)}else{console.warn("No idea how to restore selection for this browser!")}}},getFocus:function(b,a){return{node:b&&dojo.isDescendant(dijit._curFocus,b.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(a||dojo.global,dijit.isCollapsed)?dojo.withGlobal(a||dojo.global,dijit.getBookmark):null,openedForWindow:a}},focus:function(f){if(!f){return}var d="node" in f?f.node:f,c=f.bookmark,b=f.openedForWindow;if(d){var a=(d.tagName.toLowerCase()=="iframe")?d.contentWindow:d;if(a&&a.focus){try{a.focus()}catch(g){}}dijit._onFocusNode(d)}if(c&&dojo.withGlobal(b||dojo.global,dijit.isCollapsed)){if(b){b.focus()}try{dojo.withGlobal(b||dojo.global,dijit.moveToBookmark,null,[c])}catch(g){}}},_activeStack:[],registerIframe:function(a){dijit.registerWin(a.contentWindow,a)},registerWin:function(b,a){dojo.connect(b.document,"onmousedown",function(d){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false},0);dijit._onTouchNode(a||d.target||d.srcElement)});var c=b.document;if(c){if(dojo.isIE){c.attachEvent("onactivate",function(d){if(d.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(a||d.srcElement)}});c.attachEvent("ondeactivate",function(d){dijit._onBlurNode(a||d.srcElement)})}else{c.addEventListener("focus",function(d){dijit._onFocusNode(a||d.target)},true);c.addEventListener("blur",function(d){dijit._onBlurNode(a||d.target)},true)}}c=null},_onBlurNode:function(a){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer)}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null},100)},_onTouchNode:function(c){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer}var a=[];try{while(c){if(c.dijitPopupParent){c=dijit.byId(c.dijitPopupParent).domNode}else{if(c.tagName&&c.tagName.toLowerCase()=="body"){if(c===dojo.body()){break}c=dijit.getDocumentWindow(c.ownerDocument).frameElement}else{var d=c.getAttribute&&c.getAttribute("widgetId");if(d){a.unshift(d)}c=c.parentNode}}}}catch(b){}dijit._setStack(a)},_onFocusNode:function(a){if(!a){return}if(a.nodeType==9){return}dijit._onTouchNode(a);if(a==dijit._curFocus){return}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus}dijit._curFocus=a;dojo.publish("focusNode",[a])},_setStack:function(d){var b=dijit._activeStack;dijit._activeStack=d;for(var a=0;a<Math.min(b.length,d.length);a++){if(b[a]!=d[a]){break}}for(var c=b.length-1;c>=a;c--){var e=dijit.byId(b[c]);if(e){e._focused=false;e._hasBeenBlurred=true;if(e._onBlur){e._onBlur()}if(e._setStateClass){e._setStateClass()}dojo.publish("widgetBlur",[e])}}for(c=a;c<d.length;c++){e=dijit.byId(d[c]);if(e){e._focused=true;if(e._onFocus){e._onFocus()}if(e._setStateClass){e._setStateClass()}dojo.publish("widgetFocus",[e])}}}});dojo.addOnLoad(function(){dijit.registerWin(window)})}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={}},add:function(a){if(this._hash[a.id]){throw new Error("Tried to register widget with id=="+a.id+" but that id is already registered")}this._hash[a.id]=a},remove:function(a){delete this._hash[a]},forEach:function(a){for(var b in this._hash){a(this._hash[b])}},filter:function(a){var b=new dijit.WidgetSet();this.forEach(function(c){if(a(c)){b.add(c)}});return b},byId:function(a){return this._hash[a]},byClass:function(a){return this.filter(function(b){return b.declaredClass==a})}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(a){var b;do{b=a+"_"+(a in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[a]:dijit._widgetTypeCtr[a]=0)}while(dijit.byId(b));return b};dijit.findWidgets=function(b){var a=[];function c(j){var h=dojo.isIE?j.children:j.childNodes,g=0,f;while(f=h[g++]){if(f.nodeType!=1){continue}var d=f.getAttribute("widgetId");if(d){var e=dijit.byId(d);a.push(e)}else{c(f)}}}c(b);return a};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(a){if(a.destroyRecursive){a.destroyRecursive()}else{if(a.destroy){a.destroy()}}})})}dijit.byId=function(a){return(dojo.isString(a))?dijit.registry.byId(a):a};dijit.byNode=function(a){return dijit.registry.byId(a.getAttribute("widgetId"))};dijit.getEnclosingWidget=function(a){while(a){if(a.getAttribute&&a.getAttribute("widgetId")){return dijit.registry.byId(a.getAttribute("widgetId"))}a=a.parentNode}return null};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(b){var a=dojo.style(b);return(a.visibility!="hidden")&&(a.visibility!="collapsed")&&(a.display!="none")&&(dojo.attr(b,"type")!="hidden")};dijit.isTabNavigable=function(c){if(dojo.hasAttr(c,"disabled")){return false}var b=dojo.hasAttr(c,"tabindex");var a=dojo.attr(c,"tabindex");if(b&&a>=0){return true}var d=c.nodeName.toLowerCase();if(((d=="a"&&dojo.hasAttr(c,"href"))||dijit._tabElements[d])&&(!b||a>=0)){return true}return false};dijit._getTabNavigable=function(h){var g,f,d,b,e,c;var a=function(i){dojo.query("> *",i).forEach(function(l){var k=dijit._isElementShown(l);if(k&&dijit.isTabNavigable(l)){var j=dojo.attr(l,"tabindex");if(!dojo.hasAttr(l,"tabindex")||j==0){if(!g){g=l}f=l}else{if(j>0){if(!d||j<b){b=j;d=l}if(!e||j>=c){c=j;e=l}}}}if(k&&l.nodeName.toUpperCase()!="SELECT"){a(l)}})};if(dijit._isElementShown(h)){a(h)}return{first:g,last:f,lowest:d,highest:e}};dijit.getFirstInTabbingOrder=function(a){var b=dijit._getTabNavigable(dojo.byId(a));return b.lowest?b.lowest:b.first};dijit.getLastInTabbingOrder=function(b){var a=dijit._getTabNavigable(dojo.byId(b));return a.last?a.last:a.highest};dijit.defaultDuration=dojo.config.defaultDuration||200}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(a){this.pairs=[];this.returnWrappers=a||false};dojo.extend(dojo.AdapterRegistry,{register:function(a,e,d,b,c){this.pairs[((c)?"unshift":"push")]([a,e,d,b])},match:function(){for(var a=0;a<this.pairs.length;a++){var b=this.pairs[a];if(b[1].apply(this,arguments)){if((b[3])||(this.returnWrappers)){return b[2]}else{return b[2].apply(this,arguments)}}}throw new Error("No match found")},unregister:function(c){for(var b=0;b<this.pairs.length;b++){var a=this.pairs[b];if(a[0]==c){this.pairs.splice(b,1);return true}}return false}})}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var b=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var a=dojo._docScroll();return{w:b.clientWidth,h:b.clientHeight,l:a.x,t:a.y}};dijit.placeOnScreen=function(a,e,d,c){var b=dojo.map(d,function(f){var g={corner:f,pos:{x:e.x,y:e.y}};if(c){g.pos.x+=f.charAt(1)=="L"?c.x:-c.x;g.pos.y+=f.charAt(0)=="T"?c.y:-c.y}return g});return dijit._place(a,b)};dijit._place=function(e,a,d){var c=dijit.getViewport();if(!e.parentNode||String(e.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(e)}var b=null;dojo.some(a,function(r){var q=r.corner;var g=r.pos;if(d){d(e,r.aroundCorner,q)}var n=e.style;var k=n.display;var h=n.visibility;n.visibility="hidden";n.display="";var m=dojo.marginBox(e);n.display=k;n.visibility=h;var s=(q.charAt(1)=="L"?g.x:Math.max(c.l,g.x-m.w)),p=(q.charAt(0)=="T"?g.y:Math.max(c.t,g.y-m.h)),o=(q.charAt(1)=="L"?Math.min(c.l+c.w,s+m.w):g.x),l=(q.charAt(0)=="T"?Math.min(c.t+c.h,p+m.h):g.y),j=o-s,i=l-p,f=(m.w-j)+(m.h-i);if(b==null||f<b.overflow){b={corner:q,aroundCorner:r.aroundCorner,x:s,y:p,w:j,h:i,overflow:f}}return !f});e.style.left=b.x+"px";e.style.top=b.y+"px";if(b.overflow&&d){d(e,b.aroundCorner,b.corner)}return b};dijit.placeOnScreenAroundNode=function(a,h,g,f){h=dojo.byId(h);var e=h.style.display;h.style.display="";var d=h.offsetWidth;var c=h.offsetHeight;var b=dojo.coords(h,true);h.style.display=e;return dijit._placeOnScreenAroundRect(a,b.x,b.y,d,c,g,f)};dijit.placeOnScreenAroundRectangle=function(d,c,b,a){return dijit._placeOnScreenAroundRect(d,c.x,c.y,c.width,c.height,b,a)};dijit._placeOnScreenAroundRect=function(g,i,h,f,e,d,c){var b=[];for(var a in d){b.push({aroundCorner:a,corner:d[a],pos:{x:i+(a.charAt(1)=="L"?0:f),y:h+(a.charAt(0)=="T"?0:e)}})}return dijit._place(g,b,c)};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(b,a){return typeof a=="object"&&typeof a.offsetWidth!="undefined"&&typeof a.offsetHeight!="undefined"},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(b,a){return typeof a=="object"&&"x" in a&&"y" in a&&"width" in a&&"height" in a},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(d,c,b,a){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments)}}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(b){if(dojo.isIE&&window!==document.parentWindow&&!b._parentWindow){b.parentWindow.execScript("document._parentWindow = window;","Javascript");var a=b._parentWindow;b._parentWindow=null;return a}return b._parentWindow||b.parentWindow||b.defaultView}}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var c=[],b=1000,a=1;this.prepare=function(d){var e=d.style;e.visibility="hidden";e.position="absolute";e.top="-9999px";if(e.display=="none"){e.display=""}dojo.body().appendChild(d)};this.open=function(l){var j=l.popup,h=l.orient||{BL:"TL",TL:"BL"},f=l.around,e=(l.around&&l.around.id)?(l.around.id+"_dropdown"):("popup_"+a++);var m=dojo.create("div",{id:e,"class":"dijitPopup",style:{zIndex:b+c.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(m,"presentation");m.style.left=m.style.top="0px";if(l.parent){m.dijitPopupParent=l.parent.id}var n=j.domNode.style;n.display="";n.visibility="";n.position="";n.top="0px";m.appendChild(j.domNode);var k=new dijit.BackgroundIframe(m);var i=f?dijit.placeOnScreenAroundElement(m,f,h,j.orient?dojo.hitch(j,"orient"):null):dijit.placeOnScreen(m,l,h=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],l.padding);m.style.visibility="visible";var g=[];var d=function(){for(var o=c.length-1;o>0&&c[o].parent===c[o-1].widget;o--){}return c[o]};g.push(dojo.connect(m,"onkeypress",this,function(o){if(o.charOrCode==dojo.keys.ESCAPE&&l.onCancel){dojo.stopEvent(o);l.onCancel()}else{if(o.charOrCode===dojo.keys.TAB){dojo.stopEvent(o);var p=d();if(p&&p.onCancel){p.onCancel()}}}}));if(j.onCancel){g.push(dojo.connect(j,"onCancel",null,l.onCancel))}g.push(dojo.connect(j,j.onExecute?"onExecute":"onChange",null,function(){var o=d();if(o&&o.onExecute){o.onExecute()}}));c.push({wrapper:m,iframe:k,widget:j,parent:l.parent,onExecute:l.onExecute,onCancel:l.onCancel,onClose:l.onClose,handlers:g});if(j.onOpen){j.onOpen(i)}return i};this.close=function(f){while(dojo.some(c,function(j){return j.widget==f})){var h=c.pop(),i=h.wrapper,g=h.iframe,e=h.widget,d=h.onClose;if(e.onClose){e.onClose()}dojo.forEach(h.handlers,dojo.disconnect);if(!e||!e.domNode){return}this.prepare(e.domNode);g.destroy();dojo.destroy(i);if(d){d()}}}}();dijit._frames=new function(){var a=[];this.pop=function(){var d;if(a.length){d=a.pop();d.style.display=""}else{if(dojo.isIE){var c=dojo.config.dojoBlankHtmlUrl||(dojo.moduleUrl("dojo","resources/blank.html")+"")||'javascript:""';var b="<iframe src='"+c+"' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>";d=dojo.doc.createElement(b)}else{d=dojo.create("iframe");d.src='javascript:""';d.className="dijitBackgroundIframe"}d.tabIndex=-1;dojo.body().appendChild(d)}return d};this.push=function(b){b.style.display="none";if(dojo.isIE){b.style.removeExpression("width");b.style.removeExpression("height")}a.push(b)}}();dijit.BackgroundIframe=function(b){if(!b.id){throw new Error("no id")}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var a=dijit._frames.pop();b.appendChild(a);if(dojo.isIE){a.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+b.id+"').offsetWidth");a.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+b.id+"').offsetHeight")}this.iframe=a}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe}}})}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(x){try{x=dojo.byId(x);var F=dojo.doc;var m=dojo.body();var n=m.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||x==m||x==n)&&(typeof x.scrollIntoView=="function")){x.scrollIntoView(false);return}var C=dojo._isBodyLtr();var A=dojo.isIE>=8&&!z;var h=!C&&!A;var E=m;var z=F.compatMode=="BackCompat";if(z){n._offsetWidth=n._clientWidth=m._offsetWidth=m.clientWidth;n._offsetHeight=n._clientHeight=m._offsetHeight=m.clientHeight}else{if(dojo.isWebKit){m._offsetWidth=m._clientWidth=n.clientWidth;m._offsetHeight=m._clientHeight=n.clientHeight}else{E=n}n._offsetHeight=n.clientHeight;n._offsetWidth=n.clientWidth}function D(G){var H=dojo.isIE;return((H<=6||(H>=7&&z))?false:(dojo.style(G,"position").toLowerCase()=="fixed"))}function B(M){var L=M.parentNode;var K=M.offsetParent;if(K==null||D(M)){K=n;L=(M==m)?n:null}M._offsetParent=K;M._parent=L;var J=dojo._getBorderExtents(M);M._borderStart={H:(A&&!C)?(J.w-J.l):J.l,V:J.t};M._borderSize={H:J.w,V:J.h};M._scrolledAmount={H:M.scrollLeft,V:M.scrollTop};M._offsetSize={H:M._offsetWidth||M.offsetWidth,V:M._offsetHeight||M.offsetHeight};M._offsetStart={H:(A&&!C)?K.clientWidth-M.offsetLeft-M._offsetSize.H:M.offsetLeft,V:M.offsetTop};M._clientSize={H:M._clientWidth||M.clientWidth,V:M._clientHeight||M.clientHeight};if(M!=m&&M!=n&&M!=x){for(var G in M._offsetSize){var I=M._offsetSize[G]-M._clientSize[G]-M._borderSize[G];var H=M._clientSize[G]>0&&I>0;if(H){M._offsetSize[G]-=I;if(dojo.isIE&&h&&G=="H"){M._offsetStart[G]+=I}}}}}var d=x;while(d!=null){if(D(d)){x.scrollIntoView(false);return}B(d);d=d._parent}if(dojo.isIE&&x._parent){var b=x._offsetParent;x._offsetStart.H+=b._borderStart.H;x._offsetStart.V+=b._borderStart.V}if(dojo.isIE>=7&&E==n&&h&&m._offsetStart&&m._offsetStart.H==0){var a=n.scrollWidth-n._offsetSize.H;if(a>0){m._offsetStart.H=-a}}if(dojo.isIE<=6&&!z){n._offsetSize.H+=n._borderSize.H;n._offsetSize.V+=n._borderSize.V}if(h&&m._offsetStart&&E==n&&n._scrolledAmount){var w=m._offsetStart.H;if(w<0){n._scrolledAmount.H+=w;m._offsetStart.H=0}}d=x;while(d){var g=d._parent;if(!g){break}if(g.tagName=="TD"){var f=g._parent._parent._parent;if(g!=d._offsetParent&&g._offsetParent!=d._offsetParent){g=f}}var e=d._offsetParent==g;for(var v in d._offsetStart){var c=v=="H"?"V":"H";if(h&&v=="H"&&(g!=n)&&(g!=m)&&(dojo.isIE||dojo.isWebKit)&&g._clientSize.H>0&&g.scrollWidth>g._clientSize.H){var t=g.scrollWidth-g._clientSize.H;if(t>0){g._scrolledAmount.H-=t}}if(g._offsetParent.tagName=="TABLE"){if(dojo.isIE){g._offsetStart[v]-=g._offsetParent._borderStart[v];g._borderStart[v]=g._borderSize[v]=0}else{g._offsetStart[v]+=g._offsetParent._borderStart[v]}}if(dojo.isIE){g._offsetStart[v]+=g._offsetParent._borderStart[v]}var s=d._offsetStart[v]-g._scrolledAmount[v]-(e?0:g._offsetStart[v])-g._borderStart[v];var r=s+d._offsetSize[v]-g._offsetSize[v]+g._borderSize[v];var q=(v=="H")?"scrollLeft":"scrollTop";var p=v=="H"&&h;var o=p?-r:s;var l=p?-s:r;var k=(o*l<=0)?0:Math[(o<0)?"max":"min"](o,l);if(k!=0){var j=g[q];g[q]+=(p)?-k:k;var i=g[q]-j}if(e){d._offsetStart[v]+=g._offsetStart[v]}d._offsetStart[v]-=g[q]}d._parent=g._parent;d._offsetParent=g._offsetParent}g=x;var u;while(g&&g.removeAttribute){u=g.parentNode;g.removeAttribute("_offsetParent");g.removeAttribute("_parent");g=u}}catch(y){console.error("scrollIntoView: "+y);x.scrollIntoView(false)}}}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var h=dojo,f=h.doc.documentElement,a=h.isIE,j=h.isOpera,e=Math.floor,b=h.isFF,i=h.boxModel.replace(/-/,""),g={dj_ie:a,dj_ie6:e(a)==6,dj_ie7:e(a)==7,dj_iequirks:a&&h.isQuirks,dj_opera:j,dj_opera8:e(j)==8,dj_opera9:e(j)==9,dj_khtml:h.isKhtml,dj_webkit:h.isWebKit,dj_safari:h.isSafari,dj_gecko:h.isMozilla,dj_ff2:e(b)==2,dj_ff3:e(b)==3};g["dj_"+i]=true;for(var c in g){if(g[c]){if(f.className){f.className+=" "+c}else{f.className=c}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){f.className+=" dijitRtl";for(var d in g){if(g[d]){f.className+=" "+d+"-rtl"}}}})})()}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,f,c,b,e,g,d){if(e!=this._obj){this.stop();this._initialDelay=d||500;this._subsequentDelay=g||0.9;this._obj=e;this._evt=a;this._node=c;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(f,b);this._fireEventAndReload()}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null}},addKeyListener:function(f,e,d,b,c,a){if(e.keyCode){e.charOrCode=e.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0")}else{if(e.charCode){e.charOrCode=String.fromCharCode(e.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0")}}return[dojo.connect(f,"onkeypress",this,function(g){if(g.charOrCode==e.charOrCode&&(e.ctrlKey===undefined||e.ctrlKey==g.ctrlKey)&&(e.altKey===undefined||e.altKey==g.ctrlKey)&&(e.shiftKey===undefined||e.shiftKey==g.ctrlKey)){dojo.stopEvent(g);dijit.typematic.trigger(e,d,f,b,e,c,a)}else{if(dijit.typematic._obj==e){dijit.typematic.stop()}}}),dojo.connect(f,"onkeyup",this,function(g){if(dijit.typematic._obj==e){dijit.typematic.stop()}})]},addMouseListener:function(c,a,f,e,d){var b=dojo.connect;return[b(c,"mousedown",this,function(g){dojo.stopEvent(g);dijit.typematic.trigger(g,a,c,f,c,e,d)}),b(c,"mouseup",this,function(g){dojo.stopEvent(g);dijit.typematic.stop()}),b(c,"mouseout",this,function(g){dojo.stopEvent(g);dijit.typematic.stop()}),b(c,"mousemove",this,function(g){dojo.stopEvent(g)}),b(c,"dblclick",this,function(g){dojo.stopEvent(g);if(dojo.isIE){dijit.typematic.trigger(g,a,c,f,c,e,d);setTimeout(dojo.hitch(this,dijit.typematic.stop),50)}})]},addListener:function(f,g,e,d,c,b,a){return this.addKeyListener(g,e,d,c,b,a).concat(this.addMouseListener(f,d,c,b,a))}}}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var d=dojo.create("div",{id:"a11yTestNode",style:{cssText:'border: 1px solid;border-color:red green;position: absolute;height: 5px;top: -999px;background-image: url("'+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+'");'}},dojo.body());var a=dojo.getComputedStyle(d);if(a){var c=a.backgroundImage;var b=(a.borderTopColor==a.borderRightColor)||(c!=null&&(c=="none"||c=="url(invalid-url:)"));dojo[b?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){d.outerHTML=""}else{dojo.body().removeChild(d)}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload)}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(b,c){var a=this.getWaiRole(b);return c?(a.indexOf(c)>-1):(a.length>0)},getWaiRole:function(a){return dojo.trim((dojo.attr(a,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""))},setWaiRole:function(a,e){var d=dojo.attr(a,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(d)){dojo.attr(a,"role",dojo.isFF<3?"wairole:"+e:e)}else{if((" "+d+" ").indexOf(" "+e+" ")<0){var c=dojo.trim(d.replace(this._XhtmlRoles,""));var b=dojo.trim(d.replace(c,""));dojo.attr(a,"role",b+(b?" ":"")+e)}}},removeWaiRole:function(d,e){var c=dojo.attr(d,"role");if(!c){return}if(e){var a=dojo.isFF<3?"wairole:"+e:e;var b=dojo.trim((" "+c+" ").replace(" "+a+" "," "));dojo.attr(d,"role",b)}else{d.removeAttribute("role")}},hasWaiState:function(b,a){if(dojo.isFF<3){return b.hasAttributeNS("http://www.w3.org/2005/07/aaa",a)}return b.hasAttribute?b.hasAttribute("aria-"+a):!!b.getAttribute("aria-"+a)},getWaiState:function(b,a){if(dojo.isFF<3){return b.getAttributeNS("http://www.w3.org/2005/07/aaa",a)}return b.getAttribute("aria-"+a)||""},setWaiState:function(c,b,a){if(dojo.isFF<3){c.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+b,a)}else{c.setAttribute("aria-"+b,a)}},removeWaiState:function(b,a){if(dojo.isFF<3){b.removeAttributeNS("http://www.w3.org/2005/07/aaa",a)}else{b.removeAttribute("aria-"+a)}}})}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base")}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(b,a){if(b&&dojo.isFunction(b._onConnect)){b._onConnect(a)}});dijit._connectOnUseEventHandler=function(a){};(function(){var b={};var a=function(c){if(!b[c]){var g=[];var e;var d=dojo.getObject(c).prototype;for(var f in d){if(dojo.isFunction(d[f])&&(e=f.match(/^_set([a-zA-Z]*)Attr$/))&&e[1]){g.push(e[1].charAt(0).toLowerCase()+e[1].substr(1))}}b[c]=g}return b[c]||[]};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(d,c){this.create(d,c)},create:function(f,e){this.srcNodeRef=dojo.byId(e);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var c in this.attributeMap){delete this._deferredConnects[c]}for(c in this._deferredConnects){if(this[c]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[c]}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id}if(f){this.params=f;dojo.mixin(this,f)}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"))}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;if(d&&d.parentNode){d.parentNode.replaceChild(this.domNode,d)}for(c in this.params){this._onConnect(c)}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id)}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef}this._created=true},_applyAttributes:function(){var d=function(e,f){if((f.params&&e in f.params)||f[e]){f.attr(e,f[e])}};for(var c in this.attributeMap){d(c,this)}dojo.forEach(a(this.declaredClass),function(e){if(!(e in this.attributeMap)){d(e,this)}},this)},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div")},postCreate:function(){},startup:function(){this._started=true},destroyRecursive:function(c){this.destroyDescendants(c);this.destroy(c)},destroy:function(c){this.uninitialize();dojo.forEach(this._connects,function(d){dojo.forEach(d,dojo.disconnect)});dojo.forEach(this._supportingWidgets||[],function(d){if(d.destroy){d.destroy()}});this.destroyRendering(c);dijit.registry.remove(this.id)},destroyRendering:function(c){if(this.bgIframe){this.bgIframe.destroy(c);delete this.bgIframe}if(this.domNode){if(c){dojo.removeAttr(this.domNode,"widgetId")}else{dojo.destroy(this.domNode)}delete this.domNode}if(this.srcNodeRef){if(!c){dojo.destroy(this.srcNodeRef)}delete this.srcNodeRef}},destroyDescendants:function(c){dojo.forEach(this.getChildren(),function(d){if(d.destroyRecursive){d.destroyRecursive(c)}})},uninitialize:function(){return false},onFocus:function(){},onBlur:function(){},_onFocus:function(c){this.onFocus()},_onBlur:function(){this.onBlur()},_onConnect:function(d){if(d in this._deferredConnects){var c=this[this._deferredConnects[d]||"domNode"];this.connect(c,d.toLowerCase(),d);delete this._deferredConnects[d]}},_setClassAttr:function(d){var c=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(c,this["class"]);this["class"]=d;dojo.addClass(c,d)},_setStyleAttr:function(d){var c=this[this.attributeMap.style||"domNode"];if(dojo.isObject(d)){dojo.style(c,d)}else{if(c.style.cssText){c.style.cssText+="; "+d}else{c.style.cssText=d}}this["style"]=d},setAttribute:function(d,c){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(d,c)},_attrToDom:function(c,e){var d=this.attributeMap[c];dojo.forEach(dojo.isArray(d)?d:[d],function(h){var f=this[h.node||h||"domNode"];var g=h.type||"attribute";switch(g){case"attribute":if(dojo.isFunction(e)){e=dojo.hitch(this,e)}if(/^on[A-Z][a-zA-Z]*$/.test(c)){c=c.toLowerCase()}dojo.attr(f,c,e);break;case"innerHTML":f.innerHTML=e;break;case"class":dojo.removeClass(f,this[c]);dojo.addClass(f,e);break}},this);this[c]=e},attr:function(e,g){var d=arguments.length;if(d==1&&!dojo.isString(e)){for(var c in e){this.attr(c,e[c])}return this}var f=this._getAttrNames(e);if(d==2){if(this[f.s]){return this[f.s](g)||this}else{if(e in this.attributeMap){this._attrToDom(e,g)}this[e]=g}return this}else{if(this[f.g]){return this[f.g]()}else{return this[e]}}},_attrPairNames:{},_getAttrNames:function(e){var c=this._attrPairNames;if(c[e]){return c[e]}var d=e.charAt(0).toUpperCase()+e.substr(1);return c[e]={n:e+"Node",s:"_set"+d+"Attr",g:"_get"+d+"Attr"}},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getDescendants:function(){if(this.containerNode){var c=dojo.query("[widgetId]",this.containerNode);return c.map(dijit.byNode)}else{return[]}},getChildren:function(){if(this.containerNode){return dijit.findWidgets(this.containerNode)}else{return[]}},nodesWithKeyClick:["input","button"],connect:function(i,g,e){var j=dojo;var f=dojo.connect;var h=[];if(g=="ondijitclick"){if(!this.nodesWithKeyClick[i.nodeName]){var c=j.hitch(this,e);h.push(f(i,"onkeydown",this,function(d){if(!j.isFF&&d.keyCode==j.keys.ENTER&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}else{if(d.keyCode==j.keys.SPACE){j.stopEvent(d)}}}),f(i,"onkeyup",this,function(d){if(d.keyCode==j.keys.SPACE&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}}));if(j.isFF){h.push(f(i,"onkeypress",this,function(d){if(d.keyCode==j.keys.ENTER&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}}))}}g="onclick"}h.push(f(i,g,this,e));this._connects.push(h);return h},disconnect:function(d){for(var c=0;c<this._connects.length;c++){if(this._connects[c]==d){dojo.forEach(d,dojo.disconnect);this._connects.splice(c,1);return}}},isLeftToRight:function(){return dojo._isBodyLtr()},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none")},placeAt:function(d,c){if(d.declaredClass&&d.addChild){d.addChild(this,c)}else{dojo.place(this.domNode,d,c)}return this}})})()}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(c,b){if(b<=0||!c){return""}var a=[];for(;;){if(b&1){a.push(c)}if(!(b>>=1)){break}c+=c}return a.join("")};dojo.string.pad=function(f,c,d,a){if(!d){d="0"}var b=String(f),e=dojo.string.rep(d,Math.ceil((c-b.length)/d.length));return a?b+e:e+b};dojo.string.substitute=function(b,c,a,d){d=d||dojo.global;a=(!a)?function(e){return e}:dojo.hitch(d,a);return b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(h,e,g){var f=dojo.getObject(e,false,c);if(g){f=dojo.getObject(g,false,d).call(d,f,e)}return a(f,e).toString()})};dojo.string.trim=String.prototype.trim?dojo.trim:function(b){b=b.replace(/^\s+/,"");for(var a=b.length-1;a>=0;a--){if(/\S/.test(b.charAt(a))){b=b.substring(0,a+1);break}}return b}}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(b){var c=this.declaredClass,a=this;return dojo.string.substitute(b,this,function(e,d){if(d.charAt(0)=="!"){e=dojo.getObject(d.substr(1),a)}if(typeof e=="undefined"){throw new Error(c+" template:"+d)}if(e==null){return""}return d.charAt(0)=="!"?e:e.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){var b=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var c;if(dojo.isString(b)){c=dojo._toDom(this._stringRepl(b))}else{c=b.cloneNode(true)}this.domNode=c;this._attachTemplateNodes(c);if(this.widgetsInTemplate){var a=(this._supportingWidgets=dojo.parser.parse(c));this._attachTemplateNodes(a,function(e,d){return e[d]})}this._fillContent(this.srcNodeRef)},_fillContent:function(a){var b=this.containerNode;if(a&&b){while(a.hasChildNodes()){b.appendChild(a.firstChild)}}},_attachTemplateNodes:function(n,l){l=l||function(r,q){return r.getAttribute(q)};var h=dojo.isArray(n)?n:(n.all||n.getElementsByTagName("*"));var p=dojo.isArray(n)?0:-1;for(;p<h.length;p++){var e=(p==-1)?n:h[p];if(this.widgetsInTemplate&&l(e,"dojoType")){continue}var o=l(e,"dojoAttachPoint");if(o){var m,k=o.split(/\s*,\s*/);while((m=k.shift())){if(dojo.isArray(this[m])){this[m].push(e)}else{this[m]=e}}}var i=l(e,"dojoAttachEvent");if(i){var g,f=i.split(/\s*,\s*/);var d=dojo.trim;while((g=f.shift())){if(g){var c=null;if(g.indexOf(":")!=-1){var b=g.split(":");g=d(b[0]);c=d(b[1])}else{g=d(g)}if(!c){c=g}this.connect(e,g,c)}}}var j=l(e,"waiRole");if(j){dijit.setWaiRole(e,j)}var a=l(e,"waiState");if(a){dojo.forEach(a.split(/\s*,\s*/),function(r){if(r.indexOf("-")!=-1){var q=r.split("-");dijit.setWaiState(e,q[0],q[1])}})}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(e,c,b){var f=dijit._Templated._templateCache;var a=c||e;var d=f[a];if(d){if(!d.ownerDocument||d.ownerDocument==dojo.doc){return d}dojo.destroy(d)}if(!c){c=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(e)))}c=dojo.string.trim(c);if(b||c.match(/\$\{([^\}]+)\}/g)){return(f[a]=c)}else{return(f[a]=dojo._toDom(c))}};dijit._Templated._sanitizeTemplateString=function(b){if(b){b=b.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var a=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(a){b=a[1]}}else{b=""}return b};if(dojo.isIE){dojo.addOnWindowUnload(function(){var c=dijit._Templated._templateCache;for(var b in c){var a=c[b];if(!isNaN(a.nodeType)){dojo.destroy(a)}delete c[b]}})}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""})}if(!dojo._hasResource["dojo_widgets.checkout.Checkout"]){dojo._hasResource["dojo_widgets.checkout.Checkout"]=true;dojo.provide("dojo_widgets.checkout.Checkout");dojo.experimental("dojo_widgets.checkout.Checkout");dojo.declare("dojo_widgets.checkout.Checkout",[dijit._Widget,dijit._Templated],{widgetID:null,theId:null,title:null,theDialog:null,content:null,showing:true,loaded:false,form:null,checkout:"normal",action:null,templateString:'<div dojoAttachPoint="CheckoutContainer"><div dojoAttachPoint="CheckoutDialogContainer"></div></div>',postCreate:function(){this.inherited(arguments);if(dojo.byId("checkout.signin")){dojo.connect(dojo.byId("checkout.signin"),"onclick",this,"doSignin")}if(dojo.byId("checkout.secure")){dojo.connect(dojo.byId("checkout.secure"),"onclick",this,"doSecure")}if(dojo.byId("checkout.phone")){dojo.connect(dojo.byId("checkout.phone"),"onclick",this,"doPhone")}if(dojo.byId("checkout.email")){dojo.connect(dojo.byId("checkout.email"),"onclick",this,"doEmail")}if(dojo.byId("checkout.security_code")){dojo.connect(dojo.byId("checkout.security_code"),"onclick",this,"doSecureCode")}if(dojo.byId("checkout.terms")){dojo.connect(dojo.byId("checkout.terms"),"onclick",this,"doTerms")}if(dojo.byId("checkout.secure_bottom")){dojo.connect(dojo.byId("checkout.secure_bottom"),"onclick",this,"doSecure")}if(dojo.byId("checkout.tattoojohnny_set")){dojo.connect(dojo.byId("checkout.tattoojohnny_set"),"onclick",this,"setTattooJohnnyCheckout")}if(dojo.byId("checkout.paypal_set")){dojo.connect(dojo.byId("checkout.paypal_set"),"onclick",this,"setPaypalCheckout")}if(dojo.byId("checkout.paypal_do")){dojo.connect(dojo.byId("checkout.paypal_do"),"onclick",this,"checkoutPaypal")}this.action=dojo.attr(dojo.byId("Download"),"action");if(dojo.byId("user_order_billing_country")){dojo.connect(dojo.byId("user_order_billing_country"),"onchange",this,"swapBillState")}this.swapBillState()},startup:function(){this.inherited(arguments);this.theDialog=new dijit.Dialog({id:"checkoutDialog",title:this.title}),this.CheckoutDialogContainer;var a=this;dojo.connect(this.theDialog,"onLoad",a,a.connectClose)},connectClose:function(){var a=this;dojo.query(".dialog_close",a.theDialog.containerNode).forEach(function(c,b){dojo.connect(c,"onclick",a,a.doClose)})},doClose:function(a){this.theDialog.hide()},doSubmit:function(b){dojo.stopEvent(b);if(this.checkout=="normal"){dojo.attr(dojo.byId("Download"),"action","#");var a=checkForm(thisValidator,"Download");if(a){dojo.byId("SUBMIT_Proceed_to_Download").disabled=true;document.forms.Download.submit()}}else{dojo.attr(dojo.byId("Download"),"action","https://www.paypal.com/cgi-bin/webscr");document.forms.Download.submit()}},doSignin:function(a){dojo.stopEvent(a);this.theDialog.setHref("/services/Login/form/download/"+a.target.getAttribute("sku"));this.theDialog.show()},doSecure:function(a){dojo.stopEvent(a);this.theDialog.setHref("/services/Download/secure");this.theDialog.show()},doPhone:function(a){dojo.stopEvent(a);this.theDialog.setHref("/services/Download/phone");this.theDialog.show()},doEmail:function(a){dojo.stopEvent(a);this.theDialog.setHref("/services/Download/email");this.theDialog.show()},doSecureCode:function(a){dojo.stopEvent(a);this.theDialog.setHref("/services/Download/securecode");this.theDialog.show()},doTerms:function(a){dojo.stopEvent(a);this.theDialog.setHref("/services/Download/terms");dojo.style(this.theDialog.containerNode,{position:"relative"});this.theDialog.show()},setTattooJohnnyCheckout:function(a){this.checkout="normal";dojo.attr(dojo.byId("Download"),"action",this.action)},setPaypalCheckout:function(a){this.checkout="paypal";dojo.attr(dojo.byId("Download"),"action","https://www.paypal.com/cgi-bin/webscr")},checkoutPaypal:function(a){dojo.stopEvent(a);this.setPaypalCheckout(a);this.doSubmit(a)},swapBillState:function(){if(dojo.byId("user_order_billing_country").selectedIndex!=1){dojo.style(dojo.byId("user_order_billing_state_select_div"),"display","none");dojo.style(dojo.byId("user_order_billing_state_text_div"),"display","block")}else{dojo.style(dojo.byId("user_order_billing_state_text_div"),"display","none");dojo.style(dojo.byId("user_order_billing_state_select_div"),"display","block")}},swapShipState:function(){if(dojo.byId("user_order_ship_country").selectedIndex!=1){dojo.style(dojo.byId("user_order_ship_state_select_div"),"display","none");dojo.style(dojo.byId("user_order_ship_state_text_div"),"display","block")}else{dojo.style(dojo.byId("user_order_ship_state_text_div"),"display","none");dojo.style(dojo.byId("user_order_ship_state_select_div"),"display","block")}}})}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(a){return a[dojo.dnd._copyKey]};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var a;do{a=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId)}while(dojo.byId(a));return a};dojo.dnd._empty={};dojo.dnd.isFormElement=function(b){var a=b.target;if(a.nodeType==3){a=a.parentNode}return" button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")>=0};dojo.dnd._lmb=dojo.isIE?1:0;dojo.dnd._isLmbPressed=dojo.isIE?function(a){return a.button&1}:function(a){return a.button===0}}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var f=dojo.doc,c=f.documentElement,e=window,a=dojo.body();if(dojo.isMozilla){return{w:c.clientWidth,h:e.innerHeight}}else{if(!dojo.isOpera&&e.innerWidth){return{w:e.innerWidth,h:e.innerHeight}}else{if(!dojo.isOpera&&c&&c.clientWidth){return{w:c.clientWidth,h:c.clientHeight}}else{if(a.clientWidth){return{w:a.clientWidth,h:a.clientHeight}}}}}return null};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(d){var c=dojo.dnd.getViewport(),b=0,a=0;if(d.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){b=-dojo.dnd.H_AUTOSCROLL_VALUE}else{if(d.clientX>c.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){b=dojo.dnd.H_AUTOSCROLL_VALUE}}if(d.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){a=-dojo.dnd.V_AUTOSCROLL_VALUE}else{if(d.clientY>c.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){a=dojo.dnd.V_AUTOSCROLL_VALUE}}window.scrollBy(b,a)};dojo.dnd._validNodes={div:1,p:1,td:1};dojo.dnd._validOverflow={auto:1,scroll:1};dojo.dnd.autoScrollNodes=function(j){for(var d=j.target;d;){if(d.nodeType==1&&(d.tagName.toLowerCase() in dojo.dnd._validNodes)){var r=dojo.getComputedStyle(d);if(r.overflow.toLowerCase() in dojo.dnd._validOverflow){var k=dojo._getContentBox(d,r),p=dojo._abs(d,true);var m=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,k.w/2),i=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,k.h/2),c=j.pageX-p.x,a=j.pageY-p.y,q=0,o=0;if(dojo.isWebKit||dojo.isOpera){c+=dojo.body().scrollLeft,a+=dojo.body().scrollTop}if(c>0&&c<k.w){if(c<m){q=-m}else{if(c>k.w-m){q=m}}}if(a>0&&a<k.h){if(a<i){o=-i}else{if(a>k.h-i){o=i}}}var g=d.scrollLeft,f=d.scrollTop;d.scrollLeft=d.scrollLeft+q;d.scrollTop=d.scrollTop+o;if(g!=d.scrollLeft||f!=d.scrollTop){return}}}try{d=d.parentNode}catch(l){d=null}}dojo.dnd.autoScroll(j)}}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(f,g,c){this.node=dojo.byId(f);this.marginBox={l:g.pageX,t:g.pageY};this.mouseButton=g.button;var a=this.host=c,i=f.ownerDocument,b=dojo.connect(i,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(i,"onmousemove",this,"onMouseMove"),dojo.connect(i,"onmouseup",this,"onMouseUp"),dojo.connect(i,"ondragstart",dojo.stopEvent),dojo.connect(i.body,"onselectstart",dojo.stopEvent),b];if(a&&a.onMoveStart){a.onMoveStart(this)}},onMouseMove:function(b){dojo.dnd.autoScroll(b);var a=this.marginBox;this.host.onMove(this,{l:a.l+b.pageX,t:a.t+b.pageY});dojo.stopEvent(b)},onMouseUp:function(a){if(dojo.isWebKit&&dojo.dnd._isMac&&this.mouseButton==2?a.button==0:this.mouseButton==a.button){this.destroy()}dojo.stopEvent(a)},onFirstMove:function(){var k=this.node.style,d,j,e=this.host;switch(k.position){case"relative":case"absolute":d=Math.round(parseFloat(k.left));j=Math.round(parseFloat(k.top));break;default:k.position="absolute";var c=dojo.marginBox(this.node);var g=dojo.doc.body;var i=dojo.getComputedStyle(g);var a=dojo._getMarginBox(g,i);var f=dojo._getContentBox(g,i);d=c.l-(f.l-a.l);j=c.t-(f.t-a.t);break}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=j-this.marginBox.t;if(e&&e.onFirstMove){e.onFirstMove(this)}dojo.disconnect(this.events.pop())},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var a=this.host;if(a&&a.onMoveStop){a.onMoveStop(this)}this.events=this.node=this.host=null}})}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(a,b){this.node=dojo.byId(a);if(!b){b={}}this.handle=b.handle?dojo.byId(b.handle):null;if(!this.handle){this.handle=this.node}this.delay=b.delay>0?b.delay:0;this.skip=b.skip;this.mover=b.mover?b.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")]},markupFactory:function(b,a){return new dojo.dnd.Moveable(a,b)},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null},onMouseDown:function(a){if(this.skip&&dojo.dnd.isFormElement(a)){return}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=a.pageX;this._lastY=a.pageY}else{this.onDragDetected(a)}dojo.stopEvent(a)},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay){this.onMouseUp(a);this.onDragDetected(a)}dojo.stopEvent(a)},onMouseUp:function(b){for(var a=0;a<2;++a){dojo.disconnect(this.events.pop())}dojo.stopEvent(b)},onSelectStart:function(a){if(!this.skip||!dojo.dnd.isFormElement(a)){dojo.stopEvent(a)}},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){dojo.publish("/dnd/move/start",[a]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem")},onMoveStop:function(a){dojo.publish("/dnd/move/stop",[a]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem")},onFirstMove:function(a){},onMove:function(b,a){this.onMoving(b,a);var c=b.node.style;c.left=a.l+"px";c.top=a.t+"px";this.onMoved(b,a)},onMoving:function(b,a){},onMoved:function(b,a){}})}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(b,a){return new dojo.dnd.move.constrainedMoveable(a,b)},constructor:function(b,a){if(!a){a={}}this.constraints=a.constraints;this.within=a.within},onFirstMove:function(a){var d=this.constraintBox=this.constraints.call(this,a);d.r=d.l+d.w;d.b=d.t+d.h;if(this.within){var b=dojo.marginBox(a.node);d.r-=b.w;d.b-=b.h}},onMove:function(d,b){var e=this.constraintBox,a=d.node.style;a.left=(b.l<e.l?e.l:e.r<b.l?e.r:b.l)+"px";a.top=(b.t<e.t?e.t:e.b<b.t?e.b:b.t)+"px"}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(a,b){return new dojo.dnd.move.boxConstrainedMoveable(b,a)},constructor:function(c,a){var b=a&&a.box;this.constraints=function(){return b}}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(b,a){return new dojo.dnd.move.parentConstrainedMoveable(a,b)},constructor:function(b,c){var a=c&&c.area;this.constraints=function(){var g=this.node.parentNode,e=dojo.getComputedStyle(g),f=dojo._getMarginBox(g,e);if(a=="margin"){return f}var d=dojo._getMarginExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;if(a=="border"){return f}d=dojo._getBorderExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;if(a=="padding"){return f}d=dojo._getPadExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;return f}}});dojo.dnd.move.constrainedMover=function(a,c){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var b=function(f,g,d){dojo.dnd.Mover.call(this,f,g,d)};dojo.extend(b,dojo.dnd.Mover.prototype);dojo.extend(b,{onMouseMove:function(h){dojo.dnd.autoScroll(h);var d=this.marginBox,i=this.constraintBox,f=d.l+h.pageX,g=d.t+h.pageY;f=f<i.l?i.l:i.r<f?i.r:f;g=g<i.t?i.t:i.b<g?i.b:g;this.host.onMove(this,{l:f,t:g})},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var e=this.constraintBox=a.call(this);e.r=e.l+e.w;e.b=e.t+e.h;if(c){var d=dojo.marginBox(this.node);e.r-=d.w;e.b-=d.h}}});return b};dojo.dnd.move.boxConstrainedMover=function(a,b){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return a},b)};dojo.dnd.move.parentConstrainedMover=function(b,c){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var a=function(){var g=this.node.parentNode,e=dojo.getComputedStyle(g),f=dojo._getMarginBox(g,e);if(b=="margin"){return f}var d=dojo._getMarginExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;if(b=="border"){return f}d=dojo._getBorderExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;if(b=="padding"){return f}d=dojo._getPadExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;return f};return dojo.dnd.move.constrainedMover(a,c)};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var a=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(c,b){if(!b){b={}}if(b.timeout&&typeof b.timeout=="number"&&b.timeout>=0){this.timeout=b.timeout}},markupFactory:function(b,c){return new dojo.dnd.TimedMoveable(c,b)},onMoveStop:function(b){if(b._timer){clearTimeout(b._timer);a.call(this,b,b._leftTop)}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments)},onMove:function(d,b){d._leftTop=b;if(!d._timer){var c=this;d._timer=setTimeout(function(){d._timer=null;a.call(c,d,d._leftTop)},this.timeout)}}})})()}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{constructor:function(a){var b=this;dojo.mixin(b,a);b.node=a.node;b._showArgs=dojo.mixin({},a);b._showArgs.node=b.node;b._showArgs.duration=b.showDuration;b.showAnim=b.showFunc(b._showArgs);b._hideArgs=dojo.mixin({},a);b._hideArgs.node=b.node;b._hideArgs.duration=b.hideDuration;b.hideAnim=b.hideFunc(b._hideArgs);dojo.connect(b.showAnim,"beforeBegin",dojo.hitch(b.hideAnim,"stop",true));dojo.connect(b.hideAnim,"beforeBegin",dojo.hitch(b.showAnim,"stop",true))},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(a){return this.showAnim.play(a||0)},hide:function(a){return this.hideAnim.play(a||0)}})}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var e=dojo,c={_fire:function(d,f){if(this[d]){this[d].apply(this,f||[])}return this}};var b=function(d){this._index=-1;this._animations=d||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;e.forEach(this._animations,function(f){this.duration+=f.duration;if(f.delay){this.duration+=f.delay}},this)};e.extend(b,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){e.disconnect(this._onAnimateCtx);e.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd")}else{this._current=this._animations[++this._index];this._onAnimateCtx=e.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=e.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true)}},play:function(h,f){if(!this._current){this._current=this._animations[this._index=0]}if(!f&&this._current.status()=="playing"){return this}var d=e.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),i=e.connect(this._current,"onBegin",this,function(j){this._fire("onBegin",arguments)}),g=e.connect(this._current,"onPlay",this,function(j){this._fire("onPlay",arguments);e.disconnect(d);e.disconnect(i);e.disconnect(g)});if(this._onAnimateCtx){e.disconnect(this._onAnimateCtx)}this._onAnimateCtx=e.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){e.disconnect(this._onEndCtx)}this._onEndCtx=e.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var d=e.connect(this._current,"onPause",this,function(f){this._fire("onPause",arguments);e.disconnect(d)});this._current.pause()}return this},gotoPercent:function(f,d){this.pause();var g=this.duration*f;this._current=null;e.some(this._animations,function(h){if(h.duration<=g){this._current=h;return true}g-=h.duration;return false});if(this._current){this._current.gotoPercent(g/this._current.duration,d)}return this},stop:function(f){if(this._current){if(f){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true)}this._current=this._animations[this._index]}var d=e.connect(this._current,"onStop",this,function(g){this._fire("onStop",arguments);e.disconnect(d)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){if(this._onAnimateCtx){e.disconnect(this._onAnimateCtx)}if(this._onEndCtx){e.disconnect(this._onEndCtx)}}});e.extend(b,c);dojo.fx.chain=function(d){return new b(d)};var a=function(f){this._animations=f||[];this._connects=[];this._finished=0;this.duration=0;e.forEach(f,function(g){var h=g.duration;if(g.delay){h+=g.delay}if(this.duration<h){this.duration=h}this._connects.push(e.connect(g,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new e._Animation({curve:[0,1],duration:this.duration});var d=this;e.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(g){d._connects.push(e.connect(d._pseudoAnimation,g,function(){d._fire(g,arguments)}))})};e.extend(a,{_doAction:function(f,d){e.forEach(this._animations,function(g){g[f].apply(g,d)});return this},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd")}},_call:function(d,f){var g=this._pseudoAnimation;g[d].apply(g,f)},play:function(f,d){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(g,f){var d=this.duration*g;e.forEach(this._animations,function(h){h.gotoPercent(h.duration<d?1:(d/h.duration),f)});this._call("gotoPercent",arguments);return this},stop:function(d){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){e.forEach(this._connects,dojo.disconnect)}});e.extend(a,c);dojo.fx.combine=function(d){return new a(d)};dojo.fx.wipeIn=function(d){d.node=e.byId(d.node);var g=d.node,f=g.style,i;var h=e.animateProperty(e.mixin({properties:{height:{start:function(){i=f.overflow;f.overflow="hidden";if(f.visibility=="hidden"||f.display=="none"){f.height="1px";f.display="";f.visibility="";return 1}else{var j=e.style(g,"height");return Math.max(j,1)}},end:function(){return g.scrollHeight}}}},d));e.connect(h,"onEnd",function(){f.height="auto";f.overflow=i});return h};dojo.fx.wipeOut=function(d){var g=d.node=e.byId(d.node),f=g.style,i;var h=e.animateProperty(e.mixin({properties:{height:{end:1}}},d));e.connect(h,"beforeBegin",function(){i=f.overflow;f.overflow="hidden";f.display=""});e.connect(h,"onEnd",function(){f.overflow=i;f.height="auto";f.display="none"});return h};dojo.fx.slideTo=function(d){var f=d.node=e.byId(d.node),i=null,h=null;var j=(function(k){return function(){var m=e.getComputedStyle(k);var n=m.position;i=(n=="absolute"?k.offsetTop:parseInt(m.top)||0);h=(n=="absolute"?k.offsetLeft:parseInt(m.left)||0);if(n!="absolute"&&n!="relative"){var l=e.coords(k,true);i=l.y;h=l.x;k.style.position="absolute";k.style.top=i+"px";k.style.left=h+"px"}}})(f);j();var g=e.animateProperty(e.mixin({properties:{top:d.top||0,left:d.left||0}},d));e.connect(g,"beforeBegin",g,j);return g}})()}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{reset:function(){dojo.forEach(this.getDescendants(),function(a){if(a.reset){a.reset()}})},validate:function(){var a=false;return dojo.every(dojo.map(this.getDescendants(),function(c){c._hasBeenBlurred=true;var b=c.disabled||!c.validate||c.validate();if(!b&&!a){dijit.scrollIntoView(c.containerNode||c.domNode);c.focus();a=true}return b}),function(b){return b})},setValues:function(a){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use attr('value', val) instead.","","2.0");return this.attr("value",a)},_setValueAttr:function(d){var c={};dojo.forEach(this.getDescendants(),function(g){if(!g.name){return}var f=c[g.name]||(c[g.name]=[]);f.push(g)});for(var b in c){if(!c.hasOwnProperty(b)){continue}var a=c[b],e=dojo.getObject(b,false,d);if(e===undefined){continue}if(!dojo.isArray(e)){e=[e]}if(typeof a[0].checked=="boolean"){dojo.forEach(a,function(f,g){f.attr("value",dojo.indexOf(e,f.value)!=-1)})}else{if(a[0]._multiValue){a[0].attr("value",e)}else{dojo.forEach(a,function(f,g){f.attr("value",e[g])})}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value")},_getValueAttr:function(){var a={};dojo.forEach(this.getDescendants(),function(e){var b=e.name;if(!b||e.disabled){return}var d=e.attr("value");if(typeof e.checked=="boolean"){if(/Radio/.test(e.declaredClass)){if(d!==false){dojo.setObject(b,d,a)}else{d=dojo.getObject(b,false,a);if(d===undefined){dojo.setObject(b,null,a)}}}else{var c=dojo.getObject(b,false,a);if(!c){c=[];dojo.setObject(b,c,a)}if(d!==false){c.push(d)}}}else{dojo.setObject(b,d,a)}});return a},isValid:function(){this._invalidWidgets=dojo.filter(this.getDescendants(),function(a){return !a.disabled&&a.isValid&&!a.isValid()});return !this._invalidWidgets.length},onValidStateChange:function(a){},_widgetChange:function(a){var b=this._lastValidState;if(!a||this._lastValidState===undefined){b=this.isValid();if(this._lastValidState===undefined){this._lastValidState=b}}else{if(a.isValid){this._invalidWidgets=dojo.filter(this._invalidWidgets||[],function(c){return(c!=a)},this);if(!a.isValid()&&!a.attr("disabled")){this._invalidWidgets.push(a)}b=(this._invalidWidgets.length===0)}}if(b!==this._lastValidState){this._lastValidState=b;this.onValidStateChange(b)}},connectChildren:function(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var b=this;var a=this._changeConnections=[];dojo.forEach(dojo.filter(this.getDescendants(),function(c){return c.validate}),function(c){a.push(b.connect(c,"validate",dojo.hitch(b,"_widgetChange",c)));a.push(b.connect(c,"_setDisabledAttr",dojo.hitch(b,"_widgetChange",c)))});this._widgetChange(null)},startup:function(){this.inherited(arguments);this._changeConnections=[];this.connectChildren()}})}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(a){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.attr("value"))},_getFocusItems:function(b){var a=dijit._getTabNavigable(dojo.byId(b));this._firstFocusItem=a.lowest||a.first||b;this._lastFocusItem=a.last||a.highest||this._firstFocusItem;if(dojo.isMoz&&this._firstFocusItem.tagName.toLowerCase()=="input"&&dojo.attr(this._firstFocusItem,"type").toLowerCase()=="file"){dojo.attr(b,"tabindex","0");this._firstFocusItem=b}}})}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(a){dojo.attr(this.node,"id",a+"_underlay")},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a},postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode)},layout:function(){var b=this.node.style,c=this.domNode.style;c.display="none";var a=dijit.getViewport();c.top=a.t+"px";c.left=a.l+"px";b.width=a.w+"px";b.height=a.h+"px";c.display="block"},show:function(){this.domNode.style.display="block";this.layout();if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="block"}},hide:function(){this.domNode.style.display="none";if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="none"}},uninitialize:function(){if(this.bgIframe){this.bgIframe.destroy()}}})}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){for(var b=this.domNode.parentNode;b;b=b.parentNode){var c=b.getAttribute&&b.getAttribute("widgetId");if(c){var a=dijit.byId(c);return a.isContainer?a:null}}return null},_getSibling:function(a){var b=this.domNode;do{b=b[a+"Sibling"]}while(b&&b.nodeType!=1);if(!b){return null}var c=b.getAttribute("widgetId");return dijit.byId(c)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var a=this.getParent();if(!a||!a.getIndexOfChild){return -1}return a.getIndexOfChild(this)}})}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}},addChild:function(a,d){var c=this.containerNode;if(d&&typeof d=="number"){var b=this.getChildren();if(b&&b.length>=d){c=b[d-1].domNode;d="after"}}dojo.place(a.domNode,c,d);if(this._started&&!a._started){a.startup()}},removeChild:function(b){if(typeof b=="number"&&b>0){b=this.getChildren()[b]}if(!b||!b.domNode){return}var a=b.domNode;a.parentNode.removeChild(a)},_nextElement:function(a){do{a=a.nextSibling}while(a&&a.nodeType!=1);return a},_firstElement:function(a){a=a.firstChild;if(a&&a.nodeType!=1){a=this._nextElement(a)}return a},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode)},hasChildren:function(){return !!this._firstElement(this.containerNode)},destroyDescendants:function(a){dojo.forEach(this.getChildren(),function(b){b.destroyRecursive(a)})},_getSiblingOfChild:function(a,c){var d=a.domNode;var b=(c>0?"nextSibling":"previousSibling");do{d=d[b]}while(d&&(d.nodeType!=1||!dijit.byNode(d)));return d?dijit.byNode(d):null},getIndexOfChild:function(b){var a=this.getChildren();for(var d=0,e;e=a[d];d++){if(e==b){return d}}return -1}})}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass)},startup:function(){if(this._started){return}dojo.forEach(this.getChildren(),function(a){a.startup()});if(!this.getParent||!this.getParent()){this.resize();this._viewport=dijit.getViewport();this.connect(dojo.global,"onresize",function(){var a=dijit.getViewport();if(a.w!=this._viewport.w||a.h!=this._viewport.h){this._viewport=a;this.resize()}})}this.inherited(arguments)},resize:function(a,i){var b=this.domNode;if(a){dojo.marginBox(b,a);if(a.t){b.style.top=a.t+"px"}if(a.l){b.style.left=a.l+"px"}}var h=i||{};dojo.mixin(h,a||{});if(!("h" in h)||!("w" in h)){h=dojo.mixin(dojo.marginBox(b),h)}var d=dojo.getComputedStyle(b);var g=dojo._getMarginExtents(b,d);var c=dojo._getBorderExtents(b,d);var f=(this._borderBox={w:h.w-(g.w+c.w),h:h.h-(g.h+c.h)});var e=dojo._getPadExtents(b,d);this._contentBox={l:dojo._toPixelValue(b,d.paddingLeft),t:dojo._toPixelValue(b,d.paddingTop),w:f.w-e.w,h:f.h-e.h};this.layout()},layout:function(){},_setupChild:function(a){dojo.addClass(a.domNode,this.baseClass+"-child");if(a.baseClass){dojo.addClass(a.domNode,this.baseClass+"-"+a.baseClass)}},addChild:function(b,a){this.inherited(arguments);if(this._started){this._setupChild(b)}},removeChild:function(a){dojo.removeClass(a.domNode,this.baseClass+"-child");if(a.baseClass){dojo.removeClass(a.domNode,this.baseClass+"-"+a.baseClass)}this.inherited(arguments)}});dijit.layout.marginBox2contentBox=function(d,e){var b=dojo.getComputedStyle(d);var c=dojo._getMarginExtents(d,b);var a=dojo._getPadBorderExtents(d,b);return{l:dojo._toPixelValue(d,b.paddingLeft),t:dojo._toPixelValue(d,b.paddingTop),w:e.w-(c.w+a.w),h:e.h-(c.h+a.h)}};(function(){var b=function(c){return c.substring(0,1).toUpperCase()+c.substring(1)};var a=function(c,d){c.resize?c.resize(d):dojo.marginBox(c.domNode,d);dojo.mixin(c,dojo.marginBox(c.domNode));dojo.mixin(c,d)};dijit.layout.layoutChildren=function(e,d,c){d=dojo.mixin({},d);dojo.addClass(e,"dijitLayoutContainer");c=dojo.filter(c,function(f){return f.layoutAlign!="client"}).concat(dojo.filter(c,function(f){return f.layoutAlign=="client"}));dojo.forEach(c,function(g){var i=g.domNode,h=g.layoutAlign;var f=i.style;f.left=d.l+"px";f.top=d.t+"px";f.bottom=f.right="auto";dojo.addClass(i,"dijitAlign"+b(h));if(h=="top"||h=="bottom"){a(g,{w:d.w});d.h-=g.h;if(h=="top"){d.t+=g.h}else{f.top=d.t+d.h+"px"}}else{if(h=="left"||h=="right"){a(g,{h:d.h});d.w-=g.w;if(h=="left"){d.l+=g.w}else{f.left=d.l+d.w+"px"}}else{if(h=="client"){a(g,d)}}}})}})()}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");(function(){var a=0;dojo.html._secureForInnerHtml=function(b){return b.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(f,b,h){if(h){dojo.html._emptyNode(f)}if(typeof b=="string"){var g="",e="",c=0,d=f.nodeName.toLowerCase();switch(d){case"tr":g="<tr>";e="</tr>";c+=1;case"tbody":case"thead":g="<tbody>"+g;e+="</tbody>";c+=1;case"table":g="<table>"+g;e+="</table>";c+=1;break}if(c){var i=f.ownerDocument.createElement("div");i.innerHTML=g+b+e;do{i=i.firstChild}while(--c);dojo.forEach(i.childNodes,function(j){f.appendChild(j.cloneNode(true))})}else{f.innerHTML=b}}else{if(b.nodeType){f.appendChild(b)}else{dojo.forEach(b,function(j){f.appendChild(j.cloneNode(true))})}}return f};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,constructor:function(b,c){dojo.mixin(this,b||{});c=this.node=dojo.byId(this.node||c);if(!this.id){this.id=["Setter",(c)?c.id||c.tagName:"",a++].join("_")}if(!(this.node||c)){new Error(this.declaredClass+": no node provided to "+this.id)}},set:function(b,c){if(undefined!==b){this.content=b}if(c){this._mixin(c)}this.onBegin();this.setContent();this.onEnd();return this.node},setContent:function(){var c=this.node;if(!c){console.error("setContent given no node")}try{c=dojo.html._setNodeContent(c,this.content)}catch(d){var b=this.onContentError(d);try{c.innerHTML=b}catch(d){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+d.message,d)}}this.node=c},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(b){if(b.destroy){b.destroy()}});delete this.parseResults}dojo.html._emptyNode(this.node)},onBegin:function(){var b=this.content;if(dojo.isString(b)){if(this.cleanContent){b=dojo.html._secureForInnerHtml(b)}if(this.extractContent){var c=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(c){b=c[1]}}}this.empty();this.content=b;return this.node},onEnd:function(){if(this.parseContent){this._parse()}return this.node},tearDown:function(){delete this.parseResults;delete this.node;delete this.content},onContentError:function(b){return"Error occured setting content: "+b},_mixin:function(d){var b={},c;for(c in d){if(c in b){continue}this[c]=d[c]}},_parse:function(){var c=this.node;try{this.parseResults=dojo.parser.parse(c,true)}catch(b){this._onError("Content",b,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(b,c,d){var e=this["on"+b+"Error"].call(this,c);if(d){console.error(d,c)}else{if(e){dojo.html._setNodeContent(this.node,e,true)}}}});dojo.html.set=function(d,b,c){if(undefined==b){console.warn("dojo.html.set: no cont argument provided, using empty string");b=""}if(!c){return dojo.html._setNodeContent(d,b,true)}else{var e=new dojo.html._ContentSetter(dojo.mixin(c,{content:b,node:d}));return e.set()}}})()}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(h,f,e){e=dojo.i18n.normalizeLocale(e);var c=e.split("-");var a=[h,"nls",f].join(".");var k=dojo._loadedModules[a];if(k){var j;for(var b=c.length;b>0;b--){var g=c.slice(0,b).join("_");if(k[g]){j=k[g];break}}if(!j){j=k.ROOT}if(j){var d=function(){};d.prototype=j;return new d()}}throw new Error("Bundle not found: "+f+" in "+h+" , locale="+e)};dojo.i18n.normalizeLocale=function(a){var b=a?a.toLowerCase():dojo.locale;if(b=="root"){b="ROOT"}return b};dojo.i18n._requireLocalization=function(q,o,n,l){var j=dojo.i18n.normalizeLocale(n);var g=[q,"nls",o].join(".");var e="";if(l){var c=l.split(",");for(var r=0;r<c.length;r++){if(j.indexOf(c[r])==0){if(c[r].length>e.length){e=c[r]}}}if(!e){e="ROOT"}}var m=l?e:j;var k=dojo._loadedModules[g];var h=null;if(k){if(dojo.config.localizationComplete&&k._built){return}var f=m.replace(/-/g,"_");var d=g+"."+f;h=dojo._loadedModules[d]}if(!h){k=dojo.provide(g);var p=dojo._getModuleSymbols(q);var b=p.concat("nls").join("/");var a;dojo.i18n._searchLocalePath(m,l,function(w){var v=w.replace(/-/g,"_");var u=g+"."+v;var t=false;if(!dojo._loadedModules[u]){dojo.provide(u);var s=[b];if(w!="ROOT"){s.push(w)}s.push(o);var i=s.join("/")+".js";t=dojo._loadPath(i,null,function(z){var y=function(){};y.prototype=a;k[v]=new y();for(var x in z){k[v][x]=z[x]}})}else{t=true}if(t&&k[v]){a=k[v]}else{k[v]=a}if(l){return true}})}if(l&&j!=e){k[j.replace(/-/g,"_")]=k[e.replace(/-/g,"_")]}};(function(){var b=dojo.config.extraLocale;if(b){if(!b instanceof Array){b=[b]}var a=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(d,c,e,f){a(d,c,e,f);if(e){return}for(var g=0;g<b.length;g++){a(d,c,b[g],f)}}}})();dojo.i18n._searchLocalePath=function(g,k,e){g=dojo.i18n.normalizeLocale(g);var d=g.split("-");var c=[];for(var b=d.length;b>0;b--){c.push(d.slice(0,b).join("-"))}c.push(false);if(k){c.reverse()}for(var a=c.length-1;a>=0;a--){var f=c[a]||"ROOT";var h=e(f);if(h){break}}};dojo.i18n._preloadLocalizations=function(e,d){function c(f){f=dojo.i18n.normalizeLocale(f);dojo.i18n._searchLocalePath(f,true,function(h){for(var g=0;g<d.length;g++){if(d[g]==h){dojo.require(e+"_"+h);return true}}return false})}c();var b=dojo.config.extraLocale||[];for(var a=0;a<b.length;a++){c(b[a])}}}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",doLayout:true,ioArgs:{},isContainer:true,postMixInProperties:function(){this.inherited(arguments);var a=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,a);this.errorMessage=dojo.string.substitute(this.errorMessage,a);if(!this.href&&this.srcNodeRef&&this.srcNodeRef.innerHTML){this.isLoaded=true}},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}},postCreate:function(){this.domNode.title="";if(!dijit.hasWaiRole(this.domNode)){dijit.setWaiRole(this.domNode,"group")}dojo.addClass(this.domNode,this.baseClass)},startup:function(){if(this._started){return}if(this.isLoaded){dojo.forEach(this.getChildren(),function(a){a.startup()});if(this.doLayout){this._checkIfSingleChild()}if(!this._singleChild||!dijit._Contained.prototype.getParent.call(this)){this._scheduleLayout()}}this._loadCheck();this.inherited(arguments)},_checkIfSingleChild:function(){var a=dojo.query(">",this.containerNode),c=a.filter(function(d){return dojo.hasAttr(d,"dojoType")||dojo.hasAttr(d,"widgetId")}),b=dojo.filter(c.map(dijit.byNode),function(d){return d&&d.domNode&&d.resize});if(a.length==c.length&&b.length==1){this._singleChild=b[0]}else{delete this._singleChild}},setHref:function(a){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use attr('href', ...) instead.","","2.0");return this.attr("href",a)},_setHrefAttr:function(a){this.cancel();this.href=a;if(this._created&&(this.preload||this._isShown())){return this.refresh()}else{this._hrefChanged=true}},setContent:function(a){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use attr('content', ...) instead.","","2.0");this.attr("content",a)},_setContentAttr:function(a){this.href="";this.cancel();this._setContent(a||"");this._isDownloaded=false},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel()}delete this._xhrDfd},uninitialize:function(){if(this._beingDestroyed){this.cancel()}},destroyRecursive:function(a){if(this._beingDestroyed){return}this._beingDestroyed=true;this.inherited(arguments)},resize:function(b){dojo.marginBox(this.domNode,b);var c=this.containerNode,d=dojo.mixin(dojo.marginBox(c),b||{});var a=(this._contentBox=dijit.layout.marginBox2contentBox(c,d));if(this._singleChild&&this._singleChild.resize){this._singleChild.resize({w:a.w,h:a.h})}},_isShown:function(){if("open" in this){return this.open}else{var a=this.domNode;return(a.style.display!="none")&&(a.style.visibility!="hidden")&&!dojo.hasClass(a,"dijitHidden")}},_onShow:function(){if(this._needLayout){this._layoutChildren()}this._loadCheck();if(this.onShow){this.onShow()}},_loadCheck:function(){if((this.href&&!this._xhrDfd)&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)&&(this.preload||this._isShown())){delete this._hrefChanged;this.refresh()}},refresh:function(){this.cancel();this._setContent(this.onDownloadStart(),true);var b=this;var c={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(c,this.ioArgs)}var a=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(c));a.addCallback(function(d){try{b._isDownloaded=true;b._setContent(d,false);b.onDownloadEnd()}catch(e){b._onError("Content",e)}delete b._xhrDfd;return d});a.addErrback(function(d){if(!a.canceled){b._onError("Download",d)}delete b._xhrDfd;return d})},_onLoadHandler:function(a){this.isLoaded=true;try{this.onLoad(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this.isLoaded=false;try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler()}var a=this._contentSetter;dojo.forEach(this.getChildren(),function(b){if(b.destroyRecursive){b.destroyRecursive()}});if(a){dojo.forEach(a.parseResults,function(b){if(b.destroyRecursive&&b.domNode&&b.domNode.parentNode==dojo.body()){b.destroyRecursive()}});delete a.parseResults}dojo.html._emptyNode(this.containerNode)},_setContent:function(a,d){this.destroyDescendants();delete this._singleChild;var c=this._contentSetter;if(!(c&&c instanceof dojo.html._ContentSetter)){c=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(f){var g=this.onContentError(f);try{this.containerNode.innerHTML=g}catch(f){console.error("Fatal "+this.id+" could not change content due to "+f.message,f)}})})}var b=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad},this._contentSetterParams||{});dojo.mixin(c,b);c.set((dojo.isObject(a)&&a.domNode)?a.domNode:a);delete this._contentSetterParams;if(!d){dojo.forEach(this.getChildren(),function(e){e.startup()});if(this.doLayout){this._checkIfSingleChild()}this._scheduleLayout();this._onLoadHandler(a)}},_onError:function(c,d,b){var a=this["on"+c+"Error"].call(this,d);if(b){console.error(b,d)}else{if(a){this._setContent(a,true)}}},_scheduleLayout:function(){if(this._isShown()){this._layoutChildren()}else{this._needLayout=true}},_layoutChildren:function(){if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else{dojo.forEach(this.getChildren(),function(b){if(b.resize){b.resize()}})}delete this._needLayout},onLoad:function(a){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(a){},onDownloadError:function(a){return this.errorMessage},onDownloadEnd:function(){}})}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:null,templateString:'<div waiRole="presentation">\n\t<div class="dijitTooltipContainer" waiRole="presentation">\n\t\t<div class ="dijitTooltipContents dijitTooltipFocusNode" dojoAttachPoint="containerNode" tabindex="-1" waiRole="dialog"></div>\n\t</div>\n\t<div class="dijitTooltipConnector" waiRole="presentation"></div>\n</div>\n',postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");this.containerNode.title=this.title},orient:function(d,b,a){var e=this._currentOrientClass;if(e){dojo.removeClass(this.domNode,e)}e="dijitTooltipAB"+(a.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(a.charAt(0)=="T"?"Below":"Above");dojo.addClass(this.domNode,e);this._currentOrientClass=e},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);this._onShow();if(this.autofocus){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem)}},_onKey:function(a){var c=a.target;var b=dojo.keys;if(a.charOrCode===b.TAB){this._getFocusItems(this.containerNode)}var d=(this._firstFocusItem==this._lastFocusItem);if(a.charOrCode==b.ESCAPE){this.onCancel();dojo.stopEvent(a)}else{if(c==this._firstFocusItem&&a.shiftKey&&a.charOrCode===b.TAB){if(!d){dijit.focus(this._lastFocusItem)}dojo.stopEvent(a)}else{if(c==this._lastFocusItem&&a.charOrCode===b.TAB&&!a.shiftKey){if(!d){dijit.focus(this._firstFocusItem)}dojo.stopEvent(a)}else{if(a.charOrCode===b.TAB){a.stopPropagation()}}}}}})}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{templateString:null,templateString:'<div class="dijitDialog" tabindex="-1" waiRole="dialog" waiState="labelledby-${id}_title">\n\t<div dojoAttachPoint="titleBar" class="dijitDialogTitleBar">\n\t<span dojoAttachPoint="titleNode" class="dijitDialogTitle" id="${id}_title"></span>\n\t<span dojoAttachPoint="closeButtonNode" class="dijitDialogCloseIcon" dojoAttachEvent="onclick: onCancel, onmouseenter: _onCloseEnter, onmouseleave: _onCloseLeave" title="${buttonCancel}">\n\t\t<span dojoAttachPoint="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}]}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_fixSizes:true,postMixInProperties:function(){var a=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,a);this.inherited(arguments)},postCreate:function(){dojo.style(this.domNode,{visibility:"hidden",position:"absolute",display:"",top:"-9999px"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.inherited(arguments)},_endDrag:function(c){if(c&&c.node&&c.node===this.domNode){var a=dijit.getViewport();var b=c._leftTop||dojo.coords(c.node,true);this._relativePosition={t:b.t-a.t,l:b.l-a.l}}},_setup:function(){var c=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(c,{handle:this.titleBar}):new dojo.dnd.Moveable(c,{handle:this.titleBar,timeout:0});dojo.subscribe("/dnd/move/stop",this,"_endDrag")}else{dojo.addClass(c,"dijitDialogFixed")}var b={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(d){return d+"_underlay"}).join(" ")};var a=dijit._underlay;if(!a){a=dijit._underlay=new dijit.DialogUnderlay(b)}this._fadeIn=dojo.fadeIn({node:c,duration:this.duration,beforeBegin:function(){a.attr(b);a.show()},onEnd:dojo.hitch(this,function(){if(this.autofocus){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem)}})});this._fadeOut=dojo.fadeOut({node:c,duration:this.duration,onEnd:function(){c.style.visibility="hidden";c.style.top="-9999px";dijit._underlay.hide()}})},uninitialize:function(){var a=false;if(this._fadeIn&&this._fadeIn.status()=="playing"){a=true;this._fadeIn.stop()}if(this._fadeOut&&this._fadeOut.status()=="playing"){a=true;this._fadeOut.stop()}if(this.open||a){dijit._underlay.hide()}if(this._moveable){this._moveable.destroy()}},_size:function(){var b=dojo.marginBox(this.domNode);var a=dijit.getViewport();if(b.w>=a.w||b.h>=a.h){dojo.style(this.containerNode,{width:Math.min(b.w,Math.floor(a.w*0.75))+"px",height:Math.min(b.h,Math.floor(a.h*0.75))+"px",overflow:"auto",position:"relative"})}},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var b=this.domNode;var a=dijit.getViewport();var c=this._relativePosition;var d=c?null:dojo.marginBox(b);dojo.style(b,{left:Math.floor(a.l+(c?c.l:(a.w-d.w)/2))+"px",top:Math.floor(a.t+(c?c.t:(a.h-d.h)/2))+"px"})}},_onKey:function(a){if(a.charOrCode){var b=dojo.keys;var d=a.target;if(a.charOrCode===b.TAB){this._getFocusItems(this.domNode)}var c=(this._firstFocusItem==this._lastFocusItem);if(d==this._firstFocusItem&&a.shiftKey&&a.charOrCode===b.TAB){if(!c){dijit.focus(this._lastFocusItem)}dojo.stopEvent(a)}else{if(d==this._lastFocusItem&&a.charOrCode===b.TAB&&!a.shiftKey){if(!c){dijit.focus(this._firstFocusItem)}dojo.stopEvent(a)}else{while(d){if(d==this.domNode){if(a.charOrCode==b.ESCAPE){this.onCancel()}else{return}}d=d.parentNode}if(a.charOrCode!==b.TAB){dojo.stopEvent(a)}else{if(!dojo.isOpera){try{this._firstFocusItem.focus()}catch(f){}}}}}}},show:function(){if(this.open){return}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true}if(this._fadeOut.status()=="playing"){this._fadeOut.stop()}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var a=dijit.getViewport();if(!this._oldViewport||a.h!=this._oldViewport.h||a.w!=this._oldViewport.w){this.layout();this._oldViewport=a}}));this._modalconnects.push(dojo.connect(dojo.doc.documentElement,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,visibility:""});if(this._fixSizes){dojo.style(this.containerNode,{width:"auto",height:"auto"})}this.open=true;this._onShow();this._size();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this)},hide:function(){if(!this._alreadyInitialized){return}if(this._fadeIn.status()=="playing"){this._fadeIn.stop()}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this.refocus){this.connect(this._fadeOut,"onEnd",dojo.hitch(dijit,"focus",this._savedFocus))}if(this._relativePosition){delete this._relativePosition}this.open=false},layout:function(){if(this.domNode.style.visibility!="hidden"){dijit._underlay.layout();this._position()}},destroy:function(){dojo.forEach(this._modalconnects,dojo.disconnect);if(this.refocus&&this.open){setTimeout(dojo.hitch(dijit,"focus",this._savedFocus),25)}this.inherited(arguments)},_onCloseEnter:function(){dojo.addClass(this.closeButtonNode,"dijitDialogCloseIcon-hover")},_onCloseLeave:function(){dojo.removeClass(this.closeButtonNode,"dijitDialogCloseIcon-hover")}})}if(!dojo._hasResource["dojo_widgets.layout.DynamicDialog"]){dojo._hasResource["dojo_widgets.layout.DynamicDialog"]=true;dojo.provide("dojo_widgets.layout.DynamicDialog");dojo.experimental("dojo_widgets.layout.DynamicDialog");dojo.declare("dojo_widgets.layout.DynamicDialog",[dijit._Widget,dijit._Templated],{widgetID:null,theId:null,title:null,theDialog:null,contentHref:null,button:null,loaded:false,templatePath:"/js/dojo/dojo_widgets/layout/resources/DynamicDialog.html",postCreate:function(){this.inherited(arguments);this.widgetID=this.id;this.theDialog=new dijit.Dialog({id:this.theId,title:this.title}),this.DojoBannerCanvas},startup:function(){this.inherited(arguments)},init:function(){var a=this.theDialog;dojo.xhrGet({url:this.contentHref,handle:function(c,b){if(typeof c=="error"){console.warn("error!",b)}else{a.setContent(c);dojo.parser.parse(a);this.loaded=true}}});return true},showBanner:function(a){this.theDialog.href=this.contentHref;this.theDialog.show()},hideBanner:function(a){alert("shnay")}})}dojo.provide("dojo.nls.tattoojohnny_en");dojo.provide("dijit.nls.loading");dijit.nls.loading._built=true;dojo.provide("dijit.nls.loading.en");dijit.nls.loading.en={loadingState:"Loading...",errorState:"Sorry, an error occurred"};dojo.provide("dijit.form.nls.validate");dijit.form.nls.validate._built=true;dojo.provide("dijit.form.nls.validate.en");dijit.form.nls.validate.en={rangeMessage:"This value is out of range.",invalidMessage:"The value entered is not valid.",missingMessage:"This value is required."};dojo.provide("dijit.form.nls.ComboBox");dijit.form.nls.ComboBox._built=true;dojo.provide("dijit.form.nls.ComboBox.en");dijit.form.nls.ComboBox.en={previousMessage:"Previous choices",nextMessage:"More choices"};dojo.provide("dijit.nls.common");dijit.nls.common._built=true;dojo.provide("dijit.nls.common.en");dijit.nls.common.en={buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"};dojo.provide("dijit.nls.common");dijit.nls.common._built=true;dojo.provide("dijit.nls.common.en");dijit.nls.common.en={buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"};dojo.provide("dijit.nls.common");dijit.nls.common._built=true;dojo.provide("dijit.nls.common.en");dijit.nls.common.en={buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"};dojo.require("dojo.parser");dojo.require("dojo_widgets.checkout.Checkout");dojo.addOnLoad(function(){dojo.parser.parse()});function setAction(c,e){var b=c.form;var a=b.elements.styroaction;if(!a||a=="undefined"){var d=document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("name","styroaction");d.setAttribute("value",e);b.appendChild(d)}else{a.value=e}}function showAMemberForm(){var a=document.getElementById("replaceform");if(a.style.display=="block"){a.style.display="none"}else{a.style.display="block"}};