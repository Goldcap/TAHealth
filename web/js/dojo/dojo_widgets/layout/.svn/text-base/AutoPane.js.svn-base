/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojo_widgets.layout.AutoPane"]){dojo._hasResource["dojo_widgets.layout.AutoPane"]=true;dojo.provide("dojo_widgets.layout.AutoPane");dojo.require("dijit.layout.ContentPane");dojo.declare("dojo_widgets.layout.AutoPane",[dijit.layout.ContentPane],{pageSize:null,autoSize:true,autoSizeNodes:false,sizeOnLoad:false,onRefresh:false,onRefreshArgs:null,constructor:function(_1){dojo.mixin(this,_1);},_setContent:function(){this.inherited(arguments);if(this.autoSize){this._autoSize();}if(this.onRefresh!==false){this.onRefresh(this,this.onRefreshArgs);}},_autoSize:function(){var _2=new Array();if(!this.autoSizeNodes){this.autoSizeNodes="> div";}var _3=0;var _4=0;dojo.query(this.autoSizeNodes,this.domNode).forEach(function(_5){_3+=(dojo.marginBox(_5).h>0)?dojo.marginBox(_5).h:0;if(_5.style){_5.style.border="1px solid transparent";}});var _6=Math.max(dojo.marginBox(this.domNode).h,_3+dojo._getPadExtents(this.domNode).h+dojo._getMarginExtents(this.domNode).h);dojo.marginBox(this.domNode,{h:_6});this._setPageHeight();},_sizeOnLoad:function(){var _7=(dojo.marginBox(this.domNode).h>0)?dojo.marginBox(this.domNode).h:0;var _8=_7+dojo._getPadExtents(this.domNode).h+dojo._getMarginExtents(this.domNode).h;if(this.titleBarNode){_8+=dojo.marginBox(this.titleBarNode).h;}dojo.marginBox(this.domNode,{h:_8});this._setPageHeight();},_setPageHeight:function(){this._pollPageSize();dojo.style(dojo.byId("page"),"height",this.pageSize.h+"px");},_pollPageSize:function(){if(window.innerHeight&&window.scrollMaxY){yWithScroll=window.innerHeight+window.scrollMaxY;xWithScroll=window.innerWidth+window.scrollMaxX;}else{if(document.body.scrollHeight>document.body.offsetHeight){yWithScroll=document.body.scrollHeight;xWithScroll=document.body.scrollWidth;}else{yWithScroll=document.body.offsetHeight;xWithScroll=document.body.offsetWidth;}}this.pageSize={w:xWithScroll,h:yWithScroll};},postCreate:function(){this.inherited(arguments);if(this.sizeOnLoad){this._sizeOnLoad();}}});}